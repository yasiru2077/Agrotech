function $A(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var HA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rE={exports:{}},eh={},iE={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),qA=Symbol.for("react.portal"),GA=Symbol.for("react.fragment"),KA=Symbol.for("react.strict_mode"),ZA=Symbol.for("react.profiler"),QA=Symbol.for("react.provider"),XA=Symbol.for("react.context"),YA=Symbol.for("react.forward_ref"),JA=Symbol.for("react.suspense"),eR=Symbol.for("react.memo"),tR=Symbol.for("react.lazy"),tv=Symbol.iterator;function nR(t){return t===null||typeof t!="object"?null:(t=tv&&t[tv]||t["@@iterator"],typeof t=="function"?t:null)}var sE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oE=Object.assign,aE={};function ao(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||sE}ao.prototype.isReactComponent={};ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lE(){}lE.prototype=ao.prototype;function Im(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||sE}var Sm=Im.prototype=new lE;Sm.constructor=Im;oE(Sm,ao.prototype);Sm.isPureReactComponent=!0;var nv=Array.isArray,uE=Object.prototype.hasOwnProperty,xm={current:null},cE={key:!0,ref:!0,__self:!0,__source:!0};function hE(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)uE.call(e,r)&&!cE.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];i.children=h}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:ll,type:t,key:o,ref:a,props:i,_owner:xm.current}}function rR(t,e){return{$$typeof:ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ll}function iR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rv=/\/+/g;function jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iR(""+t.key):e.toString(36)}function Lu(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ll:case qA:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+jd(a,0):r,nv(i)?(n="",t!=null&&(n=t.replace(rv,"$&/")+"/"),Lu(i,e,n,"",function(f){return f})):i!=null&&(Pm(i)&&(i=rR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(rv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",nv(t))for(var c=0;c<t.length;c++){o=t[c];var h=r+jd(o,c);a+=Lu(o,e,n,h,i)}else if(h=nR(t),typeof h=="function")for(t=h.call(t),c=0;!(o=t.next()).done;)o=o.value,h=r+jd(o,c++),a+=Lu(o,e,n,h,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function iu(t,e,n){if(t==null)return t;var r=[],i=0;return Lu(t,r,"","",function(o){return e.call(n,o,i++)}),r}function sR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Ou={transition:null},oR={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Ou,ReactCurrentOwner:xm};he.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!Pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=ao;he.Fragment=GA;he.Profiler=ZA;he.PureComponent=Im;he.StrictMode=KA;he.Suspense=JA;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oR;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oE({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=xm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)uE.call(e,h)&&!cE.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];r.children=c}return{$$typeof:ll,type:t.type,key:i,ref:o,props:r,_owner:a}};he.createContext=function(t){return t={$$typeof:XA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QA,_context:t},t.Consumer=t};he.createElement=hE;he.createFactory=function(t){var e=hE.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:YA,render:t}};he.isValidElement=Pm;he.lazy=function(t){return{$$typeof:tR,_payload:{_status:-1,_result:t},_init:sR}};he.memo=function(t,e){return{$$typeof:eR,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Ou.transition;Ou.transition={};try{t()}finally{Ou.transition=e}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(t,e){return Vt.current.useCallback(t,e)};he.useContext=function(t){return Vt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Vt.current.useEffect(t,e)};he.useId=function(){return Vt.current.useId()};he.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Vt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};he.useRef=function(t){return Vt.current.useRef(t)};he.useState=function(t){return Vt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Vt.current.useTransition()};he.version="18.2.0";iE.exports=he;var F=iE.exports;const dE=WA(F),aR=$A({__proto__:null,default:dE},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR=F,uR=Symbol.for("react.element"),cR=Symbol.for("react.fragment"),hR=Object.prototype.hasOwnProperty,dR=lR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fR={key:!0,ref:!0,__self:!0,__source:!0};function fE(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)hR.call(e,r)&&!fR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uR,type:t,key:o,ref:a,props:i,_owner:dR.current}}eh.Fragment=cR;eh.jsx=fE;eh.jsxs=fE;rE.exports=eh;var v=rE.exports,$f={},pE={exports:{}},en={},mE={exports:{}},gE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,ne){var B=N.length;N.push(ne);e:for(;0<B;){var ee=B-1>>>1,_e=N[ee];if(0<i(_e,ne))N[ee]=ne,N[B]=_e,B=ee;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var ne=N[0],B=N.pop();if(B!==ne){N[0]=B;e:for(var ee=0,_e=N.length,et=_e>>>1;ee<et;){var Se=2*(ee+1)-1,ve=N[Se],se=Se+1,Ft=N[se];if(0>i(ve,B))se<_e&&0>i(Ft,ve)?(N[ee]=Ft,N[se]=B,ee=se):(N[ee]=ve,N[Se]=B,ee=Se);else if(se<_e&&0>i(Ft,B))N[ee]=Ft,N[se]=B,ee=se;else break e}}return ne}function i(N,ne){var B=N.sortIndex-ne.sortIndex;return B!==0?B:N.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var h=[],f=[],p=1,g=null,y=3,I=!1,E=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(N){for(var ne=n(f);ne!==null;){if(ne.callback===null)r(f);else if(ne.startTime<=N)r(f),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(f)}}function C(N){if(x=!1,P(N),!E)if(n(h)!==null)E=!0,ht(U);else{var ne=n(f);ne!==null&&Jn(C,ne.startTime-N)}}function U(N,ne){E=!1,x&&(x=!1,T(q),q=-1),I=!0;var B=y;try{for(P(ne),g=n(h);g!==null&&(!(g.expirationTime>ne)||N&&!xe());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,y=g.priorityLevel;var _e=ee(g.expirationTime<=ne);ne=t.unstable_now(),typeof _e=="function"?g.callback=_e:g===n(h)&&r(h),P(ne)}else r(h);g=n(h)}if(g!==null)var et=!0;else{var Se=n(f);Se!==null&&Jn(C,Se.startTime-ne),et=!1}return et}finally{g=null,y=B,I=!1}}var j=!1,$=null,q=-1,de=5,ie=-1;function xe(){return!(t.unstable_now()-ie<de)}function it(){if($!==null){var N=t.unstable_now();ie=N;var ne=!0;try{ne=$(!0,N)}finally{ne?mi():(j=!1,$=null)}}else j=!1}var mi;if(typeof w=="function")mi=function(){w(it)};else if(typeof MessageChannel<"u"){var nn=new MessageChannel,od=nn.port2;nn.port1.onmessage=it,mi=function(){od.postMessage(null)}}else mi=function(){k(it,0)};function ht(N){$=N,j||(j=!0,mi())}function Jn(N,ne){q=k(function(){N(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){E||I||(E=!0,ht(U))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(N){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var B=y;y=ne;try{return N()}finally{y=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,ne){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=y;y=N;try{return ne()}finally{y=B}},t.unstable_scheduleCallback=function(N,ne,B){var ee=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,N){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=B+_e,N={id:p++,callback:ne,priorityLevel:N,startTime:B,expirationTime:_e,sortIndex:-1},B>ee?(N.sortIndex=B,e(f,N),n(h)===null&&N===n(f)&&(x?(T(q),q=-1):x=!0,Jn(C,B-ee))):(N.sortIndex=_e,e(h,N),E||I||(E=!0,ht(U))),N},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(N){var ne=y;return function(){var B=y;y=ne;try{return N.apply(this,arguments)}finally{y=B}}}})(gE);mE.exports=gE;var pR=mE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E=F,Yt=pR;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yE=new Set,xa={};function Ki(t,e){$s(t,e),$s(t+"Capture",e)}function $s(t,e){for(xa[t]=e,t=0;t<e.length;t++)yE.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hf=Object.prototype.hasOwnProperty,mR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iv={},sv={};function gR(t){return Hf.call(sv,t)?!0:Hf.call(iv,t)?!1:mR.test(t)?sv[t]=!0:(iv[t]=!0,!1)}function _R(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yR(t,e,n,r){if(e===null||typeof e>"u"||_R(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function Rm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Am,Rm);yt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Am,Rm);yt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Am,Rm);yt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function km(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yR(e,n,i,r)&&(n=null),r||i===null?gR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=_E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),vE=Symbol.for("react.provider"),wE=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Nm=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),EE=Symbol.for("react.offscreen"),ov=Symbol.iterator;function Fo(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,zd;function Yo(t){if(zd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zd=e&&e[1]||""}return`
`+zd+t}var $d=!1;function Hd(t,e){if(!t||$d)return"";$d=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,c=o.length-1;1<=a&&0<=c&&i[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==o[c]){var h=`
`+i[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=c);break}}}finally{$d=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yo(t):""}function vR(t){switch(t.tag){case 5:return Yo(t.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return t=Hd(t.type,!1),t;case 11:return t=Hd(t.type.render,!1),t;case 1:return t=Hd(t.type,!0),t;default:return""}}function Kf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case ys:return"Portal";case Wf:return"Profiler";case Cm:return"StrictMode";case qf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wE:return(t.displayName||"Context")+".Consumer";case vE:return(t._context.displayName||"Context")+".Provider";case bm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nm:return e=t.displayName||null,e!==null?e:Kf(t.type)||"Memo";case Cr:e=t._payload,t=t._init;try{return Kf(t(e))}catch{}}return null}function wR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kf(e);case 8:return e===Cm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ER(t){var e=TE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=ER(t))}function IE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zf(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function av(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SE(t,e){e=e.checked,e!=null&&km(t,"checked",e,!1)}function Qf(t,e){SE(t,e);var n=ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xf(t,e.type,ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xf(t,e,n){(e!=="number"||nc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function Ns(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ni(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(Jo(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ni(n)}}function xE(t,e){var n=ni(e.value),r=ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var au,AE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var la={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TR=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(t){TR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),la[e]=la[t]})});function RE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||la.hasOwnProperty(t)&&la[t]?(""+e).trim():e+"px"}function kE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var IR=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ep(t,e){if(e){if(IR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function tp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=null;function Lm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rp=null,Ls=null,Os=null;function hv(t){if(t=hl(t)){if(typeof rp!="function")throw Error(V(280));var e=t.stateNode;e&&(e=sh(e),rp(t.stateNode,t.type,e))}}function CE(t){Ls?Os?Os.push(t):Os=[t]:Ls=t}function bE(){if(Ls){var t=Ls,e=Os;if(Os=Ls=null,hv(t),e)for(t=0;t<e.length;t++)hv(e[t])}}function NE(t,e){return t(e)}function LE(){}var Wd=!1;function OE(t,e,n){if(Wd)return t(e,n);Wd=!0;try{return NE(t,e,n)}finally{Wd=!1,(Ls!==null||Os!==null)&&(LE(),bE())}}function Aa(t,e){var n=t.stateNode;if(n===null)return null;var r=sh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var ip=!1;if(mr)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){ip=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{ip=!1}function SR(t,e,n,r,i,o,a,c,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var ua=!1,rc=null,ic=!1,sp=null,xR={onError:function(t){ua=!0,rc=t}};function PR(t,e,n,r,i,o,a,c,h){ua=!1,rc=null,SR.apply(xR,arguments)}function AR(t,e,n,r,i,o,a,c,h){if(PR.apply(this,arguments),ua){if(ua){var f=rc;ua=!1,rc=null}else throw Error(V(198));ic||(ic=!0,sp=f)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dv(t){if(Zi(t)!==t)throw Error(V(188))}function RR(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return dv(i),t;if(o===r)return dv(i),e;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function ME(t){return t=RR(t),t!==null?VE(t):null}function VE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VE(t);if(e!==null)return e;t=t.sibling}return null}var UE=Yt.unstable_scheduleCallback,fv=Yt.unstable_cancelCallback,kR=Yt.unstable_shouldYield,CR=Yt.unstable_requestPaint,He=Yt.unstable_now,bR=Yt.unstable_getCurrentPriorityLevel,Om=Yt.unstable_ImmediatePriority,FE=Yt.unstable_UserBlockingPriority,sc=Yt.unstable_NormalPriority,NR=Yt.unstable_LowPriority,BE=Yt.unstable_IdlePriority,th=null,jn=null;function LR(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(th,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:MR,OR=Math.log,DR=Math.LN2;function MR(t){return t>>>=0,t===0?32:31-(OR(t)/DR|0)|0}var lu=64,uu=4194304;function ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=ea(c):(o&=a,o!==0&&(r=ea(o)))}else a=n&~i,a!==0?r=ea(a):o!==0&&(r=ea(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function VR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-In(o),c=1<<a,h=i[a];h===-1?(!(c&n)||c&r)&&(i[a]=VR(c,e)):h<=e&&(t.expiredLanes|=c),o&=~c}}function op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jE(){var t=lu;return lu<<=1,!(lu&4194240)&&(lu=64),t}function qd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function FR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-In(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Dm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function zE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $E,Mm,HE,WE,qE,ap=!1,cu=[],$r=null,Hr=null,Wr=null,Ra=new Map,ka=new Map,Nr=[],BR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(t,e){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(e.pointerId)}}function jo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=hl(e),e!==null&&Mm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jR(t,e,n,r,i){switch(e){case"focusin":return $r=jo($r,t,e,n,r,i),!0;case"dragenter":return Hr=jo(Hr,t,e,n,r,i),!0;case"mouseover":return Wr=jo(Wr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ra.set(o,jo(Ra.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ka.set(o,jo(ka.get(o)||null,t,e,n,r,i)),!0}return!1}function GE(t){var e=Si(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=DE(n),e!==null){t.blockedOn=e,qE(t.priority,function(){HE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);np=r,n.target.dispatchEvent(r),np=null}else return e=hl(n),e!==null&&Mm(e),t.blockedOn=n,!1;e.shift()}return!0}function mv(t,e,n){Du(t)&&n.delete(e)}function zR(){ap=!1,$r!==null&&Du($r)&&($r=null),Hr!==null&&Du(Hr)&&(Hr=null),Wr!==null&&Du(Wr)&&(Wr=null),Ra.forEach(mv),ka.forEach(mv)}function zo(t,e){t.blockedOn===e&&(t.blockedOn=null,ap||(ap=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,zR)))}function Ca(t){function e(i){return zo(i,t)}if(0<cu.length){zo(cu[0],t);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for($r!==null&&zo($r,t),Hr!==null&&zo(Hr,t),Wr!==null&&zo(Wr,t),Ra.forEach(e),ka.forEach(e),n=0;n<Nr.length;n++)r=Nr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&Nr.shift()}var Ds=Ir.ReactCurrentBatchConfig,ac=!0;function $R(t,e,n,r){var i=Te,o=Ds.transition;Ds.transition=null;try{Te=1,Vm(t,e,n,r)}finally{Te=i,Ds.transition=o}}function HR(t,e,n,r){var i=Te,o=Ds.transition;Ds.transition=null;try{Te=4,Vm(t,e,n,r)}finally{Te=i,Ds.transition=o}}function Vm(t,e,n,r){if(ac){var i=lp(t,e,n,r);if(i===null)nf(t,e,r,lc,n),pv(t,r);else if(jR(i,t,e,n,r))r.stopPropagation();else if(pv(t,r),e&4&&-1<BR.indexOf(t)){for(;i!==null;){var o=hl(i);if(o!==null&&$E(o),o=lp(t,e,n,r),o===null&&nf(t,e,r,lc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else nf(t,e,r,null,n)}}var lc=null;function lp(t,e,n,r){if(lc=null,t=Lm(r),t=Si(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lc=t,null}function KE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bR()){case Om:return 1;case FE:return 4;case sc:case NR:return 16;case BE:return 536870912;default:return 16}default:return 16}}var Fr=null,Um=null,Mu=null;function ZE(){if(Mu)return Mu;var t,e=Um,n=e.length,r,i="value"in Fr?Fr.value:Fr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Mu=i.slice(t,1<r?1-r:void 0)}function Vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function gv(){return!1}function tn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hu:gv,this.isPropagationStopped=gv,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fm=tn(lo),cl=Ue({},lo,{view:0,detail:0}),WR=tn(cl),Gd,Kd,$o,nh=Ue({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(Gd=t.screenX-$o.screenX,Kd=t.screenY-$o.screenY):Kd=Gd=0,$o=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:Kd}}),_v=tn(nh),qR=Ue({},nh,{dataTransfer:0}),GR=tn(qR),KR=Ue({},cl,{relatedTarget:0}),Zd=tn(KR),ZR=Ue({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),QR=tn(ZR),XR=Ue({},lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YR=tn(XR),JR=Ue({},lo,{data:0}),yv=tn(JR),ek={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nk[t])?!!e[t]:!1}function Bm(){return rk}var ik=Ue({},cl,{key:function(t){if(t.key){var e=ek[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bm,charCode:function(t){return t.type==="keypress"?Vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sk=tn(ik),ok=Ue({},nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vv=tn(ok),ak=Ue({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bm}),lk=tn(ak),uk=Ue({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ck=tn(uk),hk=Ue({},nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dk=tn(hk),fk=[9,13,27,32],jm=mr&&"CompositionEvent"in window,ca=null;mr&&"documentMode"in document&&(ca=document.documentMode);var pk=mr&&"TextEvent"in window&&!ca,QE=mr&&(!jm||ca&&8<ca&&11>=ca),wv=String.fromCharCode(32),Ev=!1;function XE(t,e){switch(t){case"keyup":return fk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function mk(t,e){switch(t){case"compositionend":return YE(e);case"keypress":return e.which!==32?null:(Ev=!0,wv);case"textInput":return t=e.data,t===wv&&Ev?null:t;default:return null}}function gk(t,e){if(ws)return t==="compositionend"||!jm&&XE(t,e)?(t=ZE(),Mu=Um=Fr=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QE&&e.locale!=="ko"?null:e.data;default:return null}}var _k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_k[t.type]:e==="textarea"}function JE(t,e,n,r){CE(r),e=uc(e,"onChange"),0<e.length&&(n=new Fm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ha=null,ba=null;function yk(t){cT(t,0)}function rh(t){var e=Is(t);if(IE(e))return t}function vk(t,e){if(t==="change")return e}var eT=!1;if(mr){var Qd;if(mr){var Xd="oninput"in document;if(!Xd){var Iv=document.createElement("div");Iv.setAttribute("oninput","return;"),Xd=typeof Iv.oninput=="function"}Qd=Xd}else Qd=!1;eT=Qd&&(!document.documentMode||9<document.documentMode)}function Sv(){ha&&(ha.detachEvent("onpropertychange",tT),ba=ha=null)}function tT(t){if(t.propertyName==="value"&&rh(ba)){var e=[];JE(e,ba,t,Lm(t)),OE(yk,e)}}function wk(t,e,n){t==="focusin"?(Sv(),ha=e,ba=n,ha.attachEvent("onpropertychange",tT)):t==="focusout"&&Sv()}function Ek(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rh(ba)}function Tk(t,e){if(t==="click")return rh(e)}function Ik(t,e){if(t==="input"||t==="change")return rh(e)}function Sk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:Sk;function Na(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hf.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pv(t,e){var n=xv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xv(n)}}function nT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rT(){for(var t=window,e=nc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nc(t.document)}return e}function zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xk(t){var e=rT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nT(n.ownerDocument.documentElement,n)){if(r!==null&&zm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Pv(n,o);var a=Pv(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pk=mr&&"documentMode"in document&&11>=document.documentMode,Es=null,up=null,da=null,cp=!1;function Av(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cp||Es==null||Es!==nc(r)||(r=Es,"selectionStart"in r&&zm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),da&&Na(da,r)||(da=r,r=uc(up,"onSelect"),0<r.length&&(e=new Fm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Es)))}function du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},Yd={},iT={};mr&&(iT=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function ih(t){if(Yd[t])return Yd[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iT)return Yd[t]=e[n];return t}var sT=ih("animationend"),oT=ih("animationiteration"),aT=ih("animationstart"),lT=ih("transitionend"),uT=new Map,Rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){uT.set(t,e),Ki(e,[t])}for(var Jd=0;Jd<Rv.length;Jd++){var ef=Rv[Jd],Ak=ef.toLowerCase(),Rk=ef[0].toUpperCase()+ef.slice(1);li(Ak,"on"+Rk)}li(sT,"onAnimationEnd");li(oT,"onAnimationIteration");li(aT,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(lT,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function kv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AR(r,e,void 0,t),t.currentTarget=null}function cT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==o&&i.isPropagationStopped())break e;kv(i,c,f),o=h}else for(a=0;a<r.length;a++){if(c=r[a],h=c.instance,f=c.currentTarget,c=c.listener,h!==o&&i.isPropagationStopped())break e;kv(i,c,f),o=h}}}if(ic)throw t=sp,ic=!1,sp=null,t}function Re(t,e){var n=e[mp];n===void 0&&(n=e[mp]=new Set);var r=t+"__bubble";n.has(r)||(hT(e,t,2,!1),n.add(r))}function tf(t,e,n){var r=0;e&&(r|=4),hT(n,t,r,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function La(t){if(!t[fu]){t[fu]=!0,yE.forEach(function(n){n!=="selectionchange"&&(kk.has(n)||tf(n,!1,t),tf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,tf("selectionchange",!1,e))}}function hT(t,e,n,r){switch(KE(e)){case 1:var i=$R;break;case 4:i=HR;break;default:i=Vm}n=i.bind(null,e,n,t),i=void 0,!ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nf(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Si(c),a===null)return;if(h=a.tag,h===5||h===6){r=o=a;continue e}c=c.parentNode}}r=r.return}OE(function(){var f=o,p=Lm(n),g=[];e:{var y=uT.get(t);if(y!==void 0){var I=Fm,E=t;switch(t){case"keypress":if(Vu(n)===0)break e;case"keydown":case"keyup":I=sk;break;case"focusin":E="focus",I=Zd;break;case"focusout":E="blur",I=Zd;break;case"beforeblur":case"afterblur":I=Zd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=_v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=GR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=lk;break;case sT:case oT:case aT:I=QR;break;case lT:I=ck;break;case"scroll":I=WR;break;case"wheel":I=dk;break;case"copy":case"cut":case"paste":I=YR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=vv}var x=(e&4)!==0,k=!x&&t==="scroll",T=x?y!==null?y+"Capture":null:y;x=[];for(var w=f,P;w!==null;){P=w;var C=P.stateNode;if(P.tag===5&&C!==null&&(P=C,T!==null&&(C=Aa(w,T),C!=null&&x.push(Oa(w,C,P)))),k)break;w=w.return}0<x.length&&(y=new I(y,E,null,n,p),g.push({event:y,listeners:x}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",y&&n!==np&&(E=n.relatedTarget||n.fromElement)&&(Si(E)||E[gr]))break e;if((I||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,I?(E=n.relatedTarget||n.toElement,I=f,E=E?Si(E):null,E!==null&&(k=Zi(E),E!==k||E.tag!==5&&E.tag!==6)&&(E=null)):(I=null,E=f),I!==E)){if(x=_v,C="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=vv,C="onPointerLeave",T="onPointerEnter",w="pointer"),k=I==null?y:Is(I),P=E==null?y:Is(E),y=new x(C,w+"leave",I,n,p),y.target=k,y.relatedTarget=P,C=null,Si(p)===f&&(x=new x(T,w+"enter",E,n,p),x.target=P,x.relatedTarget=k,C=x),k=C,I&&E)t:{for(x=I,T=E,w=0,P=x;P;P=hs(P))w++;for(P=0,C=T;C;C=hs(C))P++;for(;0<w-P;)x=hs(x),w--;for(;0<P-w;)T=hs(T),P--;for(;w--;){if(x===T||T!==null&&x===T.alternate)break t;x=hs(x),T=hs(T)}x=null}else x=null;I!==null&&Cv(g,y,I,x,!1),E!==null&&k!==null&&Cv(g,k,E,x,!0)}}e:{if(y=f?Is(f):window,I=y.nodeName&&y.nodeName.toLowerCase(),I==="select"||I==="input"&&y.type==="file")var U=vk;else if(Tv(y))if(eT)U=Ik;else{U=Ek;var j=wk}else(I=y.nodeName)&&I.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(U=Tk);if(U&&(U=U(t,f))){JE(g,U,n,p);break e}j&&j(t,y,f),t==="focusout"&&(j=y._wrapperState)&&j.controlled&&y.type==="number"&&Xf(y,"number",y.value)}switch(j=f?Is(f):window,t){case"focusin":(Tv(j)||j.contentEditable==="true")&&(Es=j,up=f,da=null);break;case"focusout":da=up=Es=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,Av(g,n,p);break;case"selectionchange":if(Pk)break;case"keydown":case"keyup":Av(g,n,p)}var $;if(jm)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else ws?XE(t,n)&&(q="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(QE&&n.locale!=="ko"&&(ws||q!=="onCompositionStart"?q==="onCompositionEnd"&&ws&&($=ZE()):(Fr=p,Um="value"in Fr?Fr.value:Fr.textContent,ws=!0)),j=uc(f,q),0<j.length&&(q=new yv(q,t,null,n,p),g.push({event:q,listeners:j}),$?q.data=$:($=YE(n),$!==null&&(q.data=$)))),($=pk?mk(t,n):gk(t,n))&&(f=uc(f,"onBeforeInput"),0<f.length&&(p=new yv("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:f}),p.data=$))}cT(g,e)})}function Oa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Aa(t,n),o!=null&&r.unshift(Oa(t,o,i)),o=Aa(t,e),o!=null&&r.push(Oa(t,o,i))),t=t.return}return r}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cv(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var c=n,h=c.alternate,f=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&f!==null&&(c=f,i?(h=Aa(n,o),h!=null&&a.unshift(Oa(n,h,c))):i||(h=Aa(n,o),h!=null&&a.push(Oa(n,h,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Ck=/\r\n?/g,bk=/\u0000|\uFFFD/g;function bv(t){return(typeof t=="string"?t:""+t).replace(Ck,`
`).replace(bk,"")}function pu(t,e,n){if(e=bv(e),bv(t)!==e&&n)throw Error(V(425))}function cc(){}var hp=null,dp=null;function fp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,Lk=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(t){return Nv.resolve(null).then(t).catch(Ok)}:pp;function Ok(t){setTimeout(function(){throw t})}function rf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ca(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ca(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Dn="__reactFiber$"+uo,Da="__reactProps$"+uo,gr="__reactContainer$"+uo,mp="__reactEvents$"+uo,Dk="__reactListeners$"+uo,Mk="__reactHandles$"+uo;function Si(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lv(t);t!==null;){if(n=t[Dn])return n;t=Lv(t)}return e}t=n,n=t.parentNode}return null}function hl(t){return t=t[Dn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function sh(t){return t[Da]||null}var gp=[],Ss=-1;function ui(t){return{current:t}}function be(t){0>Ss||(t.current=gp[Ss],gp[Ss]=null,Ss--)}function Ae(t,e){Ss++,gp[Ss]=t.current,t.current=e}var ri={},kt=ui(ri),Ht=ui(!1),Di=ri;function Hs(t,e){var n=t.type.contextTypes;if(!n)return ri;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(t){return t=t.childContextTypes,t!=null}function hc(){be(Ht),be(kt)}function Ov(t,e,n){if(kt.current!==ri)throw Error(V(168));Ae(kt,e),Ae(Ht,n)}function dT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,wR(t)||"Unknown",i));return Ue({},n,r)}function dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ri,Di=kt.current,Ae(kt,t),Ae(Ht,Ht.current),!0}function Dv(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=dT(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,be(Ht),be(kt),Ae(kt,t)):be(Ht),Ae(Ht,n)}var or=null,oh=!1,sf=!1;function fT(t){or===null?or=[t]:or.push(t)}function Vk(t){oh=!0,fT(t)}function ci(){if(!sf&&or!==null){sf=!0;var t=0,e=Te;try{var n=or;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}or=null,oh=!1}catch(i){throw or!==null&&(or=or.slice(t+1)),UE(Om,ci),i}finally{Te=e,sf=!1}}return null}var xs=[],Ps=0,fc=null,pc=0,an=[],ln=0,Mi=null,ar=1,lr="";function Ei(t,e){xs[Ps++]=pc,xs[Ps++]=fc,fc=t,pc=e}function pT(t,e,n){an[ln++]=ar,an[ln++]=lr,an[ln++]=Mi,Mi=t;var r=ar;t=lr;var i=32-In(r)-1;r&=~(1<<i),n+=1;var o=32-In(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ar=1<<32-In(e)+i|n<<i|r,lr=o+t}else ar=1<<o|n<<i|r,lr=t}function $m(t){t.return!==null&&(Ei(t,1),pT(t,1,0))}function Hm(t){for(;t===fc;)fc=xs[--Ps],xs[Ps]=null,pc=xs[--Ps],xs[Ps]=null;for(;t===Mi;)Mi=an[--ln],an[ln]=null,lr=an[--ln],an[ln]=null,ar=an[--ln],an[ln]=null}var Qt=null,Kt=null,Oe=!1,En=null;function mT(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,Kt=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:ar,overflow:lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,Kt=null,!0):!1;default:return!1}}function _p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yp(t){if(Oe){var e=Kt;if(e){var n=e;if(!Mv(t,e)){if(_p(t))throw Error(V(418));e=qr(n.nextSibling);var r=Qt;e&&Mv(t,e)?mT(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Qt=t)}}else{if(_p(t))throw Error(V(418));t.flags=t.flags&-4097|2,Oe=!1,Qt=t}}}function Vv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function mu(t){if(t!==Qt)return!1;if(!Oe)return Vv(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fp(t.type,t.memoizedProps)),e&&(e=Kt)){if(_p(t))throw gT(),Error(V(418));for(;e;)mT(t,e),e=qr(e.nextSibling)}if(Vv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Qt?qr(t.stateNode.nextSibling):null;return!0}function gT(){for(var t=Kt;t;)t=qr(t.nextSibling)}function Ws(){Kt=Qt=null,Oe=!1}function Wm(t){En===null?En=[t]:En.push(t)}var Uk=Ir.ReactCurrentBatchConfig;function vn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var mc=ui(null),gc=null,As=null,qm=null;function Gm(){qm=As=gc=null}function Km(t){var e=mc.current;be(mc),t._currentValue=e}function vp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){gc=t,qm=As=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(qm!==t)if(t={context:t,memoizedValue:e,next:null},As===null){if(gc===null)throw Error(V(308));As=t,gc.dependencies={lanes:0,firstContext:t}}else As=As.next=t;return e}var xi=null;function Zm(t){xi===null?xi=[t]:xi.push(t)}function _T(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zm(e)):(n.next=i.next,i.next=n),e.interleaved=n,_r(t,r)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var br=!1;function Qm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_r(t,n)}return i=r.interleaved,i===null?(e.next=e,Zm(r)):(e.next=i.next,i.next=e),r.interleaved=e,_r(t,n)}function Uu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dm(t,n)}}function Uv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _c(t,e,n,r){var i=t.updateQueue;br=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var h=c,f=h.next;h.next=null,a===null?o=f:a.next=f,a=h;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==a&&(c===null?p.firstBaseUpdate=f:c.next=f,p.lastBaseUpdate=h))}if(o!==null){var g=i.baseState;a=0,p=f=h=null,c=o;do{var y=c.lane,I=c.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:I,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var E=t,x=c;switch(y=e,I=n,x.tag){case 1:if(E=x.payload,typeof E=="function"){g=E.call(I,g,y);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=x.payload,y=typeof E=="function"?E.call(I,g,y):E,y==null)break e;g=Ue({},g,y);break e;case 2:br=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[c]:y.push(c))}else I={eventTime:I,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(f=p=I,h=g):p=p.next=I,a|=y;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;y=c,c=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(p===null&&(h=g),i.baseState=h,i.firstBaseUpdate=f,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ui|=a,t.lanes=a,t.memoizedState=g}}function Fv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var vT=new _E.Component().refs;function wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ah={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Zr(t),o=dr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Gr(t,o,i),e!==null&&(Sn(e,t,i,r),Uu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Zr(t),o=dr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Gr(t,o,i),e!==null&&(Sn(e,t,i,r),Uu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Zr(t),i=dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gr(t,i,r),e!==null&&(Sn(e,t,r,n),Uu(e,t,r))}};function Bv(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Na(n,r)||!Na(i,o):!0}function wT(t,e,n){var r=!1,i=ri,o=e.contextType;return typeof o=="object"&&o!==null?o=pn(o):(i=Wt(e)?Di:kt.current,r=e.contextTypes,o=(r=r!=null)?Hs(t,i):ri),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function jv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ah.enqueueReplaceState(e,e.state,null)}function Ep(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=vT,Qm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=pn(o):(o=Wt(e)?Di:kt.current,i.context=Hs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(wp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ah.enqueueReplaceState(i,i.state,null),_c(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ho(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=i.refs;c===vT&&(c=i.refs={}),a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zv(t){var e=t._init;return e(t._payload)}function ET(t){function e(T,w){if(t){var P=T.deletions;P===null?(T.deletions=[w],T.flags|=16):P.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function i(T,w){return T=Qr(T,w),T.index=0,T.sibling=null,T}function o(T,w,P){return T.index=P,t?(P=T.alternate,P!==null?(P=P.index,P<w?(T.flags|=2,w):P):(T.flags|=2,w)):(T.flags|=1048576,w)}function a(T){return t&&T.alternate===null&&(T.flags|=2),T}function c(T,w,P,C){return w===null||w.tag!==6?(w=df(P,T.mode,C),w.return=T,w):(w=i(w,P),w.return=T,w)}function h(T,w,P,C){var U=P.type;return U===vs?p(T,w,P.props.children,C,P.key):w!==null&&(w.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Cr&&zv(U)===w.type)?(C=i(w,P.props),C.ref=Ho(T,w,P),C.return=T,C):(C=Hu(P.type,P.key,P.props,null,T.mode,C),C.ref=Ho(T,w,P),C.return=T,C)}function f(T,w,P,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==P.containerInfo||w.stateNode.implementation!==P.implementation?(w=ff(P,T.mode,C),w.return=T,w):(w=i(w,P.children||[]),w.return=T,w)}function p(T,w,P,C,U){return w===null||w.tag!==7?(w=bi(P,T.mode,C,U),w.return=T,w):(w=i(w,P),w.return=T,w)}function g(T,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return w=df(""+w,T.mode,P),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case su:return P=Hu(w.type,w.key,w.props,null,T.mode,P),P.ref=Ho(T,null,w),P.return=T,P;case ys:return w=ff(w,T.mode,P),w.return=T,w;case Cr:var C=w._init;return g(T,C(w._payload),P)}if(Jo(w)||Fo(w))return w=bi(w,T.mode,P,null),w.return=T,w;gu(T,w)}return null}function y(T,w,P,C){var U=w!==null?w.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return U!==null?null:c(T,w,""+P,C);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case su:return P.key===U?h(T,w,P,C):null;case ys:return P.key===U?f(T,w,P,C):null;case Cr:return U=P._init,y(T,w,U(P._payload),C)}if(Jo(P)||Fo(P))return U!==null?null:p(T,w,P,C,null);gu(T,P)}return null}function I(T,w,P,C,U){if(typeof C=="string"&&C!==""||typeof C=="number")return T=T.get(P)||null,c(w,T,""+C,U);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case su:return T=T.get(C.key===null?P:C.key)||null,h(w,T,C,U);case ys:return T=T.get(C.key===null?P:C.key)||null,f(w,T,C,U);case Cr:var j=C._init;return I(T,w,P,j(C._payload),U)}if(Jo(C)||Fo(C))return T=T.get(P)||null,p(w,T,C,U,null);gu(w,C)}return null}function E(T,w,P,C){for(var U=null,j=null,$=w,q=w=0,de=null;$!==null&&q<P.length;q++){$.index>q?(de=$,$=null):de=$.sibling;var ie=y(T,$,P[q],C);if(ie===null){$===null&&($=de);break}t&&$&&ie.alternate===null&&e(T,$),w=o(ie,w,q),j===null?U=ie:j.sibling=ie,j=ie,$=de}if(q===P.length)return n(T,$),Oe&&Ei(T,q),U;if($===null){for(;q<P.length;q++)$=g(T,P[q],C),$!==null&&(w=o($,w,q),j===null?U=$:j.sibling=$,j=$);return Oe&&Ei(T,q),U}for($=r(T,$);q<P.length;q++)de=I($,T,q,P[q],C),de!==null&&(t&&de.alternate!==null&&$.delete(de.key===null?q:de.key),w=o(de,w,q),j===null?U=de:j.sibling=de,j=de);return t&&$.forEach(function(xe){return e(T,xe)}),Oe&&Ei(T,q),U}function x(T,w,P,C){var U=Fo(P);if(typeof U!="function")throw Error(V(150));if(P=U.call(P),P==null)throw Error(V(151));for(var j=U=null,$=w,q=w=0,de=null,ie=P.next();$!==null&&!ie.done;q++,ie=P.next()){$.index>q?(de=$,$=null):de=$.sibling;var xe=y(T,$,ie.value,C);if(xe===null){$===null&&($=de);break}t&&$&&xe.alternate===null&&e(T,$),w=o(xe,w,q),j===null?U=xe:j.sibling=xe,j=xe,$=de}if(ie.done)return n(T,$),Oe&&Ei(T,q),U;if($===null){for(;!ie.done;q++,ie=P.next())ie=g(T,ie.value,C),ie!==null&&(w=o(ie,w,q),j===null?U=ie:j.sibling=ie,j=ie);return Oe&&Ei(T,q),U}for($=r(T,$);!ie.done;q++,ie=P.next())ie=I($,T,q,ie.value,C),ie!==null&&(t&&ie.alternate!==null&&$.delete(ie.key===null?q:ie.key),w=o(ie,w,q),j===null?U=ie:j.sibling=ie,j=ie);return t&&$.forEach(function(it){return e(T,it)}),Oe&&Ei(T,q),U}function k(T,w,P,C){if(typeof P=="object"&&P!==null&&P.type===vs&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case su:e:{for(var U=P.key,j=w;j!==null;){if(j.key===U){if(U=P.type,U===vs){if(j.tag===7){n(T,j.sibling),w=i(j,P.props.children),w.return=T,T=w;break e}}else if(j.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Cr&&zv(U)===j.type){n(T,j.sibling),w=i(j,P.props),w.ref=Ho(T,j,P),w.return=T,T=w;break e}n(T,j);break}else e(T,j);j=j.sibling}P.type===vs?(w=bi(P.props.children,T.mode,C,P.key),w.return=T,T=w):(C=Hu(P.type,P.key,P.props,null,T.mode,C),C.ref=Ho(T,w,P),C.return=T,T=C)}return a(T);case ys:e:{for(j=P.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===P.containerInfo&&w.stateNode.implementation===P.implementation){n(T,w.sibling),w=i(w,P.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=ff(P,T.mode,C),w.return=T,T=w}return a(T);case Cr:return j=P._init,k(T,w,j(P._payload),C)}if(Jo(P))return E(T,w,P,C);if(Fo(P))return x(T,w,P,C);gu(T,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,w!==null&&w.tag===6?(n(T,w.sibling),w=i(w,P),w.return=T,T=w):(n(T,w),w=df(P,T.mode,C),w.return=T,T=w),a(T)):n(T,w)}return k}var qs=ET(!0),TT=ET(!1),dl={},zn=ui(dl),Ma=ui(dl),Va=ui(dl);function Pi(t){if(t===dl)throw Error(V(174));return t}function Xm(t,e){switch(Ae(Va,e),Ae(Ma,t),Ae(zn,dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jf(e,t)}be(zn),Ae(zn,e)}function Gs(){be(zn),be(Ma),be(Va)}function IT(t){Pi(Va.current);var e=Pi(zn.current),n=Jf(e,t.type);e!==n&&(Ae(Ma,t),Ae(zn,n))}function Ym(t){Ma.current===t&&(be(zn),be(Ma))}var Me=ui(0);function yc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var of=[];function Jm(){for(var t=0;t<of.length;t++)of[t]._workInProgressVersionPrimary=null;of.length=0}var Fu=Ir.ReactCurrentDispatcher,af=Ir.ReactCurrentBatchConfig,Vi=0,Ve=null,tt=null,at=null,vc=!1,fa=!1,Ua=0,Fk=0;function vt(){throw Error(V(321))}function eg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function tg(t,e,n,r,i,o){if(Vi=o,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fu.current=t===null||t.memoizedState===null?$k:Hk,t=n(r,i),fa){o=0;do{if(fa=!1,Ua=0,25<=o)throw Error(V(301));o+=1,at=tt=null,e.updateQueue=null,Fu.current=Wk,t=n(r,i)}while(fa)}if(Fu.current=wc,e=tt!==null&&tt.next!==null,Vi=0,at=tt=Ve=null,vc=!1,e)throw Error(V(300));return t}function ng(){var t=Ua!==0;return Ua=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=t:at=at.next=t,at}function mn(){if(tt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=at===null?Ve.memoizedState:at.next;if(e!==null)at=e,tt=t;else{if(t===null)throw Error(V(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},at===null?Ve.memoizedState=at=t:at=at.next=t}return at}function Fa(t,e){return typeof e=="function"?e(t):e}function lf(t){var e=mn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=a=null,h=null,f=o;do{var p=f.lane;if((Vi&p)===p)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var g={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=g,a=r):h=h.next=g,Ve.lanes|=p,Ui|=p}f=f.next}while(f!==null&&f!==o);h===null?a=r:h.next=c,xn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ve.lanes|=o,Ui|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uf(t){var e=mn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);xn(o,e.memoizedState)||($t=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ST(){}function xT(t,e){var n=Ve,r=mn(),i=e(),o=!xn(r.memoizedState,i);if(o&&(r.memoizedState=i,$t=!0),r=r.queue,rg(RT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Ba(9,AT.bind(null,n,r,i,e),void 0,null),lt===null)throw Error(V(349));Vi&30||PT(n,e,i)}return i}function PT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AT(t,e,n,r){e.value=n,e.getSnapshot=r,kT(e)&&CT(t)}function RT(t,e,n){return n(function(){kT(e)&&CT(t)})}function kT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function CT(t){var e=_r(t,1);e!==null&&Sn(e,t,1,-1)}function $v(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:t},e.queue=t,t=t.dispatch=zk.bind(null,Ve,t),[e.memoizedState,t]}function Ba(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bT(){return mn().memoizedState}function Bu(t,e,n,r){var i=On();Ve.flags|=t,i.memoizedState=Ba(1|e,n,void 0,r===void 0?null:r)}function lh(t,e,n,r){var i=mn();r=r===void 0?null:r;var o=void 0;if(tt!==null){var a=tt.memoizedState;if(o=a.destroy,r!==null&&eg(r,a.deps)){i.memoizedState=Ba(e,n,o,r);return}}Ve.flags|=t,i.memoizedState=Ba(1|e,n,o,r)}function Hv(t,e){return Bu(8390656,8,t,e)}function rg(t,e){return lh(2048,8,t,e)}function NT(t,e){return lh(4,2,t,e)}function LT(t,e){return lh(4,4,t,e)}function OT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DT(t,e,n){return n=n!=null?n.concat([t]):null,lh(4,4,OT.bind(null,e,t),n)}function ig(){}function MT(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&eg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VT(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&eg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UT(t,e,n){return Vi&21?(xn(n,e)||(n=jE(),Ve.lanes|=n,Ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function Bk(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=af.transition;af.transition={};try{t(!1),e()}finally{Te=n,af.transition=r}}function FT(){return mn().memoizedState}function jk(t,e,n){var r=Zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BT(t))jT(e,n);else if(n=_T(t,e,n,r),n!==null){var i=Mt();Sn(n,t,r,i),zT(n,e,r)}}function zk(t,e,n){var r=Zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BT(t))jT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,n);if(i.hasEagerState=!0,i.eagerState=c,xn(c,a)){var h=e.interleaved;h===null?(i.next=i,Zm(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=_T(t,e,i,r),n!==null&&(i=Mt(),Sn(n,t,r,i),zT(n,e,r))}}function BT(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function jT(t,e){fa=vc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dm(t,n)}}var wc={readContext:pn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},$k={readContext:pn,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Hv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bu(4194308,4,OT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bu(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jk.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:$v,useDebugValue:ig,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=$v(!1),e=t[0];return t=Bk.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=On();if(Oe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),lt===null)throw Error(V(349));Vi&30||PT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Hv(RT.bind(null,r,o,t),[t]),r.flags|=2048,Ba(9,AT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=On(),e=lt.identifierPrefix;if(Oe){var n=lr,r=ar;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ua++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hk={readContext:pn,useCallback:MT,useContext:pn,useEffect:rg,useImperativeHandle:DT,useInsertionEffect:NT,useLayoutEffect:LT,useMemo:VT,useReducer:lf,useRef:bT,useState:function(){return lf(Fa)},useDebugValue:ig,useDeferredValue:function(t){var e=mn();return UT(e,tt.memoizedState,t)},useTransition:function(){var t=lf(Fa)[0],e=mn().memoizedState;return[t,e]},useMutableSource:ST,useSyncExternalStore:xT,useId:FT,unstable_isNewReconciler:!1},Wk={readContext:pn,useCallback:MT,useContext:pn,useEffect:rg,useImperativeHandle:DT,useInsertionEffect:NT,useLayoutEffect:LT,useMemo:VT,useReducer:uf,useRef:bT,useState:function(){return uf(Fa)},useDebugValue:ig,useDeferredValue:function(t){var e=mn();return tt===null?e.memoizedState=t:UT(e,tt.memoizedState,t)},useTransition:function(){var t=uf(Fa)[0],e=mn().memoizedState;return[t,e]},useMutableSource:ST,useSyncExternalStore:xT,useId:FT,unstable_isNewReconciler:!1};function Ks(t,e){try{var n="",r=e;do n+=vR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function cf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qk=typeof WeakMap=="function"?WeakMap:Map;function $T(t,e,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tc||(Tc=!0,Np=r),Tp(t,e)},n}function HT(t,e,n){n=dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tp(t,e),typeof r!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oC.bind(null,t,e,n),e.then(t,t))}function qv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dr(-1,1),e.tag=2,Gr(n,e,1))),n.lanes|=1),t)}var Gk=Ir.ReactCurrentOwner,$t=!1;function Ot(t,e,n,r){e.child=t===null?TT(e,null,n,r):qs(e,t.child,n,r)}function Kv(t,e,n,r,i){n=n.render;var o=e.ref;return Ms(e,i),r=tg(t,e,n,r,o,i),n=ng(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(Oe&&n&&$m(e),e.flags|=1,Ot(t,e,r,i),e.child)}function Zv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!dg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,WT(t,e,o,r,i)):(t=Hu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(a,r)&&t.ref===e.ref)return yr(t,e,i)}return e.flags|=1,t=Qr(o,r),t.ref=e.ref,t.return=e,e.child=t}function WT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Na(o,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,yr(t,e,i)}return Ip(t,e,n,r,i)}function qT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(ks,Gt),Gt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(ks,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ae(ks,Gt),Gt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ae(ks,Gt),Gt|=r;return Ot(t,e,i,n),e.child}function GT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ip(t,e,n,r,i){var o=Wt(n)?Di:kt.current;return o=Hs(e,o),Ms(e,i),n=tg(t,e,n,r,o,i),r=ng(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):(Oe&&r&&$m(e),e.flags|=1,Ot(t,e,n,i),e.child)}function Qv(t,e,n,r,i){if(Wt(n)){var o=!0;dc(e)}else o=!1;if(Ms(e,i),e.stateNode===null)ju(t,e),wT(e,n,r),Ep(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var h=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=pn(f):(f=Wt(n)?Di:kt.current,f=Hs(e,f));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||h!==f)&&jv(e,a,r,f),br=!1;var y=e.memoizedState;a.state=y,_c(e,r,a,i),h=e.memoizedState,c!==r||y!==h||Ht.current||br?(typeof p=="function"&&(wp(e,n,p,r),h=e.memoizedState),(c=br||Bv(e,n,c,r,y,h,f))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=f,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,yT(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:vn(e.type,c),a.props=f,g=e.pendingProps,y=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=pn(h):(h=Wt(n)?Di:kt.current,h=Hs(e,h));var I=n.getDerivedStateFromProps;(p=typeof I=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==g||y!==h)&&jv(e,a,r,h),br=!1,y=e.memoizedState,a.state=y,_c(e,r,a,i);var E=e.memoizedState;c!==g||y!==E||Ht.current||br?(typeof I=="function"&&(wp(e,n,I,r),E=e.memoizedState),(f=br||Bv(e,n,f,r,y,E,h)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),a.props=r,a.state=E,a.context=h,r=f):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Sp(t,e,n,r,o,i)}function Sp(t,e,n,r,i,o){GT(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Dv(e,n,!1),yr(t,e,o);r=e.stateNode,Gk.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=qs(e,t.child,null,o),e.child=qs(e,null,c,o)):Ot(t,e,c,o),e.memoizedState=r.state,i&&Dv(e,n,!0),e.child}function KT(t){var e=t.stateNode;e.pendingContext?Ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ov(t,e.context,!1),Xm(t,e.containerInfo)}function Xv(t,e,n,r,i){return Ws(),Wm(i),e.flags|=256,Ot(t,e,n,r),e.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function Pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZT(t,e,n){var r=e.pendingProps,i=Me.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(Me,i&1),t===null)return yp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=hh(a,r,0,null),t=bi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pp(n),e.memoizedState=xp,t):sg(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Kk(t,e,a,r,c,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,c=i.sibling;var h={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=Qr(i,h),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Qr(c,o):(o=bi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Pp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=xp,r}return o=t.child,t=o.sibling,r=Qr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sg(t,e){return e=hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _u(t,e,n,r){return r!==null&&Wm(r),qs(e,t.child,null,n),t=sg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kk(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=cf(Error(V(422))),_u(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=hh({mode:"visible",children:r.children},i,0,null),o=bi(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&qs(e,t.child,null,a),e.child.memoizedState=Pp(a),e.memoizedState=xp,o);if(!(e.mode&1))return _u(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(V(419)),r=cf(o,r,void 0),_u(t,e,a,r)}if(c=(a&t.childLanes)!==0,$t||c){if(r=lt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_r(t,i),Sn(r,t,i,-1))}return hg(),r=cf(Error(V(421))),_u(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Kt=qr(i.nextSibling),Qt=e,Oe=!0,En=null,t!==null&&(an[ln++]=ar,an[ln++]=lr,an[ln++]=Mi,ar=t.id,lr=t.overflow,Mi=e),e=sg(e,r.children),e.flags|=4096,e)}function Yv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vp(t.return,e,n)}function hf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ot(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yv(t,n,e);else if(t.tag===19)Yv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hf(e,!0,n,null,o);break;case"together":hf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=Qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zk(t,e,n){switch(e.tag){case 3:KT(e),Ws();break;case 5:IT(e);break;case 1:Wt(e.type)&&dc(e);break;case 4:Xm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae(mc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?ZT(t,e,n):(Ae(Me,Me.current&1),t=yr(t,e,n),t!==null?t.sibling:null);Ae(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,qT(t,e,n)}return yr(t,e,n)}var XT,Ap,YT,JT;XT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ap=function(){};YT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pi(zn.current);var o=null;switch(n){case"input":i=Zf(t,i),r=Zf(t,r),o=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":i=Yf(t,i),r=Yf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cc)}ep(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(xa.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var h=r[f];if(c=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(a in c)!c.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&c[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(xa.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Re("scroll",t),o||c===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};JT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wo(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qk(t,e,n){var r=e.pendingProps;switch(Hm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Wt(e.type)&&hc(),wt(e),null;case 3:return r=e.stateNode,Gs(),be(Ht),be(kt),Jm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Dp(En),En=null))),Ap(t,e),wt(e),null;case 5:Ym(e);var i=Pi(Va.current);if(n=e.type,t!==null&&e.stateNode!=null)YT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return wt(e),null}if(t=Pi(zn.current),mu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Dn]=e,r[Da]=o,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<ta.length;i++)Re(ta[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":av(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":uv(r,o),Re("invalid",r)}ep(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&pu(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&pu(r.textContent,c,t),i=["children",""+c]):xa.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Re("scroll",r)}switch(n){case"input":ou(r),lv(r,o,!0);break;case"textarea":ou(r),cv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=cc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Dn]=e,t[Da]=r,XT(t,e,!1,!1),e.stateNode=t;e:{switch(a=tp(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<ta.length;i++)Re(ta[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":av(t,r),i=Zf(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Re("invalid",t);break;case"textarea":uv(t,r),i=Yf(t,r),Re("invalid",t);break;default:i=r}ep(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?kE(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&AE(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Pa(t,h):typeof h=="number"&&Pa(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xa.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Re("scroll",t):h!=null&&km(t,o,h,a))}switch(n){case"input":ou(t),lv(t,r,!1);break;case"textarea":ou(t),cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ni(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ns(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)JT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=Pi(Va.current),Pi(zn.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(o=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return wt(e),null;case 13:if(be(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Kt!==null&&e.mode&1&&!(e.flags&128))gT(),Ws(),e.flags|=98560,o=!1;else if(o=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(V(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[Dn]=e}else Ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),o=!1}else En!==null&&(Dp(En),En=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?nt===0&&(nt=3):hg())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Gs(),Ap(t,e),t===null&&La(e.stateNode.containerInfo),wt(e),null;case 10:return Km(e.type._context),wt(e),null;case 17:return Wt(e.type)&&hc(),wt(e),null;case 19:if(be(Me),o=e.memoizedState,o===null)return wt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Wo(o,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=yc(t),a!==null){for(e.flags|=128,Wo(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Me,Me.current&1|2),e.child}t=t.sibling}o.tail!==null&&He()>Zs&&(e.flags|=128,r=!0,Wo(o,!1),e.lanes=4194304)}else{if(!r)if(t=yc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Oe)return wt(e),null}else 2*He()-o.renderingStartTime>Zs&&n!==1073741824&&(e.flags|=128,r=!0,Wo(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=He(),e.sibling=null,n=Me.current,Ae(Me,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return cg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function Xk(t,e){switch(Hm(e),e.tag){case 1:return Wt(e.type)&&hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gs(),be(Ht),be(kt),Jm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ym(e),null;case 13:if(be(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Me),null;case 4:return Gs(),null;case 10:return Km(e.type._context),null;case 22:case 23:return cg(),null;case 24:return null;default:return null}}var yu=!1,It=!1,Yk=typeof WeakSet=="function"?WeakSet:Set,W=null;function Rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function Rp(t,e,n){try{n()}catch(r){je(t,e,r)}}var Jv=!1;function Jk(t,e){if(hp=ac,t=rT(),zm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,c=-1,h=-1,f=0,p=0,g=t,y=null;t:for(;;){for(var I;g!==n||i!==0&&g.nodeType!==3||(c=a+i),g!==o||r!==0&&g.nodeType!==3||(h=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(I=g.firstChild)!==null;)y=g,g=I;for(;;){if(g===t)break t;if(y===n&&++f===i&&(c=a),y===o&&++p===r&&(h=a),(I=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=I}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(dp={focusedElem:t,selectionRange:n},ac=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var x=E.memoizedProps,k=E.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?x:vn(e.type,x),k);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(C){je(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return E=Jv,Jv=!1,E}function pa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rp(e,n,o)}i=i.next}while(i!==r)}}function uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e1(t){var e=t.alternate;e!==null&&(t.alternate=null,e1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[Da],delete e[mp],delete e[Dk],delete e[Mk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t1(t){return t.tag===5||t.tag===3||t.tag===4}function e0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cc));else if(r!==4&&(t=t.child,t!==null))for(Cp(t,e,n),t=t.sibling;t!==null;)Cp(t,e,n),t=t.sibling}function bp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bp(t,e,n),t=t.sibling;t!==null;)bp(t,e,n),t=t.sibling}var ft=null,wn=!1;function Ar(t,e,n){for(n=n.child;n!==null;)n1(t,e,n),n=n.sibling}function n1(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(th,n)}catch{}switch(n.tag){case 5:It||Rs(n,e);case 6:var r=ft,i=wn;ft=null,Ar(t,e,n),ft=r,wn=i,ft!==null&&(wn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(wn?(t=ft,n=n.stateNode,t.nodeType===8?rf(t.parentNode,n):t.nodeType===1&&rf(t,n),Ca(t)):rf(ft,n.stateNode));break;case 4:r=ft,i=wn,ft=n.stateNode.containerInfo,wn=!0,Ar(t,e,n),ft=r,wn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Rp(n,e,a),i=i.next}while(i!==r)}Ar(t,e,n);break;case 1:if(!It&&(Rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){je(n,e,c)}Ar(t,e,n);break;case 21:Ar(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Ar(t,e,n),It=r):Ar(t,e,n);break;default:Ar(t,e,n)}}function t0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yk),e.forEach(function(r){var i=lC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:ft=c.stateNode,wn=!1;break e;case 3:ft=c.stateNode.containerInfo,wn=!0;break e;case 4:ft=c.stateNode.containerInfo,wn=!0;break e}c=c.return}if(ft===null)throw Error(V(160));n1(o,a,i),ft=null,wn=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(f){je(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r1(e,t),e=e.sibling}function r1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Ln(t),r&4){try{pa(3,t,t.return),uh(3,t)}catch(x){je(t,t.return,x)}try{pa(5,t,t.return)}catch(x){je(t,t.return,x)}}break;case 1:yn(e,t),Ln(t),r&512&&n!==null&&Rs(n,n.return);break;case 5:if(yn(e,t),Ln(t),r&512&&n!==null&&Rs(n,n.return),t.flags&32){var i=t.stateNode;try{Pa(i,"")}catch(x){je(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&SE(i,o),tp(c,a);var f=tp(c,o);for(a=0;a<h.length;a+=2){var p=h[a],g=h[a+1];p==="style"?kE(i,g):p==="dangerouslySetInnerHTML"?AE(i,g):p==="children"?Pa(i,g):km(i,p,g,f)}switch(c){case"input":Qf(i,o);break;case"textarea":xE(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var I=o.value;I!=null?Ns(i,!!o.multiple,I,!1):y!==!!o.multiple&&(o.defaultValue!=null?Ns(i,!!o.multiple,o.defaultValue,!0):Ns(i,!!o.multiple,o.multiple?[]:"",!1))}i[Da]=o}catch(x){je(t,t.return,x)}}break;case 6:if(yn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(V(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){je(t,t.return,x)}}break;case 3:if(yn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ca(e.containerInfo)}catch(x){je(t,t.return,x)}break;case 4:yn(e,t),Ln(t);break;case 13:yn(e,t),Ln(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(lg=He())),r&4&&t0(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(It=(f=It)||p,yn(e,t),It=f):yn(e,t),Ln(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(W=t,p=t.child;p!==null;){for(g=W=p;W!==null;){switch(y=W,I=y.child,y.tag){case 0:case 11:case 14:case 15:pa(4,y,y.return);break;case 1:Rs(y,y.return);var E=y.stateNode;if(typeof E.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(x){je(r,n,x)}}break;case 5:Rs(y,y.return);break;case 22:if(y.memoizedState!==null){r0(g);continue}}I!==null?(I.return=y,W=I):r0(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=g.stateNode,h=g.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=RE("display",a))}catch(x){je(t,t.return,x)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(x){je(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:yn(e,t),Ln(t),r&4&&t0(t);break;case 21:break;default:yn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t1(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pa(i,""),r.flags&=-33);var o=e0(t);bp(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=e0(t);Cp(t,c,a);break;default:throw Error(V(161))}}catch(h){je(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eC(t,e,n){W=t,i1(t)}function i1(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||yu;if(!a){var c=i.alternate,h=c!==null&&c.memoizedState!==null||It;c=yu;var f=It;if(yu=a,(It=h)&&!f)for(W=i;W!==null;)a=W,h=a.child,a.tag===22&&a.memoizedState!==null?i0(i):h!==null?(h.return=a,W=h):i0(i);for(;o!==null;)W=o,i1(o),o=o.sibling;W=i,yu=c,It=f}n0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):n0(t)}}function n0(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Fv(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fv(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Ca(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}It||e.flags&512&&kp(e)}catch(y){je(e,e.return,y)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function r0(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function i0(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uh(4,e)}catch(h){je(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){je(e,i,h)}}var o=e.return;try{kp(e)}catch(h){je(e,o,h)}break;case 5:var a=e.return;try{kp(e)}catch(h){je(e,a,h)}}}catch(h){je(e,e.return,h)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var tC=Math.ceil,Ec=Ir.ReactCurrentDispatcher,og=Ir.ReactCurrentOwner,dn=Ir.ReactCurrentBatchConfig,ye=0,lt=null,Qe=null,gt=0,Gt=0,ks=ui(0),nt=0,ja=null,Ui=0,ch=0,ag=0,ma=null,zt=null,lg=0,Zs=1/0,sr=null,Tc=!1,Np=null,Kr=null,vu=!1,Br=null,Ic=0,ga=0,Lp=null,zu=-1,$u=0;function Mt(){return ye&6?He():zu!==-1?zu:zu=He()}function Zr(t){return t.mode&1?ye&2&&gt!==0?gt&-gt:Uk.transition!==null?($u===0&&($u=jE()),$u):(t=Te,t!==0||(t=window.event,t=t===void 0?16:KE(t.type)),t):1}function Sn(t,e,n,r){if(50<ga)throw ga=0,Lp=null,Error(V(185));ul(t,n,r),(!(ye&2)||t!==lt)&&(t===lt&&(!(ye&2)&&(ch|=n),nt===4&&Lr(t,gt)),qt(t,r),n===1&&ye===0&&!(e.mode&1)&&(Zs=He()+500,oh&&ci()))}function qt(t,e){var n=t.callbackNode;UR(t,e);var r=oc(t,t===lt?gt:0);if(r===0)n!==null&&fv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fv(n),e===1)t.tag===0?Vk(s0.bind(null,t)):fT(s0.bind(null,t)),Lk(function(){!(ye&6)&&ci()}),n=null;else{switch(zE(r)){case 1:n=Om;break;case 4:n=FE;break;case 16:n=sc;break;case 536870912:n=BE;break;default:n=sc}n=d1(n,s1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s1(t,e){if(zu=-1,$u=0,ye&6)throw Error(V(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var r=oc(t,t===lt?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sc(t,r);else{e=r;var i=ye;ye|=2;var o=a1();(lt!==t||gt!==e)&&(sr=null,Zs=He()+500,Ci(t,e));do try{iC();break}catch(c){o1(t,c)}while(1);Gm(),Ec.current=o,ye=i,Qe!==null?e=0:(lt=null,gt=0,e=nt)}if(e!==0){if(e===2&&(i=op(t),i!==0&&(r=i,e=Op(t,i))),e===1)throw n=ja,Ci(t,0),Lr(t,r),qt(t,He()),n;if(e===6)Lr(t,r);else{if(i=t.current.alternate,!(r&30)&&!nC(i)&&(e=Sc(t,r),e===2&&(o=op(t),o!==0&&(r=o,e=Op(t,o))),e===1))throw n=ja,Ci(t,0),Lr(t,r),qt(t,He()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:Ti(t,zt,sr);break;case 3:if(Lr(t,r),(r&130023424)===r&&(e=lg+500-He(),10<e)){if(oc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pp(Ti.bind(null,t,zt,sr),e);break}Ti(t,zt,sr);break;case 4:if(Lr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-In(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tC(r/1960))-r,10<r){t.timeoutHandle=pp(Ti.bind(null,t,zt,sr),r);break}Ti(t,zt,sr);break;case 5:Ti(t,zt,sr);break;default:throw Error(V(329))}}}return qt(t,He()),t.callbackNode===n?s1.bind(null,t):null}function Op(t,e){var n=ma;return t.current.memoizedState.isDehydrated&&(Ci(t,e).flags|=256),t=Sc(t,e),t!==2&&(e=zt,zt=n,e!==null&&Dp(e)),t}function Dp(t){zt===null?zt=t:zt.push.apply(zt,t)}function nC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lr(t,e){for(e&=~ag,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function s0(t){if(ye&6)throw Error(V(327));Vs();var e=oc(t,0);if(!(e&1))return qt(t,He()),null;var n=Sc(t,e);if(t.tag!==0&&n===2){var r=op(t);r!==0&&(e=r,n=Op(t,r))}if(n===1)throw n=ja,Ci(t,0),Lr(t,e),qt(t,He()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,zt,sr),qt(t,He()),null}function ug(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Zs=He()+500,oh&&ci())}}function Fi(t){Br!==null&&Br.tag===0&&!(ye&6)&&Vs();var e=ye;ye|=1;var n=dn.transition,r=Te;try{if(dn.transition=null,Te=1,t)return t()}finally{Te=r,dn.transition=n,ye=e,!(ye&6)&&ci()}}function cg(){Gt=ks.current,be(ks)}function Ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nk(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Hm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hc();break;case 3:Gs(),be(Ht),be(kt),Jm();break;case 5:Ym(r);break;case 4:Gs();break;case 13:be(Me);break;case 19:be(Me);break;case 10:Km(r.type._context);break;case 22:case 23:cg()}n=n.return}if(lt=t,Qe=t=Qr(t.current,null),gt=Gt=e,nt=0,ja=null,ag=ch=Ui=0,zt=ma=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}xi=null}return t}function o1(t,e){do{var n=Qe;try{if(Gm(),Fu.current=wc,vc){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vc=!1}if(Vi=0,at=tt=Ve=null,fa=!1,Ua=0,og.current=null,n===null||n.return===null){nt=1,ja=e,Qe=null;break}e:{var o=t,a=n.return,c=n,h=e;if(e=gt,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,p=c,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var I=qv(a);if(I!==null){I.flags&=-257,Gv(I,a,c,o,e),I.mode&1&&Wv(o,f,e),e=I,h=f;var E=e.updateQueue;if(E===null){var x=new Set;x.add(h),e.updateQueue=x}else E.add(h);break e}else{if(!(e&1)){Wv(o,f,e),hg();break e}h=Error(V(426))}}else if(Oe&&c.mode&1){var k=qv(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Gv(k,a,c,o,e),Wm(Ks(h,c));break e}}o=h=Ks(h,c),nt!==4&&(nt=2),ma===null?ma=[o]:ma.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var T=$T(o,h,e);Uv(o,T);break e;case 1:c=h;var w=o.type,P=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Kr===null||!Kr.has(P)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=HT(o,c,e);Uv(o,C);break e}}o=o.return}while(o!==null)}u1(n)}catch(U){e=U,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(1)}function a1(){var t=Ec.current;return Ec.current=wc,t===null?wc:t}function hg(){(nt===0||nt===3||nt===2)&&(nt=4),lt===null||!(Ui&268435455)&&!(ch&268435455)||Lr(lt,gt)}function Sc(t,e){var n=ye;ye|=2;var r=a1();(lt!==t||gt!==e)&&(sr=null,Ci(t,e));do try{rC();break}catch(i){o1(t,i)}while(1);if(Gm(),ye=n,Ec.current=r,Qe!==null)throw Error(V(261));return lt=null,gt=0,nt}function rC(){for(;Qe!==null;)l1(Qe)}function iC(){for(;Qe!==null&&!kR();)l1(Qe)}function l1(t){var e=h1(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?u1(t):Qe=e,og.current=null}function u1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Xk(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Qe=null;return}}else if(n=Qk(n,e,Gt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);nt===0&&(nt=5)}function Ti(t,e,n){var r=Te,i=dn.transition;try{dn.transition=null,Te=1,sC(t,e,n,r)}finally{dn.transition=i,Te=r}return null}function sC(t,e,n,r){do Vs();while(Br!==null);if(ye&6)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(FR(t,o),t===lt&&(Qe=lt=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vu||(vu=!0,d1(sc,function(){return Vs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dn.transition,dn.transition=null;var a=Te;Te=1;var c=ye;ye|=4,og.current=null,Jk(t,n),r1(n,t),xk(dp),ac=!!hp,dp=hp=null,t.current=n,eC(n),CR(),ye=c,Te=a,dn.transition=o}else t.current=n;if(vu&&(vu=!1,Br=t,Ic=i),o=t.pendingLanes,o===0&&(Kr=null),LR(n.stateNode),qt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tc)throw Tc=!1,t=Np,Np=null,t;return Ic&1&&t.tag!==0&&Vs(),o=t.pendingLanes,o&1?t===Lp?ga++:(ga=0,Lp=t):ga=0,ci(),null}function Vs(){if(Br!==null){var t=zE(Ic),e=dn.transition,n=Te;try{if(dn.transition=null,Te=16>t?16:t,Br===null)var r=!1;else{if(t=Br,Br=null,Ic=0,ye&6)throw Error(V(331));var i=ye;for(ye|=4,W=t.current;W!==null;){var o=W,a=o.child;if(W.flags&16){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(W=f;W!==null;){var p=W;switch(p.tag){case 0:case 11:case 15:pa(8,p,o)}var g=p.child;if(g!==null)g.return=p,W=g;else for(;W!==null;){p=W;var y=p.sibling,I=p.return;if(e1(p),p===f){W=null;break}if(y!==null){y.return=I,W=y;break}W=I}}}var E=o.alternate;if(E!==null){var x=E.child;if(x!==null){E.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}W=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,W=a;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pa(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,W=T;break e}W=o.return}}var w=t.current;for(W=w;W!==null;){a=W;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,W=P;else e:for(a=w;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:uh(9,c)}}catch(U){je(c,c.return,U)}if(c===a){W=null;break e}var C=c.sibling;if(C!==null){C.return=c.return,W=C;break e}W=c.return}}if(ye=i,ci(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(th,t)}catch{}r=!0}return r}finally{Te=n,dn.transition=e}}return!1}function o0(t,e,n){e=Ks(n,e),e=$T(t,e,1),t=Gr(t,e,1),e=Mt(),t!==null&&(ul(t,1,e),qt(t,e))}function je(t,e,n){if(t.tag===3)o0(t,t,n);else for(;e!==null;){if(e.tag===3){o0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kr===null||!Kr.has(r))){t=Ks(n,t),t=HT(e,t,1),e=Gr(e,t,1),t=Mt(),e!==null&&(ul(e,1,t),qt(e,t));break}}e=e.return}}function oC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(gt&n)===n&&(nt===4||nt===3&&(gt&130023424)===gt&&500>He()-lg?Ci(t,0):ag|=n),qt(t,e)}function c1(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=Mt();t=_r(t,e),t!==null&&(ul(t,e,n),qt(t,n))}function aC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c1(t,n)}function lC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),c1(t,n)}var h1;h1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,Zk(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Oe&&e.flags&1048576&&pT(e,pc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ju(t,e),t=e.pendingProps;var i=Hs(e,kt.current);Ms(e,n),i=tg(null,e,r,t,i,n);var o=ng();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(o=!0,dc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qm(e),i.updater=ah,e.stateNode=i,i._reactInternals=e,Ep(e,r,t,n),e=Sp(null,e,r,!0,o,n)):(e.tag=0,Oe&&o&&$m(e),Ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ju(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cC(r),t=vn(r,t),i){case 0:e=Ip(null,e,r,t,n);break e;case 1:e=Qv(null,e,r,t,n);break e;case 11:e=Kv(null,e,r,t,n);break e;case 14:e=Zv(null,e,r,vn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),Ip(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),Qv(t,e,r,i,n);case 3:e:{if(KT(e),t===null)throw Error(V(387));r=e.pendingProps,o=e.memoizedState,i=o.element,yT(t,e),_c(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ks(Error(V(423)),e),e=Xv(t,e,r,n,i);break e}else if(r!==i){i=Ks(Error(V(424)),e),e=Xv(t,e,r,n,i);break e}else for(Kt=qr(e.stateNode.containerInfo.firstChild),Qt=e,Oe=!0,En=null,n=TT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ws(),r===i){e=yr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return IT(e),t===null&&yp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,fp(r,i)?a=null:o!==null&&fp(r,o)&&(e.flags|=32),GT(t,e),Ot(t,e,a,n),e.child;case 6:return t===null&&yp(e),null;case 13:return ZT(t,e,n);case 4:return Xm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),Kv(t,e,r,i,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ae(mc,r._currentValue),r._currentValue=a,o!==null)if(xn(o.value,a)){if(o.children===i.children&&!Ht.current){e=yr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=dr(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?h.next=h:(h.next=p.next,p.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),vp(o.return,n,e),c.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(V(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),vp(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ms(e,n),i=pn(i),r=r(i),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,i=vn(r,e.pendingProps),i=vn(r.type,i),Zv(t,e,r,i,n);case 15:return WT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),ju(t,e),e.tag=1,Wt(r)?(t=!0,dc(e)):t=!1,Ms(e,n),wT(e,r,i),Ep(e,r,i,n),Sp(null,e,r,!0,t,n);case 19:return QT(t,e,n);case 22:return qT(t,e,n)}throw Error(V(156,e.tag))};function d1(t,e){return UE(t,e)}function uC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new uC(t,e,n,r)}function dg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cC(t){if(typeof t=="function")return dg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bm)return 11;if(t===Nm)return 14}return 2}function Qr(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hu(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")dg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case vs:return bi(n.children,i,o,e);case Cm:a=8,i|=8;break;case Wf:return t=hn(12,n,e,i|2),t.elementType=Wf,t.lanes=o,t;case qf:return t=hn(13,n,e,i),t.elementType=qf,t.lanes=o,t;case Gf:return t=hn(19,n,e,i),t.elementType=Gf,t.lanes=o,t;case EE:return hh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vE:a=10;break e;case wE:a=9;break e;case bm:a=11;break e;case Nm:a=14;break e;case Cr:a=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=hn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function bi(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function hh(t,e,n,r){return t=hn(22,t,r,e),t.elementType=EE,t.lanes=n,t.stateNode={isHidden:!1},t}function df(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function ff(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qd(0),this.expirationTimes=qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fg(t,e,n,r,i,o,a,c,h){return t=new hC(t,e,n,c,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qm(o),t}function dC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f1(t){if(!t)return ri;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(Wt(n))return dT(t,n,e)}return e}function p1(t,e,n,r,i,o,a,c,h){return t=fg(n,r,!0,t,i,o,a,c,h),t.context=f1(null),n=t.current,r=Mt(),i=Zr(n),o=dr(r,i),o.callback=e??null,Gr(n,o,i),t.current.lanes=i,ul(t,i,r),qt(t,r),t}function dh(t,e,n,r){var i=e.current,o=Mt(),a=Zr(i);return n=f1(n),e.context===null?e.context=n:e.pendingContext=n,e=dr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gr(i,e,a),t!==null&&(Sn(t,i,a,o),Uu(t,i,a)),a}function xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pg(t,e){a0(t,e),(t=t.alternate)&&a0(t,e)}function fC(){return null}var m1=typeof reportError=="function"?reportError:function(t){console.error(t)};function mg(t){this._internalRoot=t}fh.prototype.render=mg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));dh(t,e,null,null)};fh.prototype.unmount=mg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){dh(null,t,null,null)}),e[gr]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var e=WE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nr.length&&e!==0&&e<Nr[n].priority;n++);Nr.splice(n,0,t),n===0&&GE(t)}};function gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l0(){}function pC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=xc(a);o.call(f)}}var a=p1(e,r,t,0,null,!1,!1,"",l0);return t._reactRootContainer=a,t[gr]=a.current,La(t.nodeType===8?t.parentNode:t),Fi(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var f=xc(h);c.call(f)}}var h=fg(t,0,!1,null,null,!1,!1,"",l0);return t._reactRootContainer=h,t[gr]=h.current,La(t.nodeType===8?t.parentNode:t),Fi(function(){dh(e,h,n,r)}),h}function mh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var c=i;i=function(){var h=xc(a);c.call(h)}}dh(e,a,t,i)}else a=pC(n,e,t,i,r);return xc(a)}$E=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ea(e.pendingLanes);n!==0&&(Dm(e,n|1),qt(e,He()),!(ye&6)&&(Zs=He()+500,ci()))}break;case 13:Fi(function(){var r=_r(t,1);if(r!==null){var i=Mt();Sn(r,t,1,i)}}),pg(t,1)}};Mm=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=Mt();Sn(e,t,134217728,n)}pg(t,134217728)}};HE=function(t){if(t.tag===13){var e=Zr(t),n=_r(t,e);if(n!==null){var r=Mt();Sn(n,t,e,r)}pg(t,e)}};WE=function(){return Te};qE=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};rp=function(t,e,n){switch(e){case"input":if(Qf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sh(r);if(!i)throw Error(V(90));IE(r),Qf(r,i)}}}break;case"textarea":xE(t,n);break;case"select":e=n.value,e!=null&&Ns(t,!!n.multiple,e,!1)}};NE=ug;LE=Fi;var mC={usingClientEntryPoint:!1,Events:[hl,Is,sh,CE,bE,ug]},qo={findFiberByHostInstance:Si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gC={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ME(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||fC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{th=wu.inject(gC),jn=wu}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mC;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gg(e))throw Error(V(200));return dC(t,e,null,n)};en.createRoot=function(t,e){if(!gg(t))throw Error(V(299));var n=!1,r="",i=m1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fg(t,1,!1,null,null,n,!1,r,i),t[gr]=e.current,La(t.nodeType===8?t.parentNode:t),new mg(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=ME(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return Fi(t)};en.hydrate=function(t,e,n){if(!ph(e))throw Error(V(200));return mh(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!gg(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=m1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=p1(e,null,t,1,n??null,i,!1,o,a),t[gr]=e.current,La(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fh(e)};en.render=function(t,e,n){if(!ph(e))throw Error(V(200));return mh(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!ph(t))throw Error(V(40));return t._reactRootContainer?(Fi(function(){mh(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};en.unstable_batchedUpdates=ug;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ph(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return mh(t,e,n,!1,r)};en.version="18.2.0-next-9e3b772b8-20220608";function g1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g1)}catch(t){console.error(t)}}g1(),pE.exports=en;var _C=pE.exports,u0=_C;$f.createRoot=u0.createRoot,$f.hydrateRoot=u0.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],c=t[n++],h=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,c=a?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,p=o>>2,g=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,I=f&63;h||(I=64,a||(y=64)),r.push(n[p],n[g],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||g==null)throw new vC;const y=o<<2|c>>4;if(r.push(y),f!==64){const I=c<<4&240|f>>2;if(r.push(I),g!==64){const E=f<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wC=function(t){const e=_1(t);return y1.encodeByteArray(e,!0)},Pc=function(t){return wC(t).replace(/\./g,"")},v1=function(t){try{return y1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=()=>EC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v1(t[1]);return e&&JSON.parse(e)},gh=()=>{try{return TC()||IC()||SC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},w1=t=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},E1=t=>{const e=w1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},T1=()=>{var t;return(t=gh())===null||t===void 0?void 0:t.config},I1=t=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[Pc(JSON.stringify(n)),Pc(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function AC(){var t;const e=(t=gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CC(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bC(){try{return typeof indexedDB=="object"}catch{return!1}}function NC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="FirebaseError";class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LC,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?OC(o,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Xn(i,c,r)}}function OC(t,e){return t.replace(DC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DC=/\{\$([^}]+)}/g;function MC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ac(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(c0(o)&&c0(a)){if(!Ac(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function c0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function na(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ra(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VC(t,e){const n=new UC(t,e);return n.subscribe.bind(n)}class UC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pf),i.error===void 0&&(i.error=pf),i.complete===void 0&&(i.complete=pf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zC(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jC(t){return t===Ii?void 0:t}function zC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const HC={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},WC=fe.INFO,qC={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},GC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _g{constructor(e){this.name=e,this._logLevel=WC,this._logHandler=GC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const KC=(t,e)=>e.some(n=>t instanceof n);let h0,d0;function ZC(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QC(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x1=new WeakMap,Mp=new WeakMap,P1=new WeakMap,mf=new WeakMap,yg=new WeakMap;function XC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Xr(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&x1.set(n,t)}).catch(()=>{}),yg.set(e,t),e}function YC(t){if(Mp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Mp.set(t,e)}let Vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||P1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JC(t){Vp=t(Vp)}function eb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gf(this),e,...n);return P1.set(r,e.sort?e.sort():[e]),Xr(r)}:QC().includes(t)?function(...e){return t.apply(gf(this),e),Xr(x1.get(this))}:function(...e){return Xr(t.apply(gf(this),e))}}function tb(t){return typeof t=="function"?eb(t):(t instanceof IDBTransaction&&YC(t),KC(t,ZC())?new Proxy(t,Vp):t)}function Xr(t){if(t instanceof IDBRequest)return XC(t);if(mf.has(t))return mf.get(t);const e=tb(t);return e!==t&&(mf.set(t,e),yg.set(e,t)),e}const gf=t=>yg.get(t);function nb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),c=Xr(a);return r&&a.addEventListener("upgradeneeded",h=>{r(Xr(a.result),h.oldVersion,h.newVersion,Xr(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const rb=["get","getKey","getAll","getAllKeys","count"],ib=["put","add","delete","clear"],_f=new Map;function f0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_f.get(e))return _f.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ib.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rb.includes(n)))return;const o=async function(a,...c){const h=this.transaction(a,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return _f.set(e,o),o}JC(t=>({...t,get:(e,n,r)=>f0(e,n)||t.get(e,n,r),has:(e,n)=>!!f0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ob(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ob(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Up="@firebase/app",p0="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new _g("@firebase/app"),ab="@firebase/app-compat",lb="@firebase/analytics-compat",ub="@firebase/analytics",cb="@firebase/app-check-compat",hb="@firebase/app-check",db="@firebase/auth",fb="@firebase/auth-compat",pb="@firebase/database",mb="@firebase/database-compat",gb="@firebase/functions",_b="@firebase/functions-compat",yb="@firebase/installations",vb="@firebase/installations-compat",wb="@firebase/messaging",Eb="@firebase/messaging-compat",Tb="@firebase/performance",Ib="@firebase/performance-compat",Sb="@firebase/remote-config",xb="@firebase/remote-config-compat",Pb="@firebase/storage",Ab="@firebase/storage-compat",Rb="@firebase/firestore",kb="@firebase/firestore-compat",Cb="firebase",bb="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",Nb={[Up]:"fire-core",[ab]:"fire-core-compat",[ub]:"fire-analytics",[lb]:"fire-analytics-compat",[hb]:"fire-app-check",[cb]:"fire-app-check-compat",[db]:"fire-auth",[fb]:"fire-auth-compat",[pb]:"fire-rtdb",[mb]:"fire-rtdb-compat",[gb]:"fire-fn",[_b]:"fire-fn-compat",[yb]:"fire-iid",[vb]:"fire-iid-compat",[wb]:"fire-fcm",[Eb]:"fire-fcm-compat",[Tb]:"fire-perf",[Ib]:"fire-perf-compat",[Sb]:"fire-rc",[xb]:"fire-rc-compat",[Pb]:"fire-gcs",[Ab]:"fire-gcs-compat",[Rb]:"fire-fst",[kb]:"fire-fst-compat","fire-js":"fire-js",[Cb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,Bp=new Map;function Lb(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ji(t){const e=t.name;if(Bp.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,t);for(const n of Rc.values())Lb(n,t);return!0}function _h(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yr=new fl("app","Firebase",Ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=bb;function A1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(n||(n=T1()),!n)throw Yr.create("no-options");const o=Rc.get(i);if(o){if(Ac(n,o.options)&&Ac(r,o.config))return o;throw Yr.create("duplicate-app",{appName:i})}const a=new $C(i);for(const h of Bp.values())a.addComponent(h);const c=new Db(n,r,a);return Rc.set(i,c),c}function vg(t=Fp){const e=Rc.get(t);if(!e&&t===Fp&&T1())return A1();if(!e)throw Yr.create("no-app",{appName:t});return e}function $n(t,e,n){var r;let i=(r=Nb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(c.join(" "));return}ji(new ii(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebase-heartbeat-database",Vb=1,za="firebase-heartbeat-store";let yf=null;function R1(){return yf||(yf=nb(Mb,Vb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(za)}}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),yf}async function Ub(t){try{return await(await R1()).transaction(za).objectStore(za).get(k1(t))}catch(e){if(e instanceof Xn)Bi.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(n.message)}}}async function m0(t,e){try{const r=(await R1()).transaction(za,"readwrite");await r.objectStore(za).put(e,k1(t)),await r.done}catch(n){if(n instanceof Xn)Bi.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(r.message)}}}function k1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=1024,Bb=30*24*60*60*1e3;class jb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $b(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=g0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=Bb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=g0(),{heartbeatsToSend:n,unsentEntries:r}=zb(this._heartbeatsCache.heartbeats),i=Pc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function g0(){return new Date().toISOString().substring(0,10)}function zb(t,e=Fb){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),_0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $b{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bC()?NC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Ub(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _0(t){return Pc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){ji(new ii("platform-logger",e=>new sb(e),"PRIVATE")),ji(new ii("heartbeat",e=>new jb(e),"PRIVATE")),$n(Up,p0,t),$n(Up,p0,"esm2017"),$n("fire-js","")}Hb("");function wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function y0(t){return t!==void 0&&t.enterprise!==void 0}class Wb{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function C1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qb=C1,b1=new fl("auth","Firebase",C1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new _g("@firebase/auth");function Gb(t,...e){kc.logLevel<=fe.WARN&&kc.warn(`Auth (${Qi}): ${t}`,...e)}function Wu(t,...e){kc.logLevel<=fe.ERROR&&kc.error(`Auth (${Qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw Eg(t,...e)}function Hn(t,...e){return Eg(t,...e)}function Kb(t,e,n){const r=Object.assign(Object.assign({},qb()),{[e]:n});return new fl("auth","Firebase",r).create(e,{appName:t.name})}function Eg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return b1.create(t,...e)}function Y(t,e,...n){if(!t)throw Eg(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wu(e),new Error(e)}function vr(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Zb(){return v0()==="http:"||v0()==="https:"}function v0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zb()||RC()||"connection"in navigator)?navigator.onLine:!0}function Xb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=PC()||kC()}get(){return Qb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e){vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new ml(3e4,6e4);function Xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hi(t,e,n,r,i={}){return L1(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const c=pl(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),N1.fetch()(O1(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function L1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yb),e);try{const i=new eN(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Eu(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw Eu(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw Eu(t,"user-disabled",a);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Kb(t,p,f);Pn(t,p)}}catch(i){if(i instanceof Xn)throw i;Pn(t,"network-request-failed",{message:String(i)})}}async function gl(t,e,n,r,i={}){const o=await hi(t,e,n,r,i);return"mfaPendingCredential"in o&&Pn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function O1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Tg(t.config,i):`${t.config.apiScheme}://${i}`}class eN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),Jb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Eu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hn(t,e,r);return i.customData._tokenResponse=n,i}async function tN(t,e){return hi(t,"GET","/v2/recaptchaConfig",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e){return hi(t,"POST","/v1/accounts:delete",e)}async function rN(t,e){return hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iN(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),i=Ig(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:_a(vf(i.auth_time)),issuedAtTime:_a(vf(i.iat)),expirationTime:_a(vf(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function Ig(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{const i=v1(n);return i?JSON.parse(i):(Wu("Failed to decode base64 JWT payload"),null)}catch(i){return Wu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sN(t){const e=Ig(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xn&&oN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_a(this.lastLoginAt),this.creationTime=_a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qs(t,rN(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cN(o.providerUserInfo):[],c=uN(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new D1(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function lN(t){const e=Ye(t);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cN(t){return t.map(e=>{var{providerId:n}=e,r=wg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(t,e){const n=await L1(t,{},async()=>{const r=pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=O1(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",N1.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Y(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await hN(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new $a;return r&&(Y(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new D1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qs(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iN(this,e)}reload(){return lN(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qs(this,nN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,c,h,f,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,w=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:C,isAnonymous:U,providerData:j,stsTokenManager:$}=n;Y(P&&$,e,"internal-error");const q=$a.fromJSON(this.name,$);Y(typeof P=="string",e,"internal-error"),Rr(g,e.name),Rr(y,e.name),Y(typeof C=="boolean",e,"internal-error"),Y(typeof U=="boolean",e,"internal-error"),Rr(I,e.name),Rr(E,e.name),Rr(x,e.name),Rr(k,e.name),Rr(T,e.name),Rr(w,e.name);const de=new Ni({uid:P,auth:e,email:y,emailVerified:C,displayName:g,isAnonymous:U,photoURL:E,phoneNumber:I,tenantId:x,stsTokenManager:q,createdAt:T,lastLoginAt:w});return j&&Array.isArray(j)&&(de.providerData=j.map(ie=>Object.assign({},ie))),k&&(de._redirectEventId=k),de}static async _fromIdTokenResponse(e,n,r=!1){const i=new $a;i.updateFromServerResponse(n);const o=new Ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;function cr(t){vr(t instanceof Function,"Expected a class definition");let e=w0.get(t);return e?(vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,w0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M1.type="NONE";const E0=M1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t,e,n){return`firebase:${t}:${e}:${n}`}class Us{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=qu(this.userKey,i.apiKey,o),this.fullPersistenceKey=qu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Us(cr(E0),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||cr(E0);const a=qu(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(a);if(p){const g=Ni._fromJSON(e,p);f!==o&&(c=g),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Us(o,e,r):(o=h[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new Us(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j1(e))return"Blackberry";if(z1(e))return"Webos";if(Sg(e))return"Safari";if((e.includes("chrome/")||U1(e))&&!e.includes("edge/"))return"Chrome";if(B1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function V1(t=Ct()){return/firefox\//i.test(t)}function Sg(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U1(t=Ct()){return/crios\//i.test(t)}function F1(t=Ct()){return/iemobile/i.test(t)}function B1(t=Ct()){return/android/i.test(t)}function j1(t=Ct()){return/blackberry/i.test(t)}function z1(t=Ct()){return/webos/i.test(t)}function yh(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dN(t=Ct()){var e;return yh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fN(){return CC()&&document.documentMode===10}function $1(t=Ct()){return yh(t)||B1(t)||z1(t)||j1(t)||/windows phone/i.test(t)||F1(t)}function pN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e=[]){let n;switch(t){case"Browser":n=T0(Ct());break;case"Worker":n=`${T0(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,c)=>{try{const h=e(o);a(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t,e={}){return hi(t,"GET","/v2/passwordPolicy",Xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=6;class yN{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:_N,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new mN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Us.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ye(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gN(this),n=new yN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Us.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Gb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yi(t){return Ye(t)}class I0{constructor(e){this.auth=e,this.observer=null,this.addObserver=VC(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function W1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Hn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",wN().appendChild(r)})}function EN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TN="https://www.google.com/recaptcha/enterprise.js?render=",IN="recaptcha-enterprise",SN="NO_RECAPTCHA";class xN{constructor(e){this.type=IN,this.auth=Yi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{tN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new Wb(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(h=>{c(h)})})}function i(o,a,c){const h=window.grecaptcha;y0(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(SN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(c=>{if(!n&&y0(window.grecaptcha))i(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}W1(TN+c).then(()=>{i(c,o,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})}}async function bc(t,e,n,r=!1){const i=new xN(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e){const n=_h(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ac(o,e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}function AN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RN(t,e,n){const r=Yi(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=q1(e),{host:a,port:c}=kN(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${a}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||CN()}function q1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kN(t){const e=q1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:S0(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:S0(a)}}}function S0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function bN(t,e){return hi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t,e){return gl(t,"POST","/v1/accounts:signInWithPassword",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}async function LN(t,e){return gl(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends xg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ha(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ha(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await bc(e,r,"signInWithPassword");return wf(e,i)}else return wf(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await bc(e,r,"signInWithPassword");return wf(e,o)}else return Promise.reject(i)});case"emailLink":return NN(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return bN(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return LN(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t,e){return gl(t,"POST","/v1/accounts:signInWithIdp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="http://localhost";class zi extends xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=wg(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new zi(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fs(e,n)}buildRequest(){const e={requestUri:ON,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MN(t){const e=na(ra(t)).link,n=e?na(ra(e)).deep_link_id:null,r=na(ra(t)).deep_link_id;return(r?na(ra(r)).link:null)||r||n||e||t}class Pg{constructor(e){var n,r,i,o,a,c;const h=na(ra(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(r=h.oobCode)!==null&&r!==void 0?r:null,g=DN((i=h.mode)!==null&&i!==void 0?i:null);Y(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=MN(e);try{return new Pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,n){return Ha._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pg.parseLink(n);return Y(r,"argument-error"),Ha._fromEmailAndCode(e,r.code,r.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends G1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends _l{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends _l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends _l{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends _l{constructor(){super("twitter.com")}static credential(e,n){return zi._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t,e){return gl(t,"POST","/v1/accounts:signUp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ni._fromIdTokenResponse(e,r,i),a=x0(r);return new $i({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x0(r);return new $i({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Xn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nc(e,n,r,i)}}function K1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(t,o,e,r):o})}async function VN(t,e,n=!1){const r=await Qs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Qs(t,K1(r,i,e,t),n);Y(o.idToken,r,"internal-error");const a=Ig(o.idToken);Y(a,r,"internal-error");const{sub:c}=a;return Y(t.uid===c,r,"user-mismatch"),$i._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(t,e,n=!1){const r="signIn",i=await K1(t,r,e),o=await $i._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function FN(t,e){return Z1(Yi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(t){const e=Yi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BN(t,e,n){var r;const i=Yi(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const f=await bc(i,o,"signUpPassword");a=Ef(i,f)}else a=Ef(i,o).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const p=await bc(i,o,"signUpPassword");return Ef(i,p)}throw f});const c=await a.catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Q1(t),f}),h=await $i._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function jN(t,e,n){return FN(Ye(t),co.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Q1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e){return hi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ye(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Qs(r,zN(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function HN(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function WN(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function qN(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function GN(t){return Ye(t).signOut()}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){const t=Ct();return Sg(t)||yh(t)}const ZN=1e3,QN=10;class Y1 extends X1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=KN()&&pN(),this.fallbackToPolling=$1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,h)=>{this.notifyListeners(a,h)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);fN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y1.type="LOCAL";const XN=Y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends X1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J1.type="SESSION";const eI=J1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async f=>f(n.origin,o)),h=await YN(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((c,h)=>{const f=Ag("",20);i.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function eL(t){Wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function tL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rL(){return tI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firebaseLocalStorageDb",iL=1,Oc="firebaseLocalStorage",rI="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(t,e){return t.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function sL(){const t=indexedDB.deleteDatabase(nI);return new yl(t).toPromise()}function zp(){const t=indexedDB.open(nI,iL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Oc,{keyPath:rI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Oc)?e(r):(r.close(),await sL(),e(await zp()))})})}async function P0(t,e,n){const r=wh(t,!0).put({[rI]:e,value:n});return new yl(r).toPromise()}async function oL(t,e){const n=wh(t,!1).get(e),r=await new yl(n).toPromise();return r===void 0?null:r.value}function A0(t,e){const n=wh(t,!0).delete(e);return new yl(n).toPromise()}const aL=800,lL=3;class iI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(rL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tL(),!this.activeServiceWorker)return;this.sender=new JN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await P0(e,Lc,"1"),await A0(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=wh(i,!1).getAll();return new yl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iI.type="LOCAL";const uL=iI;new ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t,e){return e?cr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hL(t){return Z1(t.auth,new Rg(t),t.bypassAuthState)}function dL(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),UN(n,new Rg(t),t.bypassAuthState)}async function fL(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),VN(n,new Rg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hL;case"linkViaPopup":case"linkViaRedirect":return fL;case"reauthViaPopup":case"reauthViaRedirect":return dL;default:Pn(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new ml(2e3,1e4);class Cs extends sI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pL.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="pendingRedirect",Gu=new Map;class gL extends sI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gu.get(this.auth._key());if(!e){try{const r=await _L(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _L(t,e){const n=wL(e),r=vL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yL(t,e){Gu.set(t._key(),e)}function vL(t){return cr(t._redirectPersistence)}function wL(t){return qu(mL,t.config.apiKey,t.name)}async function EL(t,e,n=!1){const r=Yi(t),i=cL(r,e),a=await new gL(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=10*60*1e3;class IL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TL&&this.cachedEventUids.clear(),this.cachedEventUids.has(R0(e))}saveEventToCache(e){this.cachedEventUids.add(R0(e)),this.lastProcessedEventTime=Date.now()}}function R0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e={}){return hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AL=/^https?/;async function RL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xL(t);for(const n of e)try{if(kL(n))return}catch{}Pn(t,"unauthorized-domain")}function kL(t){const e=jp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!AL.test(n))return!1;if(PL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new ml(3e4,6e4);function k0(){const t=Wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bL(t){return new Promise((e,n)=>{var r,i,o;function a(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),n(Hn(t,"network-request-failed"))},timeout:CL.get()})}if(!((i=(r=Wn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Wn().gapi)===null||o===void 0)&&o.load)a();else{const c=EN("iframefcb");return Wn()[c]=()=>{gapi.load?a():n(Hn(t,"network-request-failed"))},W1(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Ku=null,e})}let Ku=null;function NL(t){return Ku=Ku||bL(t),Ku}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new ml(5e3,15e3),OL="__/auth/iframe",DL="emulator/auth/iframe",ML={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UL(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tg(e,DL):`https://${t.config.authDomain}/${OL}`,r={apiKey:e.apiKey,appName:t.name,v:Qi},i=VL.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${pl(r).slice(1)}`}async function FL(t){const e=await NL(t),n=Wn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:UL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ML,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Hn(t,"network-request-failed"),c=Wn().setTimeout(()=>{o(a)},LL.get());function h(){Wn().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jL=500,zL=600,$L="_blank",HL="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WL(t,e,n,r=jL,i=zL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},BL),{width:r.toString(),height:i.toString(),top:o,left:a}),f=Ct().toLowerCase();n&&(c=U1(f)?$L:n),V1(f)&&(e=e||HL,h.scrollbars="yes");const p=Object.entries(h).reduce((y,[I,E])=>`${y}${I}=${E},`,"");if(dN(f)&&c!=="_self")return qL(e||"",c),new C0(null);const g=window.open(e||"",c,p);Y(g,t,"popup-blocked");try{g.focus()}catch{}return new C0(g)}function qL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="__/auth/handler",KL="emulator/auth/handler",ZL=encodeURIComponent("fac");async function b0(t,e,n,r,i,o){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qi,eventId:i};if(e instanceof G1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",MC(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries(o||{}))a[p]=g}if(e instanceof _l){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),f=h?`#${ZL}=${encodeURIComponent(h)}`:"";return`${QL(t)}?${pl(c).slice(1)}${f}`}function QL({config:t}){return t.emulator?Tg(t,KL):`https://${t.authDomain}/${GL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class XL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eI,this._completeRedirectFn=EL,this._overrideRedirectResult=yL}async _openPopup(e,n,r,i){var o;vr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await b0(e,n,r,jp(),i);return WL(e,a,Ag())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await b0(e,n,r,jp(),i);return eL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(vr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FL(e),r=new IL(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tf,{type:Tf},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Tf];a!==void 0&&n(!!a),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $1()||Sg()||yh()}}const YL=XL;var N0="@firebase/auth",L0="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function tO(t){ji(new ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H1(t)},f=new vN(r,i,o,h);return AN(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ji(new ii("auth-internal",e=>{const n=Yi(e.getProvider("auth").getImmediate());return(r=>new JL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(N0,L0,eO(t)),$n(N0,L0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=5*60,rO=I1("authIdTokenMaxAge")||nO;let O0=null;const iO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rO)return;const i=n==null?void 0:n.token;O0!==i&&(O0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sO(t=vg()){const e=_h(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PN(t,{popupRedirectResolver:YL,persistence:[uL,XN,eI]}),r=I1("authTokenSyncURL");if(r){const o=iO(r);WN(n,o,()=>o(n.currentUser)),HN(n,a=>o(a))}const i=w1("auth");return i&&RN(n,`http://${i}`),n}tO("Browser");/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}var jr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jr||(jr={}));const D0="popstate";function oO(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:c}=r.location;return $p("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dc(i)}return lO(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aO(){return Math.random().toString(36).substr(2,8)}function M0(t,e){return{usr:t.state,key:t.key,idx:e}}function $p(t,e,n,r){return n===void 0&&(n=null),Wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ho(e):e,{state:n,key:e&&e.key||r||aO()})}function Dc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c=jr.Pop,h=null,f=p();f==null&&(f=0,a.replaceState(Wa({},a.state,{idx:f}),""));function p(){return(a.state||{idx:null}).idx}function g(){c=jr.Pop;let k=p(),T=k==null?null:k-f;f=k,h&&h({action:c,location:x.location,delta:T})}function y(k,T){c=jr.Push;let w=$p(x.location,k,T);n&&n(w,k),f=p()+1;let P=M0(w,f),C=x.createHref(w);try{a.pushState(P,"",C)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(C)}o&&h&&h({action:c,location:x.location,delta:1})}function I(k,T){c=jr.Replace;let w=$p(x.location,k,T);n&&n(w,k),f=p();let P=M0(w,f),C=x.createHref(w);a.replaceState(P,"",C),o&&h&&h({action:c,location:x.location,delta:0})}function E(k){let T=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof k=="string"?k:Dc(k);return We(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let x={get action(){return c},get location(){return t(i,a)},listen(k){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(D0,g),h=k,()=>{i.removeEventListener(D0,g),h=null}},createHref(k){return e(i,k)},createURL:E,encodeLocation(k){let T=E(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:I,go(k){return a.go(k)}};return x}var V0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(V0||(V0={}));function uO(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ho(e):e,i=Cg(r.pathname||"/",n);if(i==null)return null;let o=aI(t);cO(o);let a=null;for(let c=0;a==null&&c<o.length;++c)a=vO(o[c],TO(i));return a}function aI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(We(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=Jr([r,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(We(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),aI(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:_O(f,o.index),routesMeta:p})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,a);else for(let h of lI(o.path))i(o,a,h)}),e}function lI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=lI(r.join("/")),c=[];return c.push(...a.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...a),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function cO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hO=/^:\w+$/,dO=3,fO=2,pO=1,mO=10,gO=-2,U0=t=>t==="*";function _O(t,e){let n=t.split("/"),r=n.length;return n.some(U0)&&(r+=gO),e&&(r+=fO),n.filter(i=>!U0(i)).reduce((i,o)=>i+(hO.test(o)?dO:o===""?pO:mO),r)}function yO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vO(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],h=a===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=wO({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f);if(!p)return null;Object.assign(r,p.params);let g=c.route;o.push({params:r,pathname:Jr([i,p.pathname]),pathnameBase:PO(Jr([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Jr([i,p.pathnameBase]))}return o}function wO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,p,g)=>{if(p==="*"){let y=c[g]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}return f[p]=IO(c[g]||"",p),f},{}),pathname:o,pathnameBase:a,pattern:t}}function EO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,c)=>(r.push(c),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TO(t){try{return decodeURI(t)}catch(e){return kg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IO(t,e){try{return decodeURIComponent(t)}catch(n){return kg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Cg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ho(t):t;return{pathname:n?n.startsWith("/")?n:xO(n,e):e,search:AO(r),hash:RO(i)}}function xO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function If(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ng(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ho(t):(i=Wa({},t),We(!i.pathname||!i.pathname.includes("?"),If("?","pathname","search",i)),We(!i.pathname||!i.pathname.includes("#"),If("#","pathname","hash",i)),We(!i.search||!i.search.includes("#"),If("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,c;if(r||a==null)c=n;else{let g=e.length-1;if(a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}c=g>=0?e[g]:"/"}let h=SO(i,c),f=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}const Jr=t=>t.join("/").replace(/\/\/+/g,"/"),PO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uI=["post","put","patch","delete"];new Set(uI);const CO=["get",...uI];new Set(CO);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}const Lg=F.createContext(null),bO=F.createContext(null),fo=F.createContext(null),Eh=F.createContext(null),di=F.createContext({outlet:null,matches:[],isDataRoute:!1}),cI=F.createContext(null);function NO(t,e){let{relative:n}=e===void 0?{}:e;po()||We(!1);let{basename:r,navigator:i}=F.useContext(fo),{hash:o,pathname:a,search:c}=dI(t,{relative:n}),h=a;return r!=="/"&&(h=a==="/"?r:Jr([r,a])),i.createHref({pathname:h,search:c,hash:o})}function po(){return F.useContext(Eh)!=null}function mo(){return po()||We(!1),F.useContext(Eh).location}function hI(t){F.useContext(fo).static||F.useLayoutEffect(t)}function vl(){let{isDataRoute:t}=F.useContext(di);return t?WO():LO()}function LO(){po()||We(!1);let t=F.useContext(Lg),{basename:e,navigator:n}=F.useContext(fo),{matches:r}=F.useContext(di),{pathname:i}=mo(),o=JSON.stringify(bg(r).map(h=>h.pathnameBase)),a=F.useRef(!1);return hI(()=>{a.current=!0}),F.useCallback(function(h,f){if(f===void 0&&(f={}),!a.current)return;if(typeof h=="number"){n.go(h);return}let p=Ng(h,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Jr([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,o,i,t])}function dI(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=F.useContext(di),{pathname:i}=mo(),o=JSON.stringify(bg(r).map(a=>a.pathnameBase));return F.useMemo(()=>Ng(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function OO(t,e){return DO(t,e)}function DO(t,e,n){po()||We(!1);let{navigator:r}=F.useContext(fo),{matches:i}=F.useContext(di),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=mo(),f;if(e){var p;let x=typeof e=="string"?ho(e):e;c==="/"||(p=x.pathname)!=null&&p.startsWith(c)||We(!1),f=x}else f=h;let g=f.pathname||"/",y=c==="/"?g:g.slice(c.length)||"/",I=uO(t,{pathname:y}),E=BO(I&&I.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Jr([c,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Jr([c,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n);return e&&E?F.createElement(Eh.Provider,{value:{location:Mc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:jr.Pop}},E):E}function MO(){let t=HO(),e=kO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,o)}const VO=F.createElement(MO,null);class UO extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?F.createElement(di.Provider,{value:this.props.routeContext},F.createElement(cI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FO(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(Lg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(di.Provider,{value:e},r)}function BO(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||We(!1),o=o.slice(0,Math.min(o.length,c+1))}return o.reduceRight((c,h,f)=>{let p=h.route.id?a==null?void 0:a[h.route.id]:null,g=null;n&&(g=h.route.errorElement||VO);let y=e.concat(o.slice(0,f+1)),I=()=>{let E;return p?E=g:h.route.Component?E=F.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=c,F.createElement(FO,{match:h,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?F.createElement(UO,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:I(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):I()},null)}var fI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fI||{}),Vc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vc||{});function jO(t){let e=F.useContext(Lg);return e||We(!1),e}function zO(t){let e=F.useContext(bO);return e||We(!1),e}function $O(t){let e=F.useContext(di);return e||We(!1),e}function pI(t){let e=$O(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function HO(){var t;let e=F.useContext(cI),n=zO(Vc.UseRouteError),r=pI(Vc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function WO(){let{router:t}=jO(fI.UseNavigateStable),e=pI(Vc.UseNavigateStable),n=F.useRef(!1);return hI(()=>{n.current=!0}),F.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mc({fromRouteId:e},o)))},[t,e])}function qO(t){let{to:e,replace:n,state:r,relative:i}=t;po()||We(!1);let{matches:o}=F.useContext(di),{pathname:a}=mo(),c=vl(),h=Ng(e,bg(o).map(p=>p.pathnameBase),a,i==="path"),f=JSON.stringify(h);return F.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function ir(t){We(!1)}function GO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=jr.Pop,navigator:o,static:a=!1}=t;po()&&We(!1);let c=e.replace(/^\/*/,"/"),h=F.useMemo(()=>({basename:c,navigator:o,static:a}),[c,o,a]);typeof r=="string"&&(r=ho(r));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:I="default"}=r,E=F.useMemo(()=>{let x=Cg(f,c);return x==null?null:{location:{pathname:x,search:p,hash:g,state:y,key:I},navigationType:i}},[c,f,p,g,y,I,i]);return E==null?null:F.createElement(fo.Provider,{value:h},F.createElement(Eh.Provider,{children:n,value:E}))}function KO(t){let{children:e,location:n}=t;return OO(Hp(e),n)}new Promise(()=>{});function Hp(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let o=[...e,i];if(r.type===F.Fragment){n.push.apply(n,Hp(r.props.children,o));return}r.type!==ir&&We(!1),!r.props.index||!r.props.children||We(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Hp(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function ZO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XO(t,e){return t.button===0&&(!e||e==="_self")&&!QO(t)}const YO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],JO="startTransition",F0=aR[JO];function eD(t){let{basename:e,children:n,future:r,window:i}=t,o=F.useRef();o.current==null&&(o.current=oO({window:i,v5Compat:!0}));let a=o.current,[c,h]=F.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},p=F.useCallback(g=>{f&&F0?F0(()=>h(g)):h(g)},[h,f]);return F.useLayoutEffect(()=>a.listen(p),[a,p]),F.createElement(GO,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a})}const tD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qn=F.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:c,target:h,to:f,preventScrollReset:p}=e,g=ZO(e,YO),{basename:y}=F.useContext(fo),I,E=!1;if(typeof f=="string"&&nD.test(f)&&(I=f,tD))try{let w=new URL(window.location.href),P=f.startsWith("//")?new URL(w.protocol+f):new URL(f),C=Cg(P.pathname,y);P.origin===w.origin&&C!=null?f=C+P.search+P.hash:E=!0}catch{}let x=NO(f,{relative:i}),k=rD(f,{replace:a,state:c,target:h,preventScrollReset:p,relative:i});function T(w){r&&r(w),w.defaultPrevented||k(w)}return F.createElement("a",Wp({},g,{href:I||x,onClick:E||o?r:T,ref:n,target:h}))});var B0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(B0||(B0={}));var j0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(j0||(j0={}));function rD(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a}=e===void 0?{}:e,c=vl(),h=mo(),f=dI(t,{relative:a});return F.useCallback(p=>{if(XO(p,n)){p.preventDefault();let g=r!==void 0?r:Dc(h)===Dc(f);c(t,{replace:g,state:i,preventScrollReset:o,relative:a})}},[h,c,f,r,i,n,t,o,a])}var iD="firebase",sD="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(iD,sD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebasestorage.googleapis.com",gI="storageBucket",oD=2*60*1e3,aD=10*60*1e3,lD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be extends Xn{constructor(e,n,r=0){super(Sf(e),`Firebase Storage: ${n} (${Sf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Be.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Le;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Le||(Le={}));function Sf(t){return"storage/"+t}function Og(){const t="An unknown error occurred, please check the error payload for server response.";return new Be(Le.UNKNOWN,t)}function uD(t){return new Be(Le.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function cD(t){return new Be(Le.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Be(Le.UNAUTHENTICATED,t)}function dD(){return new Be(Le.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fD(t){return new Be(Le.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _I(){return new Be(Le.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yI(){return new Be(Le.CANCELED,"User canceled the upload/download.")}function pD(t){return new Be(Le.INVALID_URL,"Invalid URL '"+t+"'.")}function mD(t){return new Be(Le.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gD(){return new Be(Le.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gI+"' property when initializing the app?")}function vI(){return new Be(Le.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _D(){return new Be(Le.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function yD(){return new Be(Le.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vD(t){return new Be(Le.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qp(t){return new Be(Le.INVALID_ARGUMENT,t)}function wI(){return new Be(Le.APP_DELETED,"The Firebase app was deleted.")}function wD(t){return new Be(Le.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ya(t,e){return new Be(Le.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Go(t){throw new Be(Le.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zt.makeFromUrl(e,n)}catch{return new Zt(e,"")}if(r.path==="")return r;throw mD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),h={bucket:1,path:3};function f(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",I=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},x=n===mI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",T=new RegExp(`^https?://${x}/${i}/${k}`,"i"),P=[{regex:c,indices:h,postModify:o},{regex:I,indices:E,postModify:f},{regex:T,indices:{bucket:1,path:2},postModify:f}];for(let C=0;C<P.length;C++){const U=P[C],j=U.regex.exec(e);if(j){const $=j[U.indices.bucket];let q=j[U.indices.path];q||(q=""),r=new Zt($,q),U.postModify(r);break}}if(r==null)throw pD(e);return r}}class ED{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e,n){let r=1,i=null,o=null,a=!1,c=0;function h(){return c===2}let f=!1;function p(...k){f||(f=!0,e.apply(null,k))}function g(k){i=setTimeout(()=>{i=null,t(I,h())},k)}function y(){o&&clearTimeout(o)}function I(k,...T){if(f){y();return}if(k){y(),p.call(null,k,...T);return}if(h()||a){y(),p.call(null,k,...T);return}r<64&&(r*=2);let P;c===1?(c=2,P=0):P=(r+Math.random())*1e3,g(P)}let E=!1;function x(k){E||(E=!0,y(),!f&&(i!==null?(k||(c=2),clearTimeout(i),g(0)):k||(c=1)))}return g(0),o=setTimeout(()=>{a=!0,x(!0)},n),x}function ID(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return t!==void 0}function xD(t){return typeof t=="function"}function PD(t){return typeof t=="object"&&!Array.isArray(t)}function Th(t){return typeof t=="string"||t instanceof String}function z0(t){return Dg()&&t instanceof Blob}function Dg(){return typeof Blob<"u"&&!AC()}function $0(t,e,n,r){if(r<e)throw qp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function EI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Li;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Li||(Li={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r,i,o,a,c,h,f,p,g,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,E)=>{this.resolve_=I,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Tu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const c=o.getErrorCode()===Li.NO_ERROR,h=o.getStatus();if(!c||TI(h,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===Li.ABORT;r(!1,new Tu(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Tu(f,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());SD(h)?o(h):o()}catch(h){a(h)}else if(c!==null){const h=Og();h.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,h)):a(h)}else if(i.canceled){const h=this.appDelete_?wI():yI();a(h)}else{const h=_I();a(h)}};this.canceled_?n(!1,new Tu(!1,null,!0)):this.backoffId_=TD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ID(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ND(t,e,n,r,i,o,a=!0){const c=EI(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return CD(f,e),RD(f,n),kD(f,o),bD(f,r),new AD(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OD(...t){const e=LD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Dg())return new Blob(t);throw new Be(Le.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){if(typeof atob>"u")throw vD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xf{constructor(e,n){this.data=e,this.contentType=n||null}}function VD(t,e){switch(t){case Vn.RAW:return new xf(II(e));case Vn.BASE64:case Vn.BASE64URL:return new xf(SI(t,e));case Vn.DATA_URL:return new xf(FD(e),BD(e))}throw Og()}function II(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function UD(t){let e;try{e=decodeURIComponent(t)}catch{throw ya(Vn.DATA_URL,"Malformed data URL.")}return II(e)}function SI(t,e){switch(t){case Vn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw ya(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw ya(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=MD(e)}catch(i){throw i.message.includes("polyfill")?i:ya(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class xI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ya(Vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function FD(t){const e=new xI(t);return e.base64?SI(Vn.BASE64,e.rest):UD(e.rest)}function BD(t){return new xI(t).contentType}function jD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n){let r=0,i="";z0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(z0(this.data_)){const r=this.data_,i=DD(r,e,n);return i===null?null:new Ur(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ur(r,!0)}}static getBlob(...e){if(Dg()){const n=e.map(r=>r instanceof Ur?r.data_:r);return new Ur(OD.apply(null,n))}else{const n=e.map(a=>Th(a)?VD(Vn.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)i[o++]=a[c]}),new Ur(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){let e;try{e=JSON.parse(t)}catch{return null}return PD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $D(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function AI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e){return e}class Lt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||HD}}let Iu=null;function WD(t){return!Th(t)||t.length<2?t:AI(t)}function RI(){if(Iu)return Iu;const t=[];t.push(new Lt("bucket")),t.push(new Lt("generation")),t.push(new Lt("metageneration")),t.push(new Lt("name","fullPath",!0));function e(o,a){return WD(a)}const n=new Lt("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new Lt("size");return i.xform=r,t.push(i),t.push(new Lt("timeCreated")),t.push(new Lt("updated")),t.push(new Lt("md5Hash",null,!0)),t.push(new Lt("cacheControl",null,!0)),t.push(new Lt("contentDisposition",null,!0)),t.push(new Lt("contentEncoding",null,!0)),t.push(new Lt("contentLanguage",null,!0)),t.push(new Lt("contentType",null,!0)),t.push(new Lt("metadata","customMetadata",!0)),Iu=t,Iu}function qD(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Zt(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function GD(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return qD(r,t),r}function kI(t,e,n){const r=PI(e);return r===null?null:GD(t,r,n)}function KD(t,e,n,r){const i=PI(e);if(i===null||!Th(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const p=t.bucket,g=t.fullPath,y="/b/"+a(p)+"/o/"+a(g),I=wl(y,n,r),E=EI({alt:"media",token:f});return I+E})[0]}function CI(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class go{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t){if(!t)throw Og()}function Mg(t,e){function n(r,i){const o=kI(t,i,e);return fr(o!==null),o}return n}function ZD(t,e){function n(r,i){const o=kI(t,i,e);return fr(o!==null),KD(o,i,t.host,t._protocol)}return n}function El(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dD():i=hD():n.getStatus()===402?i=cD(t.bucket):n.getStatus()===403?i=fD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function bI(t){const e=El(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=uD(t.path)),o.serverResponse=i.serverResponse,o}return n}function QD(t,e,n){const r=e.fullServerUrl(),i=wl(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,c=new go(i,o,Mg(t,n),a);return c.errorHandler=bI(e),c}function XD(t,e,n){const r=e.fullServerUrl(),i=wl(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,c=new go(i,o,ZD(t,n),a);return c.errorHandler=bI(e),c}function YD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function NI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=YD(null,e)),r}function JD(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let P="";for(let C=0;C<2;C++)P=P+Math.random().toString().slice(2);return P}const h=c();a["Content-Type"]="multipart/related; boundary="+h;const f=NI(e,r,i),p=CI(f,n),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+h+"--",I=Ur.getBlob(g,r,y);if(I===null)throw vI();const E={name:f.fullPath},x=wl(o,t.host,t._protocol),k="POST",T=t.maxUploadRetryTime,w=new go(x,k,Mg(t,n),T);return w.urlParams=E,w.headers=a,w.body=I.uploadData(),w.errorHandler=El(e),w}class Uc{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Vg(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{fr(!1)}return fr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function e2(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a=NI(e,r,i),c={name:a.fullPath},h=wl(o,t.host,t._protocol),f="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=CI(a,n),y=t.maxUploadRetryTime;function I(x){Vg(x);let k;try{k=x.getResponseHeader("X-Goog-Upload-URL")}catch{fr(!1)}return fr(Th(k)),k}const E=new go(h,f,I,y);return E.urlParams=c,E.headers=p,E.body=g,E.errorHandler=El(e),E}function t2(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(f){const p=Vg(f,["active","final"]);let g=null;try{g=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fr(!1)}g||fr(!1);const y=Number(g);return fr(!isNaN(y)),new Uc(y,r.size(),p==="final")}const a="POST",c=t.maxUploadRetryTime,h=new go(n,a,o,c);return h.headers=i,h.errorHandler=El(e),h}const H0=256*1024;function n2(t,e,n,r,i,o,a,c){const h=new Uc(0,0);if(a?(h.current=a.current,h.total=a.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw _D();const f=h.total-h.current;let p=f;i>0&&(p=Math.min(p,i));const g=h.current,y=g+p;let I="";p===0?I="finalize":f===p?I="upload, finalize":I="upload";const E={"X-Goog-Upload-Command":I,"X-Goog-Upload-Offset":`${h.current}`},x=r.slice(g,y);if(x===null)throw vI();function k(C,U){const j=Vg(C,["active","final"]),$=h.current+p,q=r.size();let de;return j==="final"?de=Mg(e,o)(C,U):de=null,new Uc($,q,j==="final",de)}const T="POST",w=e.maxUploadRetryTime,P=new go(n,T,k,w);return P.headers=E,P.body=x.uploadData(),P.progressCallback=c||null,P.errorHandler=El(t),P}const jt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Pf(t){switch(t){case"running":case"pausing":case"canceling":return jt.RUNNING;case"paused":return jt.PAUSED;case"success":return jt.SUCCESS;case"canceled":return jt.CANCELED;case"error":return jt.ERROR;default:return jt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r){if(xD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class i2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Li.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Li.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Li.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Go("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Go("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Go("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Go("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Go("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s2 extends i2{initXhr(){this.xhr_.responseType="text"}}function ps(){return new s2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=RI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Le.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(TI(i.status,[]))if(o)i=_I();else{this.sleepTime=Math.max(this.sleepTime*2,lD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Le.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=e2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ps,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=t2(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,ps,n,r);this._request=o,o.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=H0*this._chunkMultiplier,n=new Uc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let a;try{a=n2(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const c=this._ref.storage._makeRequest(a,ps,i,o,!1);this._request=c,c.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){H0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=QD(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ps,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=JD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ps,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=yI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Pf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new r2(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Pf(this._state)){case jt.SUCCESS:ds(this._resolve.bind(null,this.snapshot))();break;case jt.CANCELED:case jt.ERROR:const n=this._reject;ds(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Pf(this._state)){case jt.RUNNING:case jt.PAUSED:e.next&&ds(e.next.bind(e,this.snapshot))();break;case jt.SUCCESS:e.complete&&ds(e.complete.bind(e))();break;case jt.CANCELED:case jt.ERROR:e.error&&ds(e.error.bind(e,this._error))();break;default:e.error&&ds(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this._service=e,n instanceof Zt?this._location=n:this._location=Zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hi(e,n)}get root(){const e=new Zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AI(this._location.path)}get storage(){return this._service}get parent(){const e=zD(this._location.path);if(e===null)return null;const n=new Zt(this._location.bucket,e);return new Hi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw wD(e)}}function a2(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new o2(t,new Ur(e),n)}function l2(t){t._throwIfRoot("getDownloadURL");const e=XD(t.storage,t._location,RI());return t.storage.makeRequestWithTokens(e,ps).then(n=>{if(n===null)throw yD();return n})}function u2(t,e){const n=$D(t._location.path,e),r=new Zt(t._location.bucket,n);return new Hi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){return/^[A-Za-z]+:\/\//.test(t)}function h2(t,e){return new Hi(t,e)}function LI(t,e){if(t instanceof Ug){const n=t;if(n._bucket==null)throw gD();const r=new Hi(n,n._bucket);return e!=null?LI(r,e):r}else return e!==void 0?u2(t,e):t}function d2(t,e){if(e&&c2(e)){if(t instanceof Ug)return h2(t,e);throw qp("To use ref(service, url), the first argument must be a Storage instance.")}else return LI(t,e)}function W0(t,e){const n=e==null?void 0:e[gI];return n==null?null:Zt.makeFromBucketSpec(n,t)}function f2(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:S1(i,t.app.options.projectId))}class Ug{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=mI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oD,this._maxUploadRetryTime=aD,this._requests=new Set,i!=null?this._bucket=Zt.makeFromBucketSpec(i,this._host):this._bucket=W0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zt.makeFromBucketSpec(this._url,e):this._bucket=W0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hi(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new ED(wI());{const a=ND(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const q0="@firebase/storage",G0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="storage";function p2(t,e,n){return t=Ye(t),a2(t,e,n)}function m2(t){return t=Ye(t),l2(t)}function g2(t,e){return t=Ye(t),d2(t,e)}function _2(t=vg(),e){t=Ye(t);const r=_h(t,OI).getImmediate({identifier:e}),i=E1("storage");return i&&y2(r,...i),r}function y2(t,e,n,r={}){f2(t,e,n,r)}function v2(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ug(n,r,i,e,Qi)}function w2(){ji(new ii(OI,v2,"PUBLIC").setMultipleInstances(!0)),$n(q0,G0,""),$n(q0,G0,"esm2017")}w2();var E2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,Fg=Fg||{},te=E2||self;function Ih(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Tl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function T2(t){return Object.prototype.hasOwnProperty.call(t,Af)&&t[Af]||(t[Af]=++I2)}var Af="closure_uid_"+(1e9*Math.random()>>>0),I2=0;function S2(t,e,n){return t.call.apply(t.bind,arguments)}function x2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pt=S2:Pt=x2,Pt.apply(null,arguments)}function Su(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function fi(){this.s=this.s,this.o=this.o}var P2=0;fi.prototype.s=!1;fi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),P2!=0)&&T2(this)};fi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Bg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function K0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ih(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let a=0;a<o;a++)t[i+a]=r[a]}else t.push(r)}}function At(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var A2=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function qa(t){return/^[\s\xa0]*$/.test(t)}function Sh(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Mn(t){return Sh().indexOf(t)!=-1}function jg(t){return jg[" "](t),t}jg[" "]=function(){};function R2(t,e){var n=wM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var k2=Mn("Opera"),Xs=Mn("Trident")||Mn("MSIE"),MI=Mn("Edge"),Gp=MI||Xs,VI=Mn("Gecko")&&!(Sh().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge"))&&!(Mn("Trident")||Mn("MSIE"))&&!Mn("Edge"),C2=Sh().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge");function UI(){var t=te.document;return t?t.documentMode:void 0}var Kp;e:{var Rf="",kf=function(){var t=Sh();if(VI)return/rv:([^\);]+)(\)|;)/.exec(t);if(MI)return/Edge\/([\d\.]+)/.exec(t);if(Xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(C2)return/WebKit\/(\S+)/.exec(t);if(k2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(kf&&(Rf=kf?kf[1]:""),Xs){var Cf=UI();if(Cf!=null&&Cf>parseFloat(Rf)){Kp=String(Cf);break e}}Kp=Rf}var Zp;if(te.document&&Xs){var Z0=UI();Zp=Z0||parseInt(Kp,10)||void 0}else Zp=void 0;var b2=Zp;function Ga(t,e){if(At.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(VI){e:{try{jg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:N2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ga.$.h.call(this)}}ct(Ga,At);var N2={2:"touch",3:"pen",4:"mouse"};Ga.prototype.h=function(){Ga.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Il="closure_listenable_"+(1e6*Math.random()|0),L2=0;function O2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++L2,this.fa=this.ia=!1}function xh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function zg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function D2(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function FI(t){const e={};for(const n in t)e[n]=t[n];return e}const Q0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Q0.length;o++)n=Q0[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ph(t){this.src=t,this.g={},this.h=0}Ph.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=Xp(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new O2(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Qp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=DI(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(xh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Xp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var $g="closure_lm_"+(1e6*Math.random()|0),bf={};function jI(t,e,n,r,i){if(r&&r.once)return $I(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jI(t,e[o],n,r,i);return null}return n=qg(n),t&&t[Il]?t.O(e,n,Tl(r)?!!r.capture:!!r,i):zI(t,e,n,!1,r,i)}function zI(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Tl(i)?!!i.capture:!!i,c=Wg(t);if(c||(t[$g]=c=new Ph(t)),n=c.add(e,n,r,a,o),n.proxy)return n;if(r=M2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)A2||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(WI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function M2(){function t(n){return e.call(t.src,t.listener,n)}const e=V2;return t}function $I(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)$I(t,e[o],n,r,i);return null}return n=qg(n),t&&t[Il]?t.P(e,n,Tl(r)?!!r.capture:!!r,i):zI(t,e,n,!0,r,i)}function HI(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)HI(t,e[o],n,r,i);else r=Tl(r)?!!r.capture:!!r,n=qg(n),t&&t[Il]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Xp(o,n,r,i),-1<n&&(xh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Wg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xp(e,n,r,i)),(n=-1<t?e[t]:null)&&Hg(n))}function Hg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Il])Qp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(WI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wg(e))?(Qp(n,t),n.h==0&&(n.src=null,e[$g]=null)):xh(t)}}}function WI(t){return t in bf?bf[t]:bf[t]="on"+t}function V2(t,e){if(t.fa)t=!0;else{e=new Ga(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Hg(t),t=n.call(r,e)}return t}function Wg(t){return t=t[$g],t instanceof Ph?t:null}var Nf="__closure_events_fn_"+(1e9*Math.random()>>>0);function qg(t){return typeof t=="function"?t:(t[Nf]||(t[Nf]=function(e){return t.handleEvent(e)}),t[Nf])}function ut(){fi.call(this),this.i=new Ph(this),this.S=this,this.J=null}ct(ut,fi);ut.prototype[Il]=!0;ut.prototype.removeEventListener=function(t,e,n,r){HI(this,t,e,n,r)};function _t(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new At(e,t);else if(e instanceof At)e.target=e.target||t;else{var i=e;e=new At(r,t),BI(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=xu(a,r,!0,e)&&i}if(a=e.g=t,i=xu(a,r,!0,e)&&i,i=xu(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=xu(a,r,!1,e)&&i}ut.prototype.N=function(){if(ut.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xh(n[r]);delete t.g[e],t.h--}}this.J=null};ut.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ut.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function xu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var c=a.listener,h=a.la||a.src;a.ia&&Qp(t.i,a),i=c.call(h,r)!==!1&&i}}return i&&!r.defaultPrevented}var Gg=te.JSON.stringify;class U2{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function F2(){var t=Kg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class B2{constructor(){this.h=this.g=null}add(e,n){const r=qI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var qI=new U2(()=>new j2,t=>t.reset());class j2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function z2(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function $2(t){te.setTimeout(()=>{throw t},0)}let Ka,Za=!1,Kg=new B2,GI=()=>{const t=te.Promise.resolve(void 0);Ka=()=>{t.then(H2)}};var H2=()=>{for(var t;t=F2();){try{t.h.call(t.g)}catch(n){$2(n)}var e=qI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Za=!1};function Ah(t,e){ut.call(this),this.h=t||1,this.g=e||te,this.j=Pt(this.qb,this),this.l=Date.now()}ct(Ah,ut);z=Ah.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_t(this,"tick"),this.ga&&(Zg(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}z.N=function(){Ah.$.N.call(this),Zg(this),delete this.g};function Qg(t,e,n){if(typeof t=="function")n&&(t=Pt(t,n));else if(t&&typeof t.handleEvent=="function")t=Pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function KI(t){t.g=Qg(()=>{t.g=null,t.i&&(t.i=!1,KI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class W2 extends fi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KI(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qa(t){fi.call(this),this.h=t,this.g={}}ct(Qa,fi);var X0=[];function ZI(t,e,n,r){Array.isArray(n)||(n&&(X0[0]=n.toString()),n=X0);for(var i=0;i<n.length;i++){var o=jI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function QI(t){zg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hg(e)},t),t.g={}}Qa.prototype.N=function(){Qa.$.N.call(this),QI(this)};Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rh(){this.g=!0}Rh.prototype.Ea=function(){this.g=!1};function q2(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",c=o.split("&"),h=0;h<c.length;h++){var f=c[h].split("=");if(1<f.length){var p=f[0];f=f[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+f+"&"):a+(p+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function G2(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function bs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Z2(t,n)+(r?" "+r:"")})}function K2(t,e){t.info(function(){return"TIMEOUT: "+e})}Rh.prototype.info=function(){};function Z2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return Gg(n)}catch{return e}}var Ji={},Y0=null;function kh(){return Y0=Y0||new ut}Ji.Ta="serverreachability";function XI(t){At.call(this,Ji.Ta,t)}ct(XI,At);function Xa(t){const e=kh();_t(e,new XI(e))}Ji.STAT_EVENT="statevent";function YI(t,e){At.call(this,Ji.STAT_EVENT,t),this.stat=e}ct(YI,At);function Dt(t){const e=kh();_t(e,new YI(e,t))}Ji.Ua="timingevent";function JI(t,e){At.call(this,Ji.Ua,t),this.size=e}ct(JI,At);function Sl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}var Ch={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xg(){}Xg.prototype.h=null;function J0(t){return t.h||(t.h=t.i())}function tS(){}var xl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yg(){At.call(this,"d")}ct(Yg,At);function Jg(){At.call(this,"c")}ct(Jg,At);var Yp;function bh(){}ct(bh,Xg);bh.prototype.g=function(){return new XMLHttpRequest};bh.prototype.i=function(){return{}};Yp=new bh;function Pl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qa(this),this.P=Q2,t=Gp?125:void 0,this.V=new Ah(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nS}function nS(){this.i=null,this.g="",this.h=!1}var Q2=45e3,Jp={},Fc={};z=Pl.prototype;z.setTimeout=function(t){this.P=t};function em(t,e,n){t.L=1,t.v=Lh(wr(e)),t.s=n,t.S=!0,rS(t,null)}function rS(t,e){t.G=Date.now(),Al(t),t.A=wr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),hS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new nS,t.g=NS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new W2(Pt(t.Pa,t,t.g),t.O)),ZI(t.U,t.g,"readystatechange",t.nb),e=t.I?FI(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Xa(),q2(t.j,t.u,t.A,t.m,t.W,t.s)}z.nb=function(t){t=t.target;const e=this.M;e&&Un(t)==3?e.l():this.Pa(t)};z.Pa=function(t){try{if(t==this.g)e:{const p=Un(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>p)&&(p!=3||Gp||this.g&&(this.h.h||this.g.ja()||rw(this.g)))){this.J||p!=4||e==7||(e==8||0>=g?Xa(3):Xa(2)),Nh(this);var n=this.g.da();this.ca=n;t:if(iS(this)){var r=rw(this.g);t="";var i=r.length,o=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),va(this);var a="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,G2(this.j,this.u,this.A,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qa(c)){var f=c;break t}}f=null}if(n=f)bs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tm(this,n);else{this.i=!1,this.o=3,Dt(12),Ai(this),va(this);break e}}this.S?(sS(this,p,a),Gp&&this.i&&p==3&&(ZI(this.U,this.V,"tick",this.mb),this.V.start())):(bs(this.j,this.m,a,null),tm(this,a)),p==4&&Ai(this),this.i&&!this.J&&(p==4?RS(this.l,this):(this.i=!1,Al(this)))}else _M(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.o=3,Dt(12)):(this.o=0,Dt(13)),Ai(this),va(this)}}}catch{}finally{}};function iS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function sS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=X2(t,n),i==Fc){e==4&&(t.o=4,Dt(14),r=!1),bs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Jp){t.o=4,Dt(15),bs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else bs(t.j,t.m,i,null),tm(t,i);iS(t)&&i!=Fc&&i!=Jp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Dt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),s_(e),e.M=!0,Dt(11))):(bs(t.j,t.m,n,"[Invalid Chunked Response]"),Ai(t),va(t))}z.mb=function(){if(this.g){var t=Un(this.g),e=this.g.ja();this.C<e.length&&(Nh(this),sS(this,t,e),this.i&&t!=4&&Al(this))}};function X2(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Fc:(n=Number(e.substring(n,r)),isNaN(n)?Jp:(r+=1,r+n>e.length?Fc:(e=e.slice(r,r+n),t.C=r+n,e)))}z.cancel=function(){this.J=!0,Ai(this)};function Al(t){t.Y=Date.now()+t.P,oS(t,t.P)}function oS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Sl(Pt(t.lb,t),e)}function Nh(t){t.B&&(te.clearTimeout(t.B),t.B=null)}z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(K2(this.j,this.A),this.L!=2&&(Xa(),Dt(17)),Ai(this),this.o=2,va(this)):oS(this,this.Y-t)};function va(t){t.l.H==0||t.J||RS(t.l,t)}function Ai(t){Nh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Zg(t.V),QI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function tm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||nm(n.i,t))){if(!t.K&&nm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)zc(n),Vh(n);else break e;i_(n),Dt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sl(Pt(n.ib,n),6e3));if(1>=pS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ri(n,11)}else if((t.K||n.g==t)&&zc(n),!qa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const g=f[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const y=f[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const I=t.g;if(I){const E=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.i;o.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(e_(o,o.h),o.h=null))}if(r.F){const x=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,ke(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=bS(r,r.J?r.pa:null,r.Y),a.K){mS(r.i,a);var c=a,h=r.L;h&&c.setTimeout(h),c.B&&(Nh(c),Al(c)),r.g=a}else PS(r);0<n.j.length&&Uh(n)}else f[0]!="stop"&&f[0]!="close"||Ri(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Ri(n,7):r_(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Xa(4)}catch{}}function Y2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ih(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function J2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ih(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function aS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ih(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=J2(t),r=Y2(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var lS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Oi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Oi){this.h=t.h,Bc(this,t.j),this.s=t.s,this.g=t.g,jc(this,t.m),this.l=t.l;var e=t.i,n=new Ya;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ew(this,n),this.o=t.o}else t&&(e=String(t).match(lS))?(this.h=!1,Bc(this,e[1]||"",!0),this.s=ia(e[2]||""),this.g=ia(e[3]||"",!0),jc(this,e[4]),this.l=ia(e[5]||"",!0),ew(this,e[6]||"",!0),this.o=ia(e[7]||"")):(this.h=!1,this.i=new Ya(null,this.h))}Oi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sa(e,tw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sa(e,tw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sa(n,n.charAt(0)=="/"?rM:nM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sa(n,sM)),t.join("")};function wr(t){return new Oi(t)}function Bc(t,e,n){t.j=n?ia(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ew(t,e,n){e instanceof Ya?(t.i=e,oM(t.i,t.h)):(n||(e=sa(e,iM)),t.i=new Ya(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function Lh(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ia(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,tM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tw=/[#\/\?@]/g,nM=/[#\?:]/g,rM=/[#\?]/g,iM=/[#\?@]/g,sM=/#/g;function Ya(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pi(t){t.g||(t.g=new Map,t.h=0,t.i&&eM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}z=Ya.prototype;z.add=function(t,e){pi(this),this.i=null,t=_o(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function uS(t,e){pi(t),e=_o(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cS(t,e){return pi(t),e=_o(t,e),t.g.has(e)}z.forEach=function(t,e){pi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};z.ta=function(){pi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};z.Z=function(t){pi(this);let e=[];if(typeof t=="string")cS(this,t)&&(e=e.concat(this.g.get(_o(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};z.set=function(t,e){return pi(this),this.i=null,t=_o(this,t),cS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function hS(t,e,n){uS(t,e),0<n.length&&(t.i=null,t.g.set(_o(t,e),Bg(n)),t.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function _o(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oM(t,e){e&&!t.j&&(pi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(uS(this,r),hS(this,i,n))},t)),t.j=e}var aM=class{constructor(t,e){this.g=t,this.map=e}};function dS(t){this.l=t||lM,te.PerformanceNavigationTiming?(t=te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lM=10;function fS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function pS(t){return t.h?1:t.g?t.g.size:0}function nm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function e_(t,e){t.g?t.g.add(e):t.h=e}function mS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}dS.prototype.cancel=function(){if(this.i=gS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function gS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Bg(t.i)}var uM=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function cM(){this.g=new uM}function hM(t,e,n){const r=n||"";try{aS(t,function(i,o){let a=i;Tl(i)&&(a=Gg(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dM(t,e){const n=new Rh;if(te.Image){const r=new Image;r.onload=Su(Pu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Su(Pu,n,r,"TestLoadImage: error",!1,e),r.onabort=Su(Pu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Su(Pu,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Oh(t){this.l=t.ec||null,this.j=t.ob||!1}ct(Oh,Xg);Oh.prototype.g=function(){return new Dh(this.l,this.j)};Oh.prototype.i=function(t){return function(){return t}}({});function Dh(t,e){ut.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=t_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(Dh,ut);var t_=0;z=Dh.prototype;z.open=function(t,e){if(this.readyState!=t_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ja(this)};z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=t_};z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ja(this)),this.g&&(this.readyState=3,Ja(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_S(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _S(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rl(this):Ja(this),this.readyState==3&&_S(this)}};z.Za=function(t){this.g&&(this.response=this.responseText=t,Rl(this))};z.Ya=function(t){this.g&&(this.response=t,Rl(this))};z.ka=function(){this.g&&Rl(this)};function Rl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ja(t)}z.setRequestHeader=function(t,e){this.v.append(t,e)};z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ja(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var fM=te.JSON.parse;function ze(t){ut.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yS,this.L=this.M=!1}ct(ze,ut);var yS="",pM=/^https?$/i,mM=["POST","PUT"];z=ze.prototype;z.Oa=function(t){this.M=t};z.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yp.g(),this.C=this.u?J0(this.u):J0(Yp),this.g.onreadystatechange=Pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){nw(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=te.FormData&&t instanceof te.FormData,!(0<=DI(mM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ES(this),0<this.B&&((this.L=gM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.ua,this)):this.A=Qg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){nw(this,o)}};function gM(t){return Xs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}z.ua=function(){typeof Fg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_t(this,"timeout"),this.abort(8))};function nw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vS(t),Mh(t)}function vS(t){t.F||(t.F=!0,_t(t,"complete"),_t(t,"error"))}z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_t(this,"complete"),_t(this,"abort"),Mh(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mh(this,!0)),ze.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?wS(this):this.kb())};z.kb=function(){wS(this)};function wS(t){if(t.h&&typeof Fg<"u"&&(!t.C[1]||Un(t)!=4||t.da()!=2)){if(t.v&&Un(t)==4)Qg(t.La,0,t);else if(_t(t,"readystatechange"),Un(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(lS)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!pM.test(i?i.toLowerCase():"")}n=r}if(n)_t(t,"complete"),_t(t,"success");else{t.m=6;try{var o=2<Un(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",vS(t)}}finally{Mh(t)}}}}function Mh(t,e){if(t.g){ES(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||_t(t,"ready");try{n.onreadystatechange=r}catch{}}}function ES(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}z.isActive=function(){return!!this.g};function Un(t){return t.g?t.g.readyState:0}z.da=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),fM(e)}};function rw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case yS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _M(t){const e={};t=(t.g&&2<=Un(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(qa(t[r]))continue;var n=z2(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}D2(e,function(r){return r.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function TS(t){let e="";return zg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function n_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ke(t,e,n))}function Ko(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function IS(t){this.Ga=0,this.j=[],this.l=new Rh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ko("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ko("baseRetryDelayMs",5e3,t),this.hb=Ko("retryDelaySeedMs",1e4,t),this.eb=Ko("forwardChannelMaxRetries",2,t),this.xa=Ko("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new dS(t&&t.concurrentRequestLimit),this.Ja=new cM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=IS.prototype;z.ra=8;z.H=1;function r_(t){if(SS(t),t.H==3){var e=t.W++,n=wr(t.I);if(ke(n,"SID",t.K),ke(n,"RID",e),ke(n,"TYPE","terminate"),kl(t,n),e=new Pl(t,t.l,e),e.L=2,e.v=Lh(wr(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&(new Image().src=e.v,n=!0),n||(e.g=NS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Al(e)}CS(t)}function Vh(t){t.g&&(s_(t),t.g.cancel(),t.g=null)}function SS(t){Vh(t),t.u&&(te.clearTimeout(t.u),t.u=null),zc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&te.clearTimeout(t.m),t.m=null)}function Uh(t){if(!fS(t.i)&&!t.m){t.m=!0;var e=t.Na;Ka||GI(),Za||(Ka(),Za=!0),Kg.add(e,t),t.C=0}}function yM(t,e){return pS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sl(Pt(t.Na,t,e),kS(t,t.C)),t.C++,!0)}z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pl(this,this.l,t);let o=this.s;if(this.U&&(o?(o=FI(o),BI(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xS(this,i,e),n=wr(this.I),ke(n,"RID",t),ke(n,"CVER",22),this.F&&ke(n,"X-HTTP-Session-Id",this.F),kl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(TS(o)))+"&"+e:this.o&&n_(n,this.o,o)),e_(this.i,i),this.bb&&ke(n,"TYPE","init"),this.P?(ke(n,"$req",e),ke(n,"SID","null"),i.aa=!0,em(i,n,null)):em(i,n,e),this.H=2}}else this.H==3&&(t?iw(this,t):this.j.length==0||fS(this.i)||iw(this))};function iw(t,e){var n;e?n=e.m:n=t.W++;const r=wr(t.I);ke(r,"SID",t.K),ke(r,"RID",n),ke(r,"AID",t.V),kl(t,r),t.o&&t.s&&n_(r,t.o,t.s),n=new Pl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=xS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),e_(t.i,n),em(n,r,e)}function kl(t,e){t.na&&zg(t.na,function(n,r){ke(e,r,n)}),t.h&&aS({},function(n,r){ke(e,r,n)})}function xS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Pt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const a=["count="+n];o==-1?0<n?(o=i[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let f=i[h].g;const p=i[h].map;if(f-=o,0>f)o=Math.max(0,i[h].g-100),c=!1;else try{hM(p,a,"req"+f+"_")}catch{r&&r(p)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function PS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ka||GI(),Za||(Ka(),Za=!0),Kg.add(e,t),t.A=0}}function i_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sl(Pt(t.Ma,t),kS(t,t.A)),t.A++,!0)}z.Ma=function(){if(this.u=null,AS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sl(Pt(this.jb,this),t)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dt(10),Vh(this),AS(this))};function s_(t){t.B!=null&&(te.clearTimeout(t.B),t.B=null)}function AS(t){t.g=new Pl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=wr(t.wa);ke(e,"RID","rpc"),ke(e,"SID",t.K),ke(e,"AID",t.V),ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ke(e,"TO",t.qa),ke(e,"TYPE","xmlhttp"),kl(t,e),t.o&&t.s&&n_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Lh(wr(e)),n.s=null,n.S=!0,rS(n,t)}z.ib=function(){this.v!=null&&(this.v=null,Vh(this),i_(this),Dt(19))};function zc(t){t.v!=null&&(te.clearTimeout(t.v),t.v=null)}function RS(t,e){var n=null;if(t.g==e){zc(t),s_(t),t.g=null;var r=2}else if(nm(t.i,e))n=e.F,mS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=kh(),_t(r,new JI(r,n)),Uh(t)}else PS(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&yM(t,e)||r==2&&i_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ri(t,5);break;case 4:Ri(t,10);break;case 3:Ri(t,6);break;default:Ri(t,2)}}}function kS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ri(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Pt(t.pb,t);n||(n=new Oi("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||Bc(n,"https"),Lh(n)),dM(n.toString(),r)}else Dt(2);t.H=0,t.h&&t.h.za(e),CS(t),SS(t)}z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dt(2)):(this.l.info("Failed to ping google.com"),Dt(1))};function CS(t){if(t.H=0,t.ma=[],t.h){const e=gS(t.i);(e.length!=0||t.j.length!=0)&&(K0(t.ma,e),K0(t.ma,t.j),t.i.i.length=0,Bg(t.j),t.j.length=0),t.h.ya()}}function bS(t,e,n){var r=n instanceof Oi?wr(n):new Oi(n);if(r.g!="")e&&(r.g=e+"."+r.g),jc(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Oi(null);r&&Bc(o,r),e&&(o.g=e),i&&jc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ke(r,n,e),ke(r,"VER",t.ra),kl(t,r),r}function NS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ze(new Oh({ob:!0})):new ze(t.va),e.Oa(t.J),e}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function LS(){}z=LS.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function $c(){if(Xs&&!(10<=Number(b2)))throw Error("Environmental error: no available transport.")}$c.prototype.g=function(t,e){return new Jt(t,e)};function Jt(t,e){ut.call(this),this.g=new IS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!qa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new yo(this)}ct(Jt,ut);Jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bS(t,null,t.Y),Uh(t)};Jt.prototype.close=function(){r_(this.g)};Jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gg(t),t=n);e.j.push(new aM(e.fb++,t)),e.H==3&&Uh(e)};Jt.prototype.N=function(){this.g.h=null,delete this.j,r_(this.g),delete this.g,Jt.$.N.call(this)};function OS(t){Yg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ct(OS,Yg);function DS(){Jg.call(this),this.status=1}ct(DS,Jg);function yo(t){this.g=t}ct(yo,LS);yo.prototype.Ba=function(){_t(this.g,"a")};yo.prototype.Aa=function(t){_t(this.g,new OS(t))};yo.prototype.za=function(t){_t(this.g,new DS)};yo.prototype.ya=function(){_t(this.g,"b")};function vM(){this.blockSize=-1}function An(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ct(An,vM);An.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Lf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],a=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}An.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Lf(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Lf(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Lf(this,r),i=0;break}}this.h=i,this.i+=e};An.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ie(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var wM={};function o_(t){return-128<=t&&128>t?R2(t,function(e){return new Ie([e|0],0>e?-1:0)}):new Ie([t|0],0>t?-1:0)}function Fn(t){if(isNaN(t)||!isFinite(t))return Bs;if(0>t)return mt(Fn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=rm;return new Ie(e,0)}function MS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return mt(MS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fn(Math.pow(e,8)),r=Bs,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+o),e);8>o?(o=Fn(Math.pow(e,o)),r=r.R(o).add(Fn(a))):(r=r.R(n),r=r.add(Fn(a)))}return r}var rm=4294967296,Bs=o_(0),im=o_(1),sw=o_(16777216);z=Ie.prototype;z.ea=function(){if(un(this))return-mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:rm+r)*e,e*=rm}return t};z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(hr(this))return"0";if(un(this))return"-"+mt(this).toString(t);for(var e=Fn(Math.pow(t,6)),n=this,r="";;){var i=Wc(n,e).g;n=Hc(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,hr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function hr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function un(t){return t.h==-1}z.X=function(t){return t=Hc(this,t),un(t)?-1:hr(t)?0:1};function mt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(im)}z.abs=function(){return un(this)?mt(this):this};z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),a=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new Ie(n,n[n.length-1]&-2147483648?-1:0)};function Hc(t,e){return t.add(mt(e))}z.R=function(t){if(hr(this)||hr(t))return Bs;if(un(this))return un(t)?mt(this).R(mt(t)):mt(mt(this).R(t));if(un(t))return mt(this.R(mt(t)));if(0>this.X(sw)&&0>t.X(sw))return Fn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,a=this.D(r)&65535,c=t.D(i)>>>16,h=t.D(i)&65535;n[2*r+2*i]+=a*h,Au(n,2*r+2*i),n[2*r+2*i+1]+=o*h,Au(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,Au(n,2*r+2*i+1),n[2*r+2*i+2]+=o*c,Au(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)};function Au(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zo(t,e){this.g=t,this.h=e}function Wc(t,e){if(hr(e))throw Error("division by zero");if(hr(t))return new Zo(Bs,Bs);if(un(t))return e=Wc(mt(t),e),new Zo(mt(e.g),mt(e.h));if(un(e))return e=Wc(t,mt(e)),new Zo(mt(e.g),e.h);if(30<t.g.length){if(un(t)||un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=im,r=e;0>=r.X(t);)n=ow(n),r=ow(r);var i=fs(n,1),o=fs(r,1);for(r=fs(r,2),n=fs(n,2);!hr(r);){var a=o.add(r);0>=a.X(t)&&(i=i.add(n),o=a),r=fs(r,1),n=fs(n,1)}return e=Hc(t,i.R(e)),new Zo(i,e)}for(i=Bs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Fn(n),a=o.R(e);un(a)||0<a.X(t);)n-=r,o=Fn(n),a=o.R(e);hr(o)&&(o=im),i=i.add(o),t=Hc(t,a)}return new Zo(i,t)}z.gb=function(t){return Wc(this,t).h};z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)};z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)};z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)};function ow(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function fs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ie(i,t.h)}$c.prototype.createWebChannel=$c.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;Ch.NO_ERROR=0;Ch.TIMEOUT=8;Ch.HTTP_ERROR=6;eS.COMPLETE="complete";tS.EventType=xl;xl.OPEN="a";xl.CLOSE="b";xl.ERROR="c";xl.MESSAGE="d";ut.prototype.listen=ut.prototype.O;ze.prototype.listenOnce=ze.prototype.P;ze.prototype.getLastError=ze.prototype.Sa;ze.prototype.getLastErrorCode=ze.prototype.Ia;ze.prototype.getStatus=ze.prototype.da;ze.prototype.getResponseJson=ze.prototype.Wa;ze.prototype.getResponseText=ze.prototype.ja;ze.prototype.send=ze.prototype.ha;ze.prototype.setWithCredentials=ze.prototype.Oa;An.prototype.digest=An.prototype.l;An.prototype.reset=An.prototype.reset;An.prototype.update=An.prototype.j;Ie.prototype.add=Ie.prototype.add;Ie.prototype.multiply=Ie.prototype.R;Ie.prototype.modulo=Ie.prototype.gb;Ie.prototype.compare=Ie.prototype.X;Ie.prototype.toNumber=Ie.prototype.ea;Ie.prototype.toString=Ie.prototype.toString;Ie.prototype.getBits=Ie.prototype.D;Ie.fromNumber=Fn;Ie.fromString=MS;var EM=function(){return new $c},TM=function(){return kh()},Of=Ch,IM=eS,SM=Ji,aw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ru=tS,xM=ze,PM=An,js=Ie;const lw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new _g("@firebase/firestore");function Qo(){return Wi.logLevel}function K(t,...e){if(Wi.logLevel<=fe.DEBUG){const n=e.map(a_);Wi.debug(`Firestore (${vo}): ${t}`,...n)}}function Er(t,...e){if(Wi.logLevel<=fe.ERROR){const n=e.map(a_);Wi.error(`Firestore (${vo}): ${t}`,...n)}}function Ys(t,...e){if(Wi.logLevel<=fe.WARN){const n=e.map(a_);Wi.warn(`Firestore (${vo}): ${t}`,...n)}}function a_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+t;throw Er(e),new Error(e)}function Ne(t,e){t||J()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class RM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kM{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ei,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ei)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new VS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new Tt(e)}}class CM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new CM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new NM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=OM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function Js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new rt(0,0))}static max(){return new re(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return el.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ce extends el{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const DM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends el{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return DM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new G(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new G(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(o(),i++)}if(o(),a)throw new G(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ce.fromString(e))}static fromName(e){return new Q(Ce.fromString(e).popFirst(5))}static empty(){return new Q(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ce(e.slice()))}}function MM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new si(i,Q.empty(),e)}function VM(t){return new si(t.readTime,t.key,-1)}class si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new si(re.min(),Q.empty(),-1)}static max(){return new si(re.max(),Q.empty(),-1)}}function UM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==FM)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,o=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++o,a&&o===i&&n()},h=>r(h))}),a=!0,o===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const o=e.length,a=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(p=>{a[f]=p,++c,c===o&&r(a)},p=>i(p))}})}static doWhile(e,n){return new M((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}l_.ae=-1;function Fh(t){return t==null}function qc(t){return t===0&&1/t==-1/0}function jM(t){return typeof t=="number"&&Number.isInteger(t)&&!qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=o??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,o){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Rt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BS("Invalid base64 string: "+o):o}}(e);return new bt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const zM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=zM.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function c_(t){const e=t.mapValue.fields.__previous_value__;return u_(e)?c_(e):e}function tl(t){const e=oi(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,r,i,o,a,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u_(t)?4:HM(t)?9007199254740991:10:J()}function Qn(t,e){if(t===e)return!0;const n=Gi(t);if(n!==Gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tl(t).isEqual(tl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=oi(i.timestampValue),c=oi(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return qi(i.bytesValue).isEqual(qi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Ze(i.doubleValue),c=Ze(o.doubleValue);return a===c?qc(a)===qc(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Js(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:return function(i,o){const a=i.mapValue.fields||{},c=o.mapValue.fields||{};if(uw(a)!==uw(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(c[h]===void 0||!Qn(a[h],c[h])))return!1;return!0}(t,e);default:return J()}}function rl(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function eo(t,e){if(t===e)return 0;const n=Gi(t),r=Gi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,a){const c=Ze(o.integerValue||o.doubleValue),h=Ze(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return hw(t.timestampValue,e.timestampValue);case 4:return hw(tl(t),tl(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,a){const c=qi(o),h=qi(a);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const c=o.split("/"),h=a.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=Ee(c[f],h[f]);if(p!==0)return p}return Ee(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const c=Ee(Ze(o.latitude),Ze(a.latitude));return c!==0?c:Ee(Ze(o.longitude),Ze(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const c=o.values||[],h=a.values||[];for(let f=0;f<c.length&&f<h.length;++f){const p=eo(c[f],h[f]);if(p)return p}return Ee(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===Cu.mapValue&&a===Cu.mapValue)return 0;if(o===Cu.mapValue)return 1;if(a===Cu.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=a.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let g=0;g<h.length&&g<p.length;++g){const y=Ee(h[g],p[g]);if(y!==0)return y;const I=eo(c[h[g]],f[p[g]]);if(I!==0)return I}return Ee(h.length,p.length)}(t.mapValue,e.mapValue);default:throw J()}}function hw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=oi(t),r=oi(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function to(t){return sm(t)}function sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=sm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${sm(n.fields[a])}`;return i+"}"}(t.mapValue):J()}function dw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function om(t){return!!t&&"integerValue"in t}function h_(t){return!!t&&"arrayValue"in t}function fw(t){return!!t&&"nullValue"in t}function pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zu(t){return!!t&&"mapValue"in t}function wa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wa(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=wa(a):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new cn(wa(this.value))}}function jS(t){const e=[];return wo(t.fields,(n,r)=>{const i=new xt([n]);if(Zu(r)){const o=jS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,i,o,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new St(e,0,re.min(),re.min(),re.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new St(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new St(e,2,n,re.min(),re.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,re.min(),re.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.position=e,this.inclusive=n}}function mw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(a.referenceValue),n.key):r=eo(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n="asc"){this.field=e,this.dir=n}}function WM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{}class Xe extends zS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GM(e,n,r):n==="array-contains"?new QM(e,r):n==="in"?new XM(e,r):n==="not-in"?new YM(e,r):n==="array-contains-any"?new JM(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KM(e,r):new ZM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(eo(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rn extends zS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Rn(e,n)}matches(e){return $S(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function $S(t){return t.op==="and"}function HS(t){return qM(t)&&$S(t)}function qM(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function am(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+to(t.value);if(HS(t))return t.filters.map(e=>am(e)).join(",");{const e=t.filters.map(n=>am(n)).join(",");return`${t.op}(${e})`}}function WS(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)}(t,e):t instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,c)=>o&&WS(a,i.filters[c]),!0):!1}(t,e):void J()}function qS(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(qS).join(" ,")+"}"}(t):"Filter"}class GM extends Xe{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class KM extends Xe{constructor(e,n){super(e,"in",n),this.keys=GS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZM extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=GS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class QM extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return h_(n)&&rl(n.arrayValue,this.value)}}class XM extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rl(this.value.arrayValue,n)}}class YM extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rl(this.value.arrayValue,n)}}class JM extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!h_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n=null,r=[],i=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this.he=null}}function _w(t,e=null,n=[],r=[],i=null,o=null,a=null){return new eV(t,e,n,r,i,o,a)}function d_(t){const e=ae(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>am(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>to(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>to(r)).join(",")),e.he=n}return e.he}function f_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gw(t.startAt,e.startAt)&&gw(t.endAt,e.endAt)}function lm(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n=null,r=[],i=[],o=null,a="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=h,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function tV(t,e,n,r,i,o,a,c){return new Nl(t,e,n,r,i,o,a,c)}function KS(t){return new Nl(t)}function yw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function p_(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function QS(t){return t.collectionGroup!==null}function Ta(t){const e=ae(t);if(e.Pe===null){e.Pe=[];const n=p_(e),r=ZS(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Ea(n)),e.Pe.push(new Ea(xt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Ea(xt.keyField(),o))}}}return e.Pe}function Gn(t){const e=ae(t);return e.Ie||(e.Ie=nV(e,Ta(t))),e.Ie}function nV(t,e){if(t.limitType==="F")return _w(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ea(i.field,o)});const n=t.endAt?new Gc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gc(t.startAt.position,t.startAt.inclusive):null;return _w(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function um(t,e){e.getFirstInequalityField(),p_(t);const n=t.filters.concat([e]);return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cm(t,e,n){return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bh(t,e){return f_(Gn(t),Gn(e))&&t.limitType===e.limitType}function XS(t){return`${d_(Gn(t))}|lt:${t.limitType}`}function ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qS(i)).join(", ")}]`),Fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>to(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>to(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function jh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ta(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,h){const f=mw(a,c,h);return a.inclusive?f<=0:f<0}(r.startAt,Ta(r),i)||r.endAt&&!function(a,c,h){const f=mw(a,c,h);return a.inclusive?f>=0:f>0}(r.endAt,Ta(r),i))}(t,e)}function rV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YS(t){return(e,n)=>{let r=!1;for(const i of Ta(t)){const o=iV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function iV(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(o,a,c){const h=a.data.field(o),f=c.data.field(o);return h!==null&&f!==null?eo(h,f):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return FS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Fe(Q.comparator);function Tr(){return sV}const JS=new Fe(Q.comparator);function oa(...t){let e=JS;for(const n of t)e=e.insert(n.key,n);return e}function ex(t){let e=JS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ki(){return Ia()}function tx(){return Ia()}function Ia(){return new Eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const oV=new Fe(Q.comparator),aV=new Rt(Q.comparator);function ce(...t){let e=aV;for(const n of t)e=e.add(n);return e}const lV=new Rt(Ee);function uV(){return lV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function rx(t){return{integerValue:""+t}}function cV(t,e){return jM(e)?rx(e):nx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function hV(t,e,n){return t instanceof il?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&u_(o)&&(o=c_(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof sl?sx(t,e):t instanceof ol?ox(t,e):function(i,o){const a=ix(i,o),c=vw(a)+vw(i.Te);return om(a)&&om(i.Te)?rx(c):nx(i.serializer,c)}(t,e)}function dV(t,e,n){return t instanceof sl?sx(t,e):t instanceof ol?ox(t,e):n}function ix(t,e){return t instanceof Kc?function(r){return om(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class il extends zh{}class sl extends zh{constructor(e){super(),this.elements=e}}function sx(t,e){const n=ax(e);for(const r of t.elements)n.some(i=>Qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ol extends zh{constructor(e){super(),this.elements=e}}function ox(t,e){let n=ax(e);for(const r of t.elements)n=n.filter(i=>!Qn(i,r));return{arrayValue:{values:n}}}class Kc extends zh{constructor(e,n){super(),this.serializer=e,this.Te=n}}function vw(t){return Ze(t.integerValue||t.doubleValue)}function ax(t){return h_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.field=e,this.transform=n}}function pV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sl&&i instanceof sl||r instanceof ol&&i instanceof ol?Js(r.elements,i.elements,Qn):r instanceof Kc&&i instanceof Kc?Qn(r.Te,i.Te):r instanceof il&&i instanceof il}(t.transform,e.transform)}class mV{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $h{}function lx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cx(t.key,Kn.none()):new Ll(t.key,t.data,Kn.none());{const n=t.data,r=cn.empty();let i=new Rt(xt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new es(t.key,r,new Tn(i.toArray()),Kn.none())}}function gV(t,e,n){t instanceof Ll?function(i,o,a){const c=i.value.clone(),h=Ew(i.fieldTransforms,o,a.transformResults);c.setAll(h),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof es?function(i,o,a){if(!Qu(i.precondition,o))return void o.convertToUnknownDocument(a.version);const c=Ew(i.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(ux(i)),h.setAll(c),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Sa(t,e,n,r){return t instanceof Ll?function(o,a,c,h){if(!Qu(o.precondition,a))return c;const f=o.value.clone(),p=Tw(o.fieldTransforms,h,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof es?function(o,a,c,h){if(!Qu(o.precondition,a))return c;const f=Tw(o.fieldTransforms,h,a),p=a.data;return p.setAll(ux(o)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,a,c){return Qu(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function _V(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ix(r.transform,i||null);o!=null&&(n===null&&(n=cn.empty()),n.set(r.field,o))}return n||null}function ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Js(r,i,(o,a)=>pV(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ll extends $h{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class es extends $h{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ux(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ew(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,c=e.data.field(o.field);r.set(o.field,dV(a,c,n[i]))}return r}function Tw(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,hV(o,a,e))}return r}class cx extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yV extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&gV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tx();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=n.has(i.key)?null:c;const h=lx(a,c);h!==null&&r.set(i.key,h),a.isValidDocument()||a.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(n,r)=>ww(n,r))&&Js(this.baseMutations,e.baseMutations,(n,r)=>ww(n,r))}}class m_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return oV}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new m_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,me;function TV(t){switch(t){default:return J();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function hx(t){if(t===void 0)return Er("GRPC error has no .code"),O.UNKNOWN;switch(t){case Ke.OK:return O.OK;case Ke.CANCELLED:return O.CANCELLED;case Ke.UNKNOWN:return O.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return O.INTERNAL;case Ke.UNAVAILABLE:return O.UNAVAILABLE;case Ke.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ke.NOT_FOUND:return O.NOT_FOUND;case Ke.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ke.ABORTED:return O.ABORTED;case Ke.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ke.DATA_LOSS:return O.DATA_LOSS;default:return J()}}(me=Ke||(Ke={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new js([4294967295,4294967295],0);function Iw(t){const e=IV().encode(t),n=new PM;return n.update(e),new Uint8Array(n.digest())}function Sw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new js([n,r],0),new js([i,o],0)]}class g_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new aa(`Invalid padding: ${n}`);if(r<0)throw new aa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new aa(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=js.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(js.fromNumber(r)));return i.compare(SV)===1&&(i=new js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=Iw(e),[r,i]=Sw(n);for(let o=0;o<this.hashCount;o++){const a=this.Ve(r,i,o);if(!this.me(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new g_(o,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Ae===0)return;const n=Iw(e),[r,i]=Sw(n);for(let o=0;o<this.hashCount;o++){const a=this.Ve(r,i,o);this.fe(a)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(re.min(),i,new Fe(Ee),Tr(),ce())}}class Ol{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ol(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class dx{constructor(e,n){this.targetId=e,this.ye=n}}class fx{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xw{constructor(){this.we=0,this.Se=Aw(),this.be=bt.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=ce(),n=ce(),r=ce();return this.Se.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new Ol(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=Aw()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class xV{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Tr(),this.Ue=Pw(),this.We=new Fe(Ee)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const o=i.target;if(lm(o))if(r===0){const a=new Q(o.path);this.je(n,a,St.newNoDocument(a,re.min()))}else Ne(r===1);else{const a=this.tt(n);if(a!==r){const c=this.nt(e),h=c?this.rt(c,e,a):1;if(h!==0){this.Ze(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,f)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,c;try{a=qi(r).toUint8Array()}catch(h){if(h instanceof BS)return Ys("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new g_(a,i,o)}catch(h){return Ys(h instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ae===0?null:c}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Qe.st(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.je(n,o,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((o,a)=>{const c=this.et(a);if(c){if(o.current&&lm(c.target)){const h=new Q(c.target.path);this.$e.get(h)!==null||this.ut(a,h)||this.je(a,h,St.newNoDocument(h,e))}o.Fe&&(n.set(a,o.xe()),o.Oe())}});let r=ce();this.Ue.forEach((o,a)=>{let c=!0;a.forEachWhile(h=>{const f=this.et(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.$e.forEach((o,a)=>a.setReadTime(e));const i=new Hh(e,n,this.We,this.$e,r);return this.$e=Tr(),this.Ue=Pw(),this.We=new Fe(Ee),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new xw,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(Ee),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new xw),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function Pw(){return new Fe(Q.comparator)}function Aw(){return new Fe(Q.comparator)}const PV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),AV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RV=(()=>({and:"AND",or:"OR"}))();class kV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hm(t,e){return t.useProto3Json||Fh(e)?e:{value:e}}function Zc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function px(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CV(t,e){return Zc(t,e.toTimestamp())}function Zn(t){return Ne(!!t),re.fromTimestamp(function(n){const r=oi(n);return new rt(r.seconds,r.nanos)}(t))}function __(t,e){return function(r){return new Ce(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function mx(t){const e=Ce.fromString(t);return Ne(vx(e)),e}function dm(t,e){return __(t.databaseId,e.path)}function Df(t,e){const n=mx(e);if(n.get(1)!==t.databaseId.projectId)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(gx(n))}function fm(t,e){return __(t.databaseId,e)}function bV(t){const e=mx(t);return e.length===4?Ce.emptyPath():gx(e)}function pm(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gx(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rw(t,e,n){return{name:dm(t,e),fields:n.value.mapValue.fields}}function NV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(Ne(p===void 0||typeof p=="string"),bt.fromBase64String(p||"")):(Ne(p===void 0||p instanceof Uint8Array),bt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(f){const p=f.code===void 0?O.UNKNOWN:hx(f.code);return new G(p,f.message||"")}(a);n=new fx(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Df(t,r.document.name),o=Zn(r.document.updateTime),a=r.document.createTime?Zn(r.document.createTime):re.min(),c=new cn({mapValue:{fields:r.document.fields}}),h=St.newFoundDocument(i,o,a,c),f=r.targetIds||[],p=r.removedTargetIds||[];n=new Xu(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Df(t,r.document),o=r.readTime?Zn(r.readTime):re.min(),a=St.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Xu([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Df(t,r.document),o=r.removedTargetIds||[];n=new Xu([],o,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new EV(i,o),c=r.targetId;n=new dx(c,a)}}return n}function LV(t,e){let n;if(e instanceof Ll)n={update:Rw(t,e.key,e.value)};else if(e instanceof cx)n={delete:dm(t,e.key)};else if(e instanceof es)n={update:Rw(t,e.key,e.data),updateMask:zV(e.fieldMask)};else{if(!(e instanceof yV))return J();n={verify:dm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const c=a.transform;if(c instanceof il)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof sl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ol)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Kc)return{fieldPath:a.field.canonicalString(),increment:c.Te};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:CV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:J()}(t,e.precondition)),n}function OV(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Zn(i.updateTime):Zn(o);return a.isEqual(re.min())&&(a=Zn(o)),new mV(a,i.transformResults||[])}(n,e))):[]}function DV(t,e){return{documents:[fm(t,e.path)]}}function MV(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=fm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(h.length!==0)return yx(Rn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:gs(g.field),direction:FV(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function VV(t){let e=bV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(g){const y=_x(g);return y instanceof Rn&&HS(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(y=>function(E){return new Ea(_s(E.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,Fh(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(g){const y=!!g.before,I=g.values||[];return new Gc(I,y)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const y=!g.before,I=g.values||[];return new Gc(I,y)}(n.endAt)),tV(e,i,a,o,c,"F",h,f)}function UV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _x(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_s(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_s(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_s(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_s(n.unaryFilter.field);return Xe.create(a,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(_s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>_x(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function FV(t){return PV[t]}function BV(t){return AV[t]}function jV(t){return RV[t]}function gs(t){return{fieldPath:t.canonicalString()}}function _s(t){return xt.fromServerFormat(t.fieldPath)}function yx(t){return t instanceof Xe?function(n){if(n.op==="=="){if(pw(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NAN"}};if(fw(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pw(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NAN"}};if(fw(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(n.field),op:BV(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(i=>yx(i));return r.length===1?r[0]:{compositeFilter:{op:jV(n.op),filters:r}}}(t):J()}function zV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r,i,o=re.min(),a=re.min(),c=bt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.ht=e}}function HV(t){const e=VV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.an=new qV}addToCollectionParentIndex(e,n){return this.an.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(si.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class qV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(Ce.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new no(0)}static Ln(){return new no(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.changes=new Eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sa(r.mutation,i,Tn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=ki();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=oa();return o.forEach((c,h)=>{a=a.insert(c,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ki();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let o=Tr();const a=Ia(),c=function(){return Ia()}();return n.forEach((h,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof es)?o=o.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),Sa(p.mutation,f,p.mutation.getFieldMask(),rt.now())):a.set(f.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var g;return c.set(f,new KV(p,(g=a.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Ia();let i=new Fe((a,c)=>a-c),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=r.get(h)||Tn.empty();p=c.applyToLocalView(f,p),r.set(h,p);const g=(i.get(c.batchId)||ce()).add(h);i=i.insert(c.batchId,g)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,g=tx();p.forEach(y=>{if(!o.has(y)){const I=lx(n.get(y),r.get(y));I!==null&&g.set(y,I),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,g))}return M.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(ki());let c=-1,h=o;return a.next(f=>M.forEach(f,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(p)?M.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{h=h.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,ce())).next(p=>({batchId:c,changes:ex(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=oa();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,h=>{const f=function(g,y){return new Nl(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((h,f)=>{const p=f.getKey();a.get(p)===null&&(a=a.insert(p,St.newInvalidDocument(p)))});let c=oa();return a.forEach((h,f)=>{const p=o.get(h);p!==void 0&&Sa(p.mutation,f,Tn.empty(),rt.now()),jh(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return M.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:HV(i.bundledQuery),readTime:Zn(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.overlays=new Fe(Q.comparator),this.Pr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ki();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.It(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=ki(),o=n.length+1,a=new Q(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fe((f,p)=>f-p);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=o.get(f.largestBatchId);p===null&&(p=ki(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=ki(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=i)););return M.resolve(c)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new wV(n,r));let o=this.Pr.get(n);o===void 0&&(o=ce(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.Ir=new Rt(ot.dr),this.Tr=new Rt(ot.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new ot(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new Q(new Ce([])),r=new ot(n,e),i=new ot(n,e+1),o=[];return this.Tr.forEachInRange([r,i],a=>{this.Rr(a),o.push(a.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new Q(new Ce([])),r=new ot(n,e),i=new ot(n,e+1);let o=ce();return this.Tr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new ot(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return Q.comparator(e.key,n.key)||Ee(e.yr,n.yr)}static Er(e,n){return Ee(e.yr,n.yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Rt(ot.dr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new vV(o,n,r,i);this.mutationQueue.push(a);for(const c of i)this.Sr=this.Sr.add(new ot(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(a)}lookupMutationBatch(e,n){return M.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,i],a=>{const c=this.br(a.yr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Ee);return n.forEach(i=>{const o=new ot(i,0),a=new ot(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,a],c=>{r=r.add(c.yr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Q.isDocumentKey(o)||(o=o.child(""));const a=new ot(new Q(o),0);let c=new Rt(Ee);return this.Sr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.yr)),!0)},a),M.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return M.forEach(n.mutations,i=>{const o=new ot(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new ot(n,0),i=this.Sr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.Fr=e,this.docs=function(){return new Fe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Tr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():St.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Tr();const a=n.path,c=new Q(a.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||UM(VM(p),r)<=0||(i.has(p.key)||jh(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){J()}Mr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eU(this)}getSize(e){return M.resolve(this.size)}}class eU extends GV{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.persistence=e,this.Or=new Eo(n=>d_(n),f_),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Nr=0,this.Br=new y_,this.targetCount=0,this.Lr=no.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),M.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new no(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Qn(n),M.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Or.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Or.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.kr={},this.overlays={},this.qr=new l_(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new tU(this),this.indexManager=new WV,this.remoteDocumentCache=function(i){return new JV(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new $V(n),this.Ur=new QV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new YV(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new rU(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(o=>this.referenceDelegate.Gr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}zr(e,n){return M.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class rU extends BM{constructor(e){super(),this.currentSequenceNumber=e}}class v_{constructor(e){this.persistence=e,this.jr=new y_,this.Hr=null}static Jr(e){return new v_(e)}get Yr(){if(this.Hr)return this.Hr;throw J()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),M.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Yr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Yr,r=>{const i=Q.fromPath(r);return this.Zr(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return M.or([()=>M.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=ce(),i=ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new w_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Hi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Ji(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new iU;return this.Yi(e,n,a).next(c=>{if(o.result=c,this.Wi)return this.Zi(e,n,a,c.size)})}).next(()=>o.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(Qo()<=fe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),M.resolve()):(Qo()<=fe.DEBUG&&K("QueryEngine","Query:",ms(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Qo()<=fe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):M.resolve())}Hi(e,n){if(yw(n))return M.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cm(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ce(...o);return this.ji.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.Xi(n,c);return this.es(n,f,a,h.readTime)?this.Hi(e,cm(n,null,"F")):this.ts(e,f,n,h)}))})))}Ji(e,n,r,i){return yw(n)||i.isEqual(re.min())?M.resolve(null):this.ji.getDocuments(e,r).next(o=>{const a=this.Xi(n,o);return this.es(n,a,r,i)?M.resolve(null):(Qo()<=fe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ms(n)),this.ts(e,a,n,MM(i,-1)).next(c=>c))})}Xi(e,n){let r=new Rt(YS(e));return n.forEach((i,o)=>{jh(e,o)&&(r=r.add(o))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Yi(e,n,r){return Qo()<=fe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ms(n)),this.ji.getDocumentsMatchingQuery(e,n,si.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new Fe(Ee),this.ss=new Eo(o=>d_(o),f_),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZV(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function aU(t,e,n,r){return new oU(t,e,n,r)}async function wx(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],c=[];let h=ce();for(const f of i){a.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next(f=>({cs:f,removedBatchIds:a,addedBatchIds:c}))})})}function lU(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n._s.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const g=f.batch,y=g.keys();let I=M.resolve();return y.forEach(E=>{I=I.next(()=>p.getEntry(h,E)).next(x=>{const k=f.docVersions.get(E);Ne(k!==null),x.version.compareTo(k)<0&&(g.applyToRemoteDocument(x,f),x.isValidDocument()&&(x.setReadTime(f.commitVersion),p.addEntry(x)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(h,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=ce();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ex(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function uU(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const c=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;c.push(n.Kr.removeMatchingKeys(o,p.removedDocuments,g).next(()=>n.Kr.addMatchingKeys(o,p.addedDocuments,g)));let I=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(bt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),i=i.insert(g,I),function(x,k,T){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(y,I,p)&&c.push(n.Kr.updateTargetData(o,I))});let h=Tr(),f=ce();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(cU(o,a,e.documentUpdates).next(p=>{h=p.ls,f=p.hs})),!r.isEqual(re.min())){const p=n.Kr.getLastRemoteSnapshotVersion(o).next(g=>n.Kr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(p)}return M.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.rs=i,o))}function cU(t,e,n){let r=ce(),i=ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Tr();return n.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(re.min())?(e.removeEntry(c,h.readTime),a=a.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),a=a.insert(c,h)):K("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{ls:a,hs:i}})}function hU(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dU(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.Kr.allocateTargetId(r).next(a=>(i=new zr(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function mm(t,e,n){const r=ae(t),i=r.rs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!bl(a))throw a;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function kw(t,e,n){const r=ae(t);let i=re.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",a=>function(h,f,p){const g=ae(h),y=g.ss.get(p);return y!==void 0?M.resolve(g.rs.get(y)):g.Kr.getTargetData(f,p)}(r,a,Gn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(a,c.targetId).next(h=>{o=h})}).next(()=>r.ns.getDocumentsMatchingQuery(a,e,n?i:re.min(),n?o:ce())).next(c=>(fU(r,rV(e),c),{documents:c,Ps:o})))}function fU(t,e,n){let r=t.os.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.os.set(e,r)}class Cw{constructor(){this.activeTargetIds=uV()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pU{constructor(){this.ro=new Cw,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new Cw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu=null;function Mf(){return bu===null?bu=function(){return 268435456+Math.round(2147483648*Math.random())}():bu++,"0x"+bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class yU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get So(){return!1}bo(n,r,i,o,a){const c=Mf(),h=this.Do(n,r);K("RestConnection",`Sending RPC '${n}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(f,o,a),this.vo(n,h,f,i).then(p=>(K("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw Ys("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",h,"request:",i),p})}Fo(n,r,i,o,a,c){return this.bo(n,r,i,o,a)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}Do(n,r){const i=gU[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=Mf();return new Promise((a,c)=>{const h=new xM;h.setWithCredentials(!0),h.listenOnce(IM.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Of.NO_ERROR:const p=h.getResponseJson();K(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Of.TIMEOUT:K(Et,`RPC '${e}' ${o} timed out`),c(new G(O.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const g=h.getStatus();if(K(Et,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=y==null?void 0:y.error;if(I&&I.status&&I.message){const E=function(k){const T=k.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(T)>=0?T:O.UNKNOWN}(I.status);c(new G(E,I.message))}else c(new G(O.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new G(O.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{K(Et,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);K(Et,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",f,r,15)})}Mo(e,n,r){const i=Mf(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=EM(),c=TM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Co(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=o.join("");K(Et,`Creating RPC '${e}' stream ${i}: ${p}`,h);const g=a.createWebChannel(p,h);let y=!1,I=!1;const E=new _U({ho:k=>{I?K(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(y||(K(Et,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),K(Et,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},Po:()=>g.close()}),x=(k,T,w)=>{k.listen(T,P=>{try{w(P)}catch(C){setTimeout(()=>{throw C},0)}})};return x(g,Ru.EventType.OPEN,()=>{I||K(Et,`RPC '${e}' stream ${i} transport opened.`)}),x(g,Ru.EventType.CLOSE,()=>{I||(I=!0,K(Et,`RPC '${e}' stream ${i} transport closed`),E.mo())}),x(g,Ru.EventType.ERROR,k=>{I||(I=!0,Ys(Et,`RPC '${e}' stream ${i} transport errored:`,k),E.mo(new G(O.UNAVAILABLE,"The operation could not be completed")))}),x(g,Ru.EventType.MESSAGE,k=>{var T;if(!I){const w=k.data[0];Ne(!!w);const P=w,C=P.error||((T=P[0])===null||T===void 0?void 0:T.error);if(C){K(Et,`RPC '${e}' stream ${i} received error:`,C);const U=C.status;let j=function(de){const ie=Ke[de];if(ie!==void 0)return hx(ie)}(U),$=C.message;j===void 0&&(j=O.INTERNAL,$="Unknown error status: "+U+" with message "+C.message),I=!0,E.mo(new G(j,$)),g.close()}else K(Et,`RPC '${e}' stream ${i} received:`,w),E.fo(w)}}),x(c,SM.STAT_EVENT,k=>{k.stat===aw.PROXY?K(Et,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===aw.NOPROXY&&K(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Vo()},0),E}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){return new kV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r=1e3,i=1.5,o=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=o,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r,i,o,a,c,h){this._i=e,this.Uo=r,this.Wo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new Tx(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new G(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vU extends Ix{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=NV(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?re.min():a.readTime?Zn(a.readTime):re.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(o,a){let c;const h=a.target;if(c=lm(h)?{documents:DV(o,h)}:{query:MV(o,h)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=px(o,a.resumeToken);const f=hm(o,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(re.min())>0){c.readTime=Zc(o,a.snapshotVersion.toTimestamp());const f=hm(o,a.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=UV(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.n_(n)}}class wU extends Ix{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=OV(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.T_(r,n)}return Ne(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=pm(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>LV(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.bo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(O.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Fo(e,n,r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(O.UNKNOWN,o.toString())})}terminate(){this.R_=!0}}class TU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Er(n),this.p_=!1):K("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=o,this.x_.so(a=>{r.enqueueAndForget(async()=>{ts(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=ae(h);f.F_.add(4),await Dl(f),f.O_.set("Unknown"),f.F_.delete(4),await qh(f)}(this))})}),this.O_=new TU(r,i)}}async function qh(t){if(ts(t))for(const e of t.M_)await e(!0)}async function Dl(t){for(const e of t.M_)await e(!1)}function Sx(t,e){const n=ae(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),I_(n)?T_(n):To(n).Yo()&&E_(n,e))}function xx(t,e){const n=ae(t),r=To(n);n.v_.delete(e),r.Yo()&&Px(n,e),n.v_.size===0&&(r.Yo()?r.e_():ts(n)&&n.O_.set("Unknown"))}function E_(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).l_(e)}function Px(t,e){t.N_.Le(e),To(t).h_(e)}function T_(t){t.N_=new xV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),To(t).start(),t.O_.y_()}function I_(t){return ts(t)&&!To(t).Jo()&&t.v_.size>0}function ts(t){return ae(t).F_.size===0}function Ax(t){t.N_=void 0}async function SU(t){t.v_.forEach((e,n)=>{E_(t,e)})}async function xU(t,e){Ax(t),I_(t)?(t.O_.b_(e),T_(t)):t.O_.set("Unknown")}async function PU(t,e,n){if(t.O_.set("Online"),e instanceof fx&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const c of o.targetIds)i.v_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.v_.delete(c),i.N_.removeTarget(c))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qc(t,r)}else if(e instanceof Xu?t.N_.Ge(e):e instanceof dx?t.N_.Xe(e):t.N_.He(e),!n.isEqual(re.min()))try{const r=await Ex(t.localStore);n.compareTo(r)>=0&&await function(o,a){const c=o.N_._t(a);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.v_.get(f);p&&o.v_.set(f,p.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach((h,f)=>{const p=o.v_.get(h);if(!p)return;o.v_.set(h,p.withResumeToken(bt.EMPTY_BYTE_STRING,p.snapshotVersion)),Px(o,h);const g=new zr(p.target,h,f,p.sequenceNumber);E_(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Qc(t,r)}}async function Qc(t,e,n){if(!bl(e))throw e;t.F_.add(1),await Dl(t),t.O_.set("Offline"),n||(n=()=>Ex(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await qh(t)})}function Rx(t,e){return e().catch(n=>Qc(t,n,e))}async function Gh(t){const e=ae(t),n=ai(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;AU(e);)try{const i=await hU(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,RU(e,i)}catch(i){await Qc(e,i)}kx(e)&&Cx(e)}function AU(t){return ts(t)&&t.C_.length<10}function RU(t,e){t.C_.push(e);const n=ai(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function kx(t){return ts(t)&&!ai(t).Jo()&&t.C_.length>0}function Cx(t){ai(t).start()}async function kU(t){ai(t).A_()}async function CU(t){const e=ai(t);for(const n of t.C_)e.d_(n.mutations)}async function bU(t,e,n){const r=t.C_.shift(),i=m_.from(r,e,n);await Rx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gh(t)}async function NU(t,e){e&&ai(t).I_&&await async function(r,i){if(function(a){return TV(a)&&a!==O.ABORTED}(i.code)){const o=r.C_.shift();ai(r).Xo(),await Rx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gh(r)}}(t,e),kx(t)&&Cx(t)}async function Nw(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=ts(n);n.F_.add(3),await Dl(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await qh(n)}async function LU(t,e){const n=ae(t);e?(n.F_.delete(2),await qh(n)):e||(n.F_.add(2),await Dl(n),n.O_.set("Unknown"))}function To(t){return t.B_||(t.B_=function(n,r,i){const o=ae(n);return o.V_(),new vU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Io:SU.bind(null,t),Eo:xU.bind(null,t),c_:PU.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),I_(t)?T_(t):t.O_.set("Unknown")):(await t.B_.stop(),Ax(t))})),t.B_}function ai(t){return t.L_||(t.L_=function(n,r,i){const o=ae(n);return o.V_(),new wU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Io:kU.bind(null,t),Eo:NU.bind(null,t),E_:CU.bind(null,t),T_:bU.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Gh(t)):(await t.L_.stop(),t.C_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,c=new S_(e,n,a,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x_(t,e){if(Er("AsyncQueue",`${e}: ${t}`),bl(t))return new G(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=oa(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new zs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.k_=new Fe(Q.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):J():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ro{constructor(e,n,r,i,o,a,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new ro(e,n,zs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.Q_=void 0,this.listeners=[]}}class DU{constructor(){this.queries=new Eo(e=>XS(e),Bh),this.onlineState="Unknown",this.K_=new Set}}async function MU(t,e){const n=ae(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new OU),i)try{o.Q_=await n.onListen(r)}catch(a){const c=x_(a,`Initialization of query '${ms(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,o),o.listeners.push(e),e.U_(n.onlineState),o.Q_&&e.W_(o.Q_)&&P_(n)}async function VU(t,e){const n=ae(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function UU(t,e){const n=ae(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const c of a.listeners)c.W_(i)&&(r=!0);a.Q_=i}}r&&P_(n)}function FU(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function P_(t){t.K_.forEach(e=>{e.next()})}class BU{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.key=e}}class Nx{constructor(e){this.key=e}}class jU{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ce(),this.mutatedKeys=ce(),this.ua=YS(e),this.ca=new zs(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Lw,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),I=jh(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),x=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;y&&I?y.data.isEqual(I.data)?E!==x&&(r.track({type:3,doc:I}),k=!0):this.Ia(y,I)||(r.track({type:2,doc:I}),k=!0,(h&&this.ua(I,h)>0||f&&this.ua(I,f)<0)&&(c=!0)):!y&&I?(r.track({type:0,doc:I}),k=!0):y&&!I&&(r.track({type:1,doc:y}),k=!0,(h||f)&&(c=!0)),k&&(I?(a=a.add(I),o=x?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{ca:a,Pa:r,es:c,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.q_();o.sort((f,p)=>function(y,I){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return E(y)-E(I)}(f.type,p.type)||this.ua(f.doc,p.doc)),this.da(r);const a=n?this.Ta():[],c=this.aa.size===0&&this.current?1:0,h=c!==this._a;return this._a=c,o.length!==0||h?{snapshot:new ro(this.query,e.ca,i,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:a}:{Ea:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Lw,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=ce(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Nx(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new bx(r))}),n}Ra(e){this.oa=e.Ps,this.aa=ce();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ro.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class zU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $U{constructor(e){this.key=e,this.ma=!1}}class HU{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Eo(c=>XS(c),Bh),this.pa=new Map,this.ya=new Set,this.wa=new Fe(Q.comparator),this.Sa=new Map,this.ba=new y_,this.Da={},this.Ca=new Map,this.va=no.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function WU(t,e){const n=tF(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const a=await dU(n.localStore,Gn(e)),c=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=await qU(n,e,r,c==="current",a.resumeToken),n.isPrimaryClient&&Sx(n.remoteStore,a)}return i}async function qU(t,e,n,r,i){t.Ma=(g,y,I)=>async function(x,k,T,w){let P=k.view.ha(T);P.es&&(P=await kw(x.localStore,k.query,!1).then(({documents:j})=>k.view.ha(j,P)));const C=w&&w.targetChanges.get(k.targetId),U=k.view.applyChanges(P,x.isPrimaryClient,C);return Dw(x,k.targetId,U.Ea),U.snapshot}(t,g,y,I);const o=await kw(t.localStore,e,!0),a=new jU(e,o.Ps),c=a.ha(o.documents),h=Ol.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(c,t.isPrimaryClient,h);Dw(t,n,f.Ea);const p=new zU(e,n,a);return t.ga.set(e,p),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),f.snapshot}async function GU(t,e){const n=ae(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Bh(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),xx(n.remoteStore,r.targetId),gm(n,r.targetId)}).catch(Cl)):(gm(n,r.targetId),await mm(n.localStore,r.targetId,!0))}async function KU(t,e,n){const r=nF(t);try{const i=await function(a,c){const h=ae(a),f=rt.now(),p=c.reduce((I,E)=>I.add(E.key),ce());let g,y;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>{let E=Tr(),x=ce();return h._s.getEntries(I,p).next(k=>{E=k,E.forEach((T,w)=>{w.isValidDocument()||(x=x.add(T))})}).next(()=>h.localDocuments.getOverlayedDocuments(I,E)).next(k=>{g=k;const T=[];for(const w of c){const P=_V(w,g.get(w.key).overlayedDocument);P!=null&&T.push(new es(w.key,P,jS(P.value.mapValue),Kn.exists(!0)))}return h.mutationQueue.addMutationBatch(I,f,T,c)}).next(k=>{y=k;const T=k.applyToLocalDocumentSet(g,x);return h.documentOverlayCache.saveOverlays(I,k.batchId,T)})}).then(()=>({batchId:y.batchId,changes:ex(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,h){let f=a.Da[a.currentUser.toKey()];f||(f=new Fe(Ee)),f=f.insert(c,h),a.Da[a.currentUser.toKey()]=f}(r,i.batchId,n),await Ml(r,i.changes),await Gh(r.remoteStore)}catch(i){const o=x_(i,"Failed to persist write");n.reject(o)}}async function Lx(t,e){const n=ae(t);try{const r=await uU(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Sa.get(o);a&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.ma=!0:i.modifiedDocuments.size>0?Ne(a.ma):i.removedDocuments.size>0&&(Ne(a.ma),a.ma=!1))}),await Ml(n,r,e)}catch(r){await Cl(r)}}function Ow(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,a)=>{const c=a.view.U_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const h=ae(a);h.onlineState=c;let f=!1;h.queries.forEach((p,g)=>{for(const y of g.listeners)y.U_(c)&&(f=!0)}),f&&P_(h)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZU(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let a=new Fe(Q.comparator);a=a.insert(o,St.newNoDocument(o,re.min()));const c=ce().add(o),h=new Hh(re.min(),new Map,new Fe(Ee),a,c);await Lx(r,h),r.wa=r.wa.remove(o),r.Sa.delete(e),A_(r)}else await mm(r.localStore,e,!1).then(()=>gm(r,e,n)).catch(Cl)}async function QU(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await lU(n.localStore,e);Dx(n,r,null),Ox(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ml(n,i)}catch(i){await Cl(i)}}async function XU(t,e,n){const r=ae(t);try{const i=await function(a,c){const h=ae(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(g=>(Ne(g!==null),p=g.keys(),h.mutationQueue.removeMutationBatch(f,g))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(r.localStore,e);Dx(r,e,n),Ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ml(r,i)}catch(i){await Cl(i)}}function Ox(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function Dx(t,e,n){const r=ae(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||Mx(t,r)})}function Mx(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(xx(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),A_(t))}function Dw(t,e,n){for(const r of n)r instanceof bx?(t.ba.addReference(r.key,e),YU(t,r)):r instanceof Nx?(K("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Mx(t,r.key)):J()}function YU(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ya.add(r),A_(t))}function A_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new Q(Ce.fromString(e)),r=t.va.next();t.Sa.set(r,new $U(n)),t.wa=t.wa.insert(n,r),Sx(t.remoteStore,new zr(Gn(KS(n.path)),r,"TargetPurposeLimboResolution",l_.ae))}}async function Ml(t,e,n){const r=ae(t),i=[],o=[],a=[];r.ga.isEmpty()||(r.ga.forEach((c,h)=>{a.push(r.Ma(h,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const p=w_.$i(h.targetId,f);o.push(p)}}))}),await Promise.all(a),r.fa.c_(i),await async function(h,f){const p=ae(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(f,y=>M.forEach(y.Qi,I=>p.persistence.referenceDelegate.addReference(g,y.targetId,I)).next(()=>M.forEach(y.Ki,I=>p.persistence.referenceDelegate.removeReference(g,y.targetId,I)))))}catch(g){if(!bl(g))throw g;K("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const I=p.rs.get(y),E=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(E);p.rs=p.rs.insert(y,x)}}}(r.localStore,o))}async function JU(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await wx(n.localStore,e);n.currentUser=e,function(o,a){o.Ca.forEach(c=>{c.forEach(h=>{h.reject(new G(O.CANCELLED,a))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ml(n,r.cs)}}function eF(t,e){const n=ae(t),r=n.Sa.get(e);if(r&&r.ma)return ce().add(r.key);{let i=ce();const o=n.pa.get(e);if(!o)return i;for(const a of o){const c=n.ga.get(a);i=i.unionWith(c.view.la)}return i}}function tF(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZU.bind(null,e),e.fa.c_=UU.bind(null,e.eventManager),e.fa.xa=FU.bind(null,e.eventManager),e}function nF(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XU.bind(null,e),e}class Mw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aU(this.persistence,new sU,e.initialUser,this.serializer)}createPersistence(e){return new nU(v_.Jr,this.serializer)}createSharedClientState(e){return new pU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JU.bind(null,this.syncEngine),await LU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DU}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),r=function(o){return new yU(o)}(e.databaseInfo);return function(o,a,c,h){return new EU(o,a,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,c){return new IU(r,i,o,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Ow(this.syncEngine,n,0),function(){return bw.C()?new bw:new mU}())}createSyncEngine(e,n){return function(i,o,a,c,h,f,p){const g=new HU(i,o,a,c,h,f);return p&&(g.Fa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ae(n);K("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Dl(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=US.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uf(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aF(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Nw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Nw(e.remoteStore,o)),t._onlineComponents=e}function oF(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function aF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!oF(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await Uf(t,new Mw)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Uf(t,new Mw);return t._offlineComponents}async function Vx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await Vw(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await Vw(t,new rF))),t._onlineComponents}function lF(t){return Vx(t).then(e=>e.syncEngine)}async function uF(t){const e=await Vx(t),n=e.eventManager;return n.onListen=WU.bind(null,e.syncEngine),n.onUnlisten=GU.bind(null,e.syncEngine),n}function cF(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,c,h,f){const p=new iF({next:y=>{a.enqueueAndForget(()=>VU(o,g)),y.fromCache&&h.source==="server"?f.reject(new G(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new BU(c,p,{includeMetadataChanges:!0,Z_:!0});return MU(o,g)}(await uF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e,n){if(!n)throw new G(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hF(t,e,n,r){if(e===!0&&r===!0)throw new G(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fw(t){if(!Q.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bw(t){if(Q.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(t);throw new G(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ux((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AM;switch(r.type){case"firstParty":return new bM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Uw.get(n);r&&(K("ComponentProvider","Removing Datastore"),Uw.delete(n),r.terminate())}(this),Promise.resolve()}}function dF(t,e,n,r={}){var i;const o=(t=io(t,Zh))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Tt.MOCK_USER;else{c=S1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new G(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Tt(f)}t._authCredentials=new RM(new VS(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class ti extends Io{constructor(e,n,r){super(e,n,KS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Q(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function Bx(t,e,...n){if(t=Ye(t),Fx("collection","path",e),t instanceof Zh){const r=Ce.fromString(e,...n);return Bw(r),new ti(t,null,r)}{if(!(t instanceof Xt||t instanceof ti))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return Bw(r),new ti(t.firestore,null,r)}}function _m(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=US.V()),Fx("doc","path",e),t instanceof Zh){const r=Ce.fromString(e,...n);return Fw(r),new Xt(t,null,new Q(r))}{if(!(t instanceof Xt||t instanceof ti))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return Fw(r),new Xt(t.firestore,t instanceof ti?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new Tx(this,"async_queue_retry"),this.ou=()=>{const n=Vf();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=Vf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=Vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new ei;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!bl(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw Er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=S_.createAndSchedule(this,e,n,r,o=>this.cu(o));return this.tu.push(i),i}_u(){this.nu&&J()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class Qh extends Zh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new fF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zx(this),this._firestoreClient.terminate()}}function pF(t,e){const n=typeof t=="object"?t:vg(),r=typeof t=="string"?t:e||"(default)",i=_h(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=E1("firestore");o&&dF(i,...o)}return i}function jx(t){return t._firestoreClient||zx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zx(t){var e,n,r;const i=t._freezeSettings(),o=function(c,h,f,p){return new $M(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Ux(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sF(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(bt.fromBase64String(e))}catch(n){throw new G(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=/^__.*__$/;class gF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(e,this.data,n,this.fieldTransforms)}}function $x(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class b_{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.du(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new b_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Xc(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if($x(this.Tu)&&mF.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class _F{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wh(e)}wu(e,n,r,i=!1){return new b_({Tu:e,methodName:n,yu:r,path:xt.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N_(t){const e=t._freezeSettings(),n=Wh(t._databaseId);return new _F(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hx(t,e,n,r,i,o={}){const a=t.wu(o.merge||o.mergeFields?2:0,e,n,i);Gx("Data must be an object, but it was:",a,r);const c=Wx(r,a);let h,f;if(o.merge)h=new Tn(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const p=[];for(const g of o.mergeFields){const y=vF(e,g,n);if(!a.contains(y))throw new G(O.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);EF(p,y)||p.push(y)}h=new Tn(p),f=a.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,f=a.fieldTransforms;return new gF(new cn(c),h,f)}class L_ extends k_{_toFieldTransform(e){return new fV(e.path,new il)}isEqual(e){return e instanceof L_}}function yF(t,e,n,r=!1){return O_(n,t.wu(r?4:3,e))}function O_(t,e){if(qx(t=Ye(t)))return Gx("Unsupported field value:",e,t),Wx(t,e);if(t instanceof k_)return function(r,i){if(!$x(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const c of r){let h=O_(c,i.fu(a));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rt.fromDate(r);return{timestampValue:Zc(i.serializer,o)}}if(r instanceof rt){const o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zc(i.serializer,o)}}if(r instanceof C_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof so)return{bytesValue:px(i.serializer,r._byteString)};if(r instanceof Xt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.gu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:__(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${Kh(r)}`)}(t,e)}function Wx(t,e){const n={};return FS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,i)=>{const o=O_(i,e.Au(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function qx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof C_||t instanceof so||t instanceof Xt||t instanceof k_)}function Gx(t,e,n){if(!qx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Kh(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function vF(t,e,n){if((e=Ye(e))instanceof R_)return e._internalPath;if(typeof e=="string")return Kx(t,e);throw Xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const wF=new RegExp("[~\\*/\\[\\]]");function Kx(t,e,n){if(e.search(wF)>=0)throw Xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new R_(...e.split("."))._internalPath}catch{throw Xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xc(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${r}`),a&&(h+=` in document ${i}`),h+=")"),new G(O.INVALID_ARGUMENT,c+t+h)}function EF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TF extends Zx{data(){return super.data()}}function D_(t,e){return typeof e=="string"?Kx(t,e):e instanceof R_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M_{}class SF extends M_{}function xF(t,e,...n){let r=[];e instanceof M_&&r.push(e),r=r.concat(n),function(o){const a=o.filter(h=>h instanceof V_).length,c=o.filter(h=>h instanceof Xh).length;if(a>1||a>0&&c>0)throw new G(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xh extends SF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xh(e,n,r)}_apply(e){const n=this._parse(e);return Qx(e._query,n),new Io(e.firestore,e.converter,um(e._query,n))}_parse(e){const n=N_(e.firestore);return function(o,a,c,h,f,p,g){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new G(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){$w(g,p);const I=[];for(const E of g)I.push(zw(h,o,E));y={arrayValue:{values:I}}}else y=zw(h,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||$w(g,p),y=yF(c,a,g,p==="in"||p==="not-in");return Xe.create(f,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function PF(t,e,n){const r=e,i=D_("where",t);return Xh._create(i,r,n)}class V_ extends M_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const c=o.getFlattenedFilters();for(const h of c)Qx(a,h),a=um(a,h)}(e._query,n),new Io(e.firestore,e.converter,um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zw(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new G(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QS(e)&&n.indexOf("/")!==-1)throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ce.fromString(n));if(!Q.isDocumentKey(r))throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dw(t,new Q(r))}if(n instanceof Xt)return dw(t,n._key);throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function $w(t,e){if(!Array.isArray(t)||t.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qx(t,e){if(e.isInequality()){const r=p_(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new G(O.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=ZS(t);o!==null&&AF(t,i,o)}const n=function(i,o){for(const a of i)for(const c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function AF(t,e,n){if(!n.isEqual(e))throw new G(O.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class RF{convertValue(e,n="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new C_(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=c_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const n=oi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);Ne(vx(r));const i=new nl(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(n)||Er(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kF extends Zx{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yu extends kF{data(e={}){return super.data(e)}}class CF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yu(this._firestore,this._userDataWriter,r.key,r,new Nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const h=new Yu(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Nu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Yu(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Nu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:bF(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class NF extends RF{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function LF(t){t=io(t,Io);const e=io(t.firestore,Qh),n=jx(e),r=new NF(e);return IF(t._query),cF(n,t._query).then(i=>new CF(e,r,t,i))}function Hw(t,e,n){t=io(t,Xt);const r=io(t.firestore,Qh),i=Xx(t.converter,e,n);return Yx(r,[Hx(N_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kn.none())])}function OF(t,e){const n=io(t.firestore,Qh),r=_m(t),i=Xx(t.converter,e);return Yx(n,[Hx(N_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function Yx(t,e){return function(r,i){const o=new ei;return r.asyncQueue.enqueueAndForget(async()=>KU(await lF(r),i,o)),o.promise}(jx(t),e)}function DF(){return new L_("serverTimestamp")}(function(e,n=!0){(function(i){vo=i})(Qi),ji(new ii("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),c=new Qh(new kM(r.getProvider("auth-internal")),new LM(r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new G(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(f.options.projectId,p)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),$n(lw,"4.2.0",e),$n(lw,"4.2.0","esm2017")})();const MF={apiKey:"AIzaSyCD6hhMkqM8rUsEneOpFozl6sRhFysXtO0",authDomain:"agrotechnew-d9d46.firebaseapp.com",projectId:"agrotechnew-d9d46",storageBucket:"agrotechnew-d9d46.appspot.com",messagingSenderId:"645806509763",appId:"1:645806509763:web:625f32bf5b53722debdc76"};A1(MF);const Yh=sO(),VF=_2(),Yc=pF();function UF(){const[t,e]=F.useState(!1),n=vl(),r=async i=>{i.preventDefault();const o=i.target[0].value,a=i.target[1].value;try{await jN(Yh,o,a),n("/home")}catch{e(!0)}};return v.jsx("div",{children:v.jsx("section",{class:" bg-gray-50 dark:bg-gray-400",children:v.jsxs("div",{class:"loginscreen flex flex-col items-center justify-center px-6 py-8 mx-auto h-screen lg:py-0",children:[v.jsx("a",{href:"#",class:"flex items-center mb-6 text-4xl font-semibold text-gray-900 ",children:"AgroTech"}),v.jsx("div",{class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0  dark:border-gray-700",children:v.jsxs("div",{class:"loginFormpage p-6 space-y-4 md:space-y-6 sm:p-8",children:[v.jsx("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl",children:"Sign in to your account"}),v.jsxs("form",{onSubmit:r,class:"space-y-4 md:space-y-6",action:"#",children:[v.jsxs("div",{children:[v.jsx("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900",children:"Your email"}),v.jsx("input",{type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:""})]}),v.jsxs("div",{children:[v.jsx("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900",children:"Password"}),v.jsx("input",{type:"password",name:"password",id:"password",placeholder:"",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""})]}),v.jsxs("div",{class:"flex items-center justify-between",children:[v.jsxs("div",{class:"flex items-start",children:[v.jsx("div",{class:"flex items-center h-5",children:v.jsx("input",{id:"remember","aria-describedby":"remember",type:"checkbox",class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300  dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800",required:""})}),v.jsx("div",{class:"ml-3 text-sm",children:v.jsx("label",{for:"remember",class:":text-gray-300",children:"Remember me"})})]}),v.jsx("a",{href:"#",class:"text-sm font-medium text-white hover:underline",children:"Forgot password?"})]}),v.jsx("button",{type:"submit",class:"w-full text-white bg-green-700 hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:focus:ring-primary-800",children:"Sign in"}),v.jsx("br",{}),v.jsx("br",{}),t&&v.jsx("span",{children:"Something went wrong"}),v.jsx(qn,{to:"/register",children:v.jsxs("p",{class:"text-sm font-light text-white",children:["Dont have an account yet? ",v.jsx("a",{href:"#",class:"font-medium text-black hover:underline",children:"Sign up"})]})})]})]})})]})})})}const FF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAYAAAD6+a2dAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gkBChonodWdTQAADIVJREFUeNrtnX1UVVXawH/PuUIIfgJOZoCjoGlOH0LaiFQiRuZ6tV5zFLUPy/xYoTLmV2Uqpk0141gqOKWVY8tE6XNqtUoE8c0JVxqpaX686kySuSwVGdEK5Z5n/rjca4If517u5ULc3z93sdfez372s5+zz3P2s88BAgQI0HgRfyvQ2FiTnv93NTt3Nt8wViFxccYyfQINC/NUnjlWnkfOnIHKP6P7948oT40XY/9+q+0DDuBjVo9Zn6dmUpJUShaSlUUqk+Cmm3zVn7wgT6Hbt8tV9vuRCROGfZ46SeSzzy5Z398G+rXimvibjMlIQQERugiCg+tMgROSAWfPEscKSE4e3j+lp0hRUfVqTfxloNzc3FxVm61yQMQCNDLSWGm2Q8LDGWW0h6ZNdVPlfyAkRFtLMYSE6H6jBWoY/tLXXeQBFWThQla7OfH3EIH+61/me8ZJZOhQI98+BBVhpxGG5OYyRVdAhw5XlON0uDCuQbOyHIXx8TX0rCuDrFpUqGpGRQXtsSdBly5mEfuQmBip4Dpo4jdH9DZSKTMhNNScr8Hw4otut/8nh2HKlLTsfqNEFi50lq8+XdBTdcoU+VD/BAsWuC13sZEBcXFpm/t+LXLwoLPcZ4Zffbqgp5pXXy0LeAxJTJSl9iRo00adCsF1vurbn5jXmxuhZUuQVI8E5LMcTp+uXiwTuQ/OnMEzqdBO46FzZ+BrOO8AXl9S33xzwwbVhAQZYg6HQYMkR5dDmzbe7qfeEmlkg83mbbGy14wH8XzFHsJDaLNm1Yu9tgLkHMzfp+Ztt8kA8xHo2hUkEGJ6k3DjO9RmA43ypl1r7QCuK9418QEuylymw4EDPM1uWLpU5pEAZ87UqDdJ28CmTaRfWGyOlRKksNCYrsth3LjqzXQWxRAWxjGeRNPTaUtvJDb2Smp57ACue/wQ+w40Pj5wxV8ec5axANLSRo7s21ekuBi4+LN5+sXbj7in72yRr792/OX8/QX3O35yHl6/SM1Nm2grvWHr1ivp5XEM4Aru/i1vI7W4NwXwKrpVFiJBQVbru70C5HyybpSa0dGS0ciCu1pi3KX/Czk5OS/mz1UzK0teJg/5+ecaFatuAWnpd74vsmePs3j1PzY8o9qtmzHdXAe9e1dvZn7oePyUEYyDSZNAV1jRy20H0KQmu6FLF0Ete1kAYL2+A5060RaQRYs0k94XqyaZMuf8Pf68AxjLNAZNTtZM5iJLltRoV1z1gD0FSxPvxLIDOHfu7In6GERHU0fP8ZJPKhoSokNJQJKT+atMh4QEs6PeAW3b/qLeCjh6lEjuhi++MB7WxVBYqC0kDSoq6kJXn1JqXovY7d4OtCw7gGvLdpZeh/h+584s1wchOlqOGh8h6elM0t7QujWHdDGAHKrWwMZ9EB3NSYDoaG0q++H22zVR98DSpVIkXeHwYV/rzV8lHc6dY53WXtYv0C7Gl6AKmuBR+6n6EVJeXr3cchDo2qv3NaM0E8LDjbbyAWRkcEAnQevWbg/4WUyIiGCKIZCRoaskwhM5bvd73P4j1DS05fbOx7nq5Ut452LlVpEYIw9qpomtPwVUJWl8YLMLB/p/cg0MHqzTmAzNm9da4E5dCy1ayGC9GQYP9rX+xkDZBj/+SJE8D7t2uS2g6jk+5+H14Wrecsva5vkPqdmjh6zWFjBhgtvy3mUXfPll9RyAS1+rcpzZOV8Zzun5+jYPQYJHy9xl5WfqZEhIcCZrfDUOFw8SCqtWudKyVnFu4KRKLrJ1q7mMB5AtW2jOE/Db31qW4+x3tCTCxImXqmbdAarSsr6yl7yhZRATIx/yAvgg7RsqxWCzmc+ShcbE+GocrvHcryfg5EluJRZmz/Z4RXCXPBbDjh1XOgfgxHIwd0E+3gfbPvqS9ISQEHawsPbSLsPL5mQkJAQk06f9VOFyBACWLDEn6vsQGiqRtlBo3pwpmg3WN25qyO+jR6Gy0uwlm+DUKbXrCXTXrpH9U3qKcemJd1Jv8vBSKo9DWZni3ei5Rj8HmYWWlRGKzR9b164YARPHLzfXSmAR/QGMKrvZZ7mpT92b4OJIBN/DoUP0JBq9SJKktvL/Iq9Debn24/+RkhJ/j7e+UG8cQO/VD8A02c8TSF6e1zuo5C3Iy3PsB5imv8dbX6g3DuBSqL38HvLy+Eru/OVWqMeM4wzs3i1rmQ/5+f4eX32j3jmAayUAIDtbinkNPv1U1sgGx07YFbhXngLTlF7cgW7caCjvQnb2hXIDOKk3QWB15F1NhHPngBJ4803drK0gP58tZEP37syTz9FrrnHVn8YgOHJE+5prYNs2SqUP8sMP2s7fI6nf1FsHqI704iv4/nvHX598Atrhgih+BjsBBHnA37o2JOrdLSBA3RJwgEZOwAEaOQ0mBvi1YQaZ10GzZvzNGAy33Was4Tj06KEl7IV27eQL5sKxY9qfZ9DiYmM3KcjGjVrGLCgr85YeAQeoa8KJQjt3Nh5psh2ZOFEPmyMgOFiTiKqqEQWgI9gEv/kNkIzcfbd9CdPgrrukTFehr72mK6UZFBcbb5CGWHg8vgQBB/Ax5oOsQUWMJ+RGJD5ec3UuMnasIxdgnfNZUvkOGTNGDlCIRkU5Tjx98IGnO5yBGMBHaKIMAsOQ/5F+yMCBmqtvwdixXusg1bEyOCb+0Ud1sBR5klUMrABeRgfbukFQEAP0FXT0aHaby5Du3X3WXyZzISGBcn0eIiKMCvsbMG0aYGkLLLACeAlXUNfN/CfMmMFh3058DZwnhl6w/QGGDrXaLLAC1BLZxusQGSmZRjlMn45NRzheD28YBFYATwliDsTGmj/LUsjMpDtlDWninTSgFcCYB2A8oyVocLC9JddDSIh25DhSWclbegP600+1fSy6Uv86QG+HXr3oqRth1CjW6UB/W6Y21GMHcBjcvN18Be3cWe7QCcjQoXZTFyPR0ZzkFIAU4/j+TleaIkeO6Fxpia5dK3NkKrJ3L5huHpK6EMdjlmHwtHkt3HMPW9gI/fv72zreot45gHnEXAJNm8rfZSU6fLicZQxy661c6axgBduhXTvQx5HJk/UPZje0oEAKyETeeYdSyQS73aoe56P5ysfQ0aPZwrd1GtTVEZZjgKBgYyfiiwMVVUvrXGmJduki240w9NlnOasDHRPvId1kJ5KSYq40zsGMGSzmW4iJcV3R1QnXTLDZdLKuQDt1EsyDMGcOh+XqhjTx8h29EevvQlo/Fr5Cv0ErK4GB3jhNq+MdL30Sbr6LDBuG8jiSmMgWvvWqQYo1GNq3V3gdZs5kr1wPFRXmy9IVSkqMs7yKGob+mXKkfXtaUoI0aaI36pPe1KOu0FacgxMnsHis1vIKYKba76jNW7bOLVGzWDugcXFkyT5k/nyCuRcSE+vMQpPYDVddJUcdr2trqbZGYmN5lBa/hs/VyVNyGo4ds1rf8oAlWGKRU6cAy8IBuEVKoGlTYz5dkCFDtCP/gKQk5vv2/H9jRT80r0d/+MFqfcsOYD5kHEFLS43FGnS5W4DzSpcI/Qni4mSZZCLjxunr+ohXXvYMcFmMz2Q7bN9uub7VivvCPv0cOXbMjNJOVYc1L8R5pT/CNmTkSFpKCTJ1qk4LTHydcIMMg1On5NXSAbBjh9Vmbodza6ILQ1VTUszx9n1oXJyRwx6kY0ddI8Nh/Hjn69j+tkej40duhbVrh4/u11wkLc1qM7eDHnuYeRg9cMBoQnN4+mmdyT7o08cx8QH8hf7OuBaWLXO3ndu5gJF7U8LFOHSIZnyMeP+TqAHc5CzvQ1HR8J7J/4HCQnebe5wMModJKTp1Kq9yCior/W2HRkeV3Y0JlKN//KOIiHiQA/HYAUZGpowSY8sWpkkU+mSD3DRp0HzDazB79rDyfivFuPIXQS9Frff0VFVVRdasK/geXnqJk+xyfKgwgC+QT0iGpUvTVvaziaSn11qetxXM2VowSHXGDGL1Wpg3j3XcV5svYDR6nLfYqit++MF+H4k895y3xPvsGxk5N+ZHqnbvLkd4D7KzdQkV0KtX3Vit4SMTuQo2b5YKXkUzMmq71F+yn7oaUI6uV9U+fXjJuBvGjJHlmgQDBugsfg+tWtWVHvWOqg0cPtdv4OOPJVPvhOXLh5X02wwbNnga3FnFb1/5fuXlL7aqGRTUalpZFtx8s9mBj5AbbiCVBRAby0GZDJGRfKYzoUULWvGe4x8mNAycaVlXdi5GJ6LHj+vvjEVw9Kg+R3f46qvTb7fsBtu2jRt/Sw8xLrLDGiBAgAABAgQIECCAt/kvM0G98R+QJHEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDktMDFUMTA6MjY6MzkrMDA6MDCBjcn+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA5LTAxVDEwOjI2OjM5KzAwOjAw8NBxQgAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMi0wOS0wMVQxMDoyNjozOSswMDowMKfFUJ0AAAAASUVORK5CYII=";function BF(){const[t,e]=F.useState(!1),[n,r]=F.useState(!1),i=vl(),o=async a=>{r(!0),a.preventDefault();const c=a.target[0].value,h=a.target[1].value,f=a.target[2].value,p=a.target[3].files[0];try{const g=await BN(Yh,h,f),y=new Date().getTime(),I=g2(VF,`${c+y}`);await p2(I,p).then(()=>{m2(I).then(async E=>{try{await $N(g.user,{displayName:c,photoURL:E}),await Hw(_m(Yc,"users",g.user.uid),{uid:g.user.uid,displayName:c,email:h,photoURL:E}),await Hw(_m(Yc,"userChats",g.user.uid),{}),i("/home")}catch(x){console.log(x),e(!0),r(!1)}})})}catch{e(!0),r(!1)}};return v.jsx("div",{className:" dark:bg-gray-900",children:v.jsx("section",{class:"bg-gray-50 dark:bg-gray-900",children:v.jsxs("div",{class:"loginscreen flex flex-col items-center justify-center px-6 py-8 mx-auto h-screen lg:py-0",children:[v.jsx("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-gray-900",children:"AgroTech"}),v.jsx("div",{class:"sectionlogin w-full  rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0  dark:border-gray-700",children:v.jsxs("div",{class:"loginFormpage p-6 space-y-4 md:space-y-6 sm:p-8",children:[v.jsx("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl",children:"Sign up in to your account"}),v.jsxs("form",{onSubmit:o,className:"signupForm space-y-4 md:space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your Name"}),v.jsx("input",{type:"text",name:"name",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"enter your name"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your email"}),v.jsx("input",{type:"email",name:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900",children:"Password"}),v.jsx("input",{type:"password",name:"password",placeholder:"",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  dark:border-gray-600 dark:placeholder-gray-400  dark:focus:ring-blue-500 dark:focus:border-blue-500"})]}),v.jsxs("div",{className:"profile",children:[v.jsx("input",{style:{display:"none"},type:"file",id:"file",name:"file"})," ",v.jsxs("label",{htmlFor:"file",className:"propic",children:[v.jsx("img",{className:"bg-green-700 hover:bg-green-600 rounded-md",src:FF,alt:""}),v.jsx("span",{className:"text-black",children:"Add an avatar"})]})]}),v.jsx("br",{}),v.jsx("button",{type:"submit",class:"w-full text-white bg-green-700 hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center  dark:focus:ring-primary-800",children:"Sign in"}),n&&"Uploading and compressing the image please wait...",t&&v.jsx("span",{children:"Something went wrong"}),v.jsxs("p",{class:"text-sm font-light text-gray-700 ",children:["Dont have an account yet? ",v.jsx(qn,{to:"/login",children:v.jsx("a",{href:"#",class:"font-medium text-gray-800 hover:underline dark:text-primary-500",children:"Sign up"})})]})]})]})})]})})})}const Jh=F.createContext(),jF=({children:t})=>{const[e,n]=F.useState({});return F.useEffect(()=>{const r=qN(Yh,i=>{n(i),console.log(i)});return()=>{r()}},[]),v.jsx(Jh.Provider,{value:{currentUser:e},children:t})};function ed(){const[t,e]=F.useState(!1),{currentUser:n}=F.useContext(Jh),r=()=>{e(!t)};return v.jsx("div",{children:v.jsx("nav",{className:"mainNav fixed w-full z-20 top-0 left-0 ",children:v.jsxs("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",children:[v.jsxs("a",{href:"https://flowbite.com/",className:"flex items-center",children:[v.jsx("img",{class:"w-8 h-8 rounded-full mr-3",src:n.photoURL,alt:"user photo"}),v.jsx("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:n.displayName})]}),v.jsxs("div",{className:"flex md:order-2",children:[v.jsx("button",{onClick:()=>GN(Yh),type:"button",className:"logoutButton  text-gray-900 hover:text-gray-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:focus:ring-blue-800",children:"logout"}),v.jsxs("button",{onClick:r,type:"button",className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-sticky","aria-expanded":"false",children:[v.jsx("span",{className:"sr-only",children:"Toggle Sidebar"}),v.jsx("svg",{className:"w-5 h-5 text-gray-900","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",children:v.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1h15M1 7h15M1 13h15"})})]})]}),v.jsx("div",{className:`${t?"block":"hidden"} md:block items-center justify-between w-full md:flex md:w-auto md:order-1`,id:"navbar-sticky",children:v.jsxs("ul",{className:"ulNav flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[v.jsx("li",{children:v.jsx(qn,{to:"/home",children:v.jsx("a",{href:"#",className:"block py-2 pl-3 pr-4 text-white  rounded md:bg-transparent  md:p-0 md:dark:text-gray-900 dark:border-gray-700  dark:hover:bg-gray-700","aria-current":"page",children:"Home"})})}),v.jsx("li",{children:v.jsx(qn,{to:"/about",children:v.jsx("a",{href:"#",className:"block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"About"})})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Services"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Farmers Forum"})})]})})]})})})}function Jx(t,e){return function(){return t.apply(e,arguments)}}const{toString:zF}=Object.prototype,{getPrototypeOf:U_}=Object,td=(t=>e=>{const n=zF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=t=>(t=t.toLowerCase(),e=>td(e)===t),nd=t=>e=>typeof e===t,{isArray:So}=Array,al=nd("undefined");function $F(t){return t!==null&&!al(t)&&t.constructor!==null&&!al(t.constructor)&&fn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const eP=Yn("ArrayBuffer");function HF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eP(t.buffer),e}const WF=nd("string"),fn=nd("function"),tP=nd("number"),rd=t=>t!==null&&typeof t=="object",qF=t=>t===!0||t===!1,Ju=t=>{if(td(t)!=="object")return!1;const e=U_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},GF=Yn("Date"),KF=Yn("File"),ZF=Yn("Blob"),QF=Yn("FileList"),XF=t=>rd(t)&&fn(t.pipe),YF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fn(t.append)&&((e=td(t))==="formdata"||e==="object"&&fn(t.toString)&&t.toString()==="[object FormData]"))},JF=Yn("URLSearchParams"),e4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),So(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let c;for(r=0;r<a;r++)c=o[r],e.call(null,t[c],c,t)}}function nP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const rP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),iP=t=>!al(t)&&t!==rP;function ym(){const{caseless:t}=iP(this)&&this||{},e={},n=(r,i)=>{const o=t&&nP(e,i)||i;Ju(e[o])&&Ju(r)?e[o]=ym(e[o],r):Ju(r)?e[o]=ym({},r):So(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Vl(arguments[r],n);return e}const t4=(t,e,n,{allOwnKeys:r}={})=>(Vl(e,(i,o)=>{n&&fn(i)?t[o]=Jx(i,n):t[o]=i},{allOwnKeys:r}),t),n4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),r4=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},i4=(t,e,n,r)=>{let i,o,a;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&U_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},s4=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},o4=t=>{if(!t)return null;if(So(t))return t;let e=t.length;if(!tP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},a4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&U_(Uint8Array)),l4=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},u4=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},c4=Yn("HTMLFormElement"),h4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Ww=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),d4=Yn("RegExp"),sP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Vl(n,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(r[o]=a||i)}),Object.defineProperties(t,r)},f4=t=>{sP(t,(e,n)=>{if(fn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(fn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},p4=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return So(t)?r(t):r(String(t).split(e)),n},m4=()=>{},g4=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Ff="abcdefghijklmnopqrstuvwxyz",qw="0123456789",oP={DIGIT:qw,ALPHA:Ff,ALPHA_DIGIT:Ff+Ff.toUpperCase()+qw},_4=(t=16,e=oP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function y4(t){return!!(t&&fn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const v4=t=>{const e=new Array(10),n=(r,i)=>{if(rd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=So(r)?[]:{};return Vl(r,(a,c)=>{const h=n(a,i+1);!al(h)&&(o[c]=h)}),e[i]=void 0,o}}return r};return n(t,0)},w4=Yn("AsyncFunction"),E4=t=>t&&(rd(t)||fn(t))&&fn(t.then)&&fn(t.catch),b={isArray:So,isArrayBuffer:eP,isBuffer:$F,isFormData:YF,isArrayBufferView:HF,isString:WF,isNumber:tP,isBoolean:qF,isObject:rd,isPlainObject:Ju,isUndefined:al,isDate:GF,isFile:KF,isBlob:ZF,isRegExp:d4,isFunction:fn,isStream:XF,isURLSearchParams:JF,isTypedArray:a4,isFileList:QF,forEach:Vl,merge:ym,extend:t4,trim:e4,stripBOM:n4,inherits:r4,toFlatObject:i4,kindOf:td,kindOfTest:Yn,endsWith:s4,toArray:o4,forEachEntry:l4,matchAll:u4,isHTMLForm:c4,hasOwnProperty:Ww,hasOwnProp:Ww,reduceDescriptors:sP,freezeMethods:f4,toObjectSet:p4,toCamelCase:h4,noop:m4,toFiniteNumber:g4,findKey:nP,global:rP,isContextDefined:iP,ALPHABET:oP,generateString:_4,isSpecCompliantForm:y4,toJSONObject:v4,isAsyncFn:w4,isThenable:E4};function ge(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}b.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const aP=ge.prototype,lP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lP[t]={value:t}});Object.defineProperties(ge,lP);Object.defineProperty(aP,"isAxiosError",{value:!0});ge.from=(t,e,n,r,i,o)=>{const a=Object.create(aP);return b.toFlatObject(t,a,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),ge.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const T4=null;function vm(t){return b.isPlainObject(t)||b.isArray(t)}function uP(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function Gw(t,e,n){return t?t.concat(e).map(function(i,o){return i=uP(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function I4(t){return b.isArray(t)&&!t.some(vm)}const S4=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function id(t,e,n){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,k){return!b.isUndefined(k[x])});const r=n.metaTokens,i=n.visitor||p,o=n.dots,a=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(i))throw new TypeError("visitor must be a function");function f(E){if(E===null)return"";if(b.isDate(E))return E.toISOString();if(!h&&b.isBlob(E))throw new ge("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(E)||b.isTypedArray(E)?h&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,x,k){let T=E;if(E&&!k&&typeof E=="object"){if(b.endsWith(x,"{}"))x=r?x:x.slice(0,-2),E=JSON.stringify(E);else if(b.isArray(E)&&I4(E)||(b.isFileList(E)||b.endsWith(x,"[]"))&&(T=b.toArray(E)))return x=uP(x),T.forEach(function(P,C){!(b.isUndefined(P)||P===null)&&e.append(a===!0?Gw([x],C,o):a===null?x:x+"[]",f(P))}),!1}return vm(E)?!0:(e.append(Gw(k,x,o),f(E)),!1)}const g=[],y=Object.assign(S4,{defaultVisitor:p,convertValue:f,isVisitable:vm});function I(E,x){if(!b.isUndefined(E)){if(g.indexOf(E)!==-1)throw Error("Circular reference detected in "+x.join("."));g.push(E),b.forEach(E,function(T,w){(!(b.isUndefined(T)||T===null)&&i.call(e,T,b.isString(w)?w.trim():w,x,y))===!0&&I(T,x?x.concat(w):[w])}),g.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return I(t),e}function Kw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function F_(t,e){this._pairs=[],t&&id(t,this,e)}const cP=F_.prototype;cP.append=function(e,n){this._pairs.push([e,n])};cP.toString=function(e){const n=e?function(r){return e.call(this,r,Kw)}:Kw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function x4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hP(t,e,n){if(!e)return t;const r=n&&n.encode||x4,i=n&&n.serialize;let o;if(i?o=i(e,n):o=b.isURLSearchParams(e)?e.toString():new F_(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class P4{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Zw=P4,dP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},A4=typeof URLSearchParams<"u"?URLSearchParams:F_,R4=typeof FormData<"u"?FormData:null,k4=typeof Blob<"u"?Blob:null,C4=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),b4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Bn={isBrowser:!0,classes:{URLSearchParams:A4,FormData:R4,Blob:k4},isStandardBrowserEnv:C4,isStandardBrowserWebWorkerEnv:b4,protocols:["http","https","file","blob","url","data"]};function N4(t,e){return id(t,new Bn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Bn.isNode&&b.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function L4(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function O4(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function fP(t){function e(n,r,i,o){let a=n[o++];const c=Number.isFinite(+a),h=o>=n.length;return a=!a&&b.isArray(i)?i.length:a,h?(b.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!c):((!i[a]||!b.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],o)&&b.isArray(i[a])&&(i[a]=O4(i[a])),!c)}if(b.isFormData(t)&&b.isFunction(t.entries)){const n={};return b.forEachEntry(t,(r,i)=>{e(L4(r),i,n,0)}),n}return null}function D4(t,e,n){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const B_={transitional:dP,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=b.isObject(e);if(o&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return i&&i?JSON.stringify(fP(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return N4(e,this.formSerializer).toString();if((c=b.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return id(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),D4(e)):e}],transformResponse:[function(e){const n=this.transitional||B_.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&b.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?ge.from(c,ge.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],t=>{B_.headers[t]={}});const j_=B_,M4=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V4=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&M4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Qw=Symbol("internals");function Xo(t){return t&&String(t).trim().toLowerCase()}function ec(t){return t===!1||t==null?t:b.isArray(t)?t.map(ec):String(t)}function U4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const F4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Bf(t,e,n,r,i){if(b.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!b.isString(e)){if(b.isString(r))return e.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(e)}}function B4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function j4(t,e){const n=b.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,a){return this[r].call(this,e,i,o,a)},configurable:!0})})}class sd{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(c,h,f){const p=Xo(h);if(!p)throw new Error("header name must be a non-empty string");const g=b.findKey(i,p);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||h]=ec(c))}const a=(c,h)=>b.forEach(c,(f,p)=>o(f,p,h));return b.isPlainObject(e)||e instanceof this.constructor?a(e,n):b.isString(e)&&(e=e.trim())&&!F4(e)?a(V4(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Xo(e),e){const r=b.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return U4(i);if(b.isFunction(n))return n.call(this,i,r);if(b.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xo(e),e){const r=b.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Bf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(a){if(a=Xo(a),a){const c=b.findKey(r,a);c&&(!n||Bf(r,r[c],c,n))&&(delete r[c],i=!0)}}return b.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Bf(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return b.forEach(this,(i,o)=>{const a=b.findKey(r,o);if(a){n[a]=ec(i),delete n[o];return}const c=e?B4(o):String(o).trim();c!==o&&delete n[o],n[c]=ec(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return b.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&b.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Qw]=this[Qw]={accessors:{}}).accessors,i=this.prototype;function o(a){const c=Xo(a);r[c]||(j4(i,a),r[c]=!0)}return b.isArray(e)?e.forEach(o):o(e),this}}sd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(sd.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});b.freezeMethods(sd);const pr=sd;function jf(t,e){const n=this||j_,r=e||n,i=pr.from(r.headers);let o=r.data;return b.forEach(t,function(c){o=c.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function pP(t){return!!(t&&t.__CANCEL__)}function Ul(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}b.inherits(Ul,ge,{__CANCEL__:!0});function z4(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const $4=Bn.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,a,c){const h=[];h.push(n+"="+encodeURIComponent(r)),b.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),b.isString(o)&&h.push("path="+o),b.isString(a)&&h.push("domain="+a),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function H4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function W4(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function mP(t,e){return t&&!H4(e)?W4(t,e):e}const q4=Bn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let a=o;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const c=b.isString(a)?i(a):a;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function G4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function K4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),p=r[o];a||(a=f),n[i]=h,r[i]=f;let g=o,y=0;for(;g!==i;)y+=n[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-a<e)return;const I=p&&f-p;return I?Math.round(y*1e3/I):void 0}}function Xw(t,e){let n=0;const r=K4(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,h=r(c),f=o<=a;n=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:h||void 0,estimated:h&&a&&f?(a-o)/h:void 0,event:i};p[e?"download":"upload"]=!0,t(p)}}const Z4=typeof XMLHttpRequest<"u",Q4=Z4&&function(t){return new Promise(function(n,r){let i=t.data;const o=pr.from(t.headers).normalize(),a=t.responseType;let c;function h(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let f;b.isFormData(i)&&(Bn.isStandardBrowserEnv||Bn.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?b.isString(f=o.getContentType())&&o.setContentType(f.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let p=new XMLHttpRequest;if(t.auth){const E=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(E+":"+x))}const g=mP(t.baseURL,t.url);p.open(t.method.toUpperCase(),hP(g,t.params,t.paramsSerializer),!0),p.timeout=t.timeout;function y(){if(!p)return;const E=pr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:E,config:t,request:p};z4(function(w){n(w),h()},function(w){r(w),h()},k),p=null}if("onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(y)},p.onabort=function(){p&&(r(new ge("Request aborted",ge.ECONNABORTED,t,p)),p=null)},p.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const k=t.transitional||dP;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),r(new ge(x,k.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,p)),p=null},Bn.isStandardBrowserEnv){const E=(t.withCredentials||q4(g))&&t.xsrfCookieName&&$4.read(t.xsrfCookieName);E&&o.set(t.xsrfHeaderName,E)}i===void 0&&o.setContentType(null),"setRequestHeader"in p&&b.forEach(o.toJSON(),function(x,k){p.setRequestHeader(k,x)}),b.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),a&&a!=="json"&&(p.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&p.addEventListener("progress",Xw(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",Xw(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=E=>{p&&(r(!E||E.type?new Ul(null,t,p):E),p.abort(),p=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const I=G4(g);if(I&&Bn.protocols.indexOf(I)===-1){r(new ge("Unsupported protocol "+I+":",ge.ERR_BAD_REQUEST,t));return}p.send(i||null)})},wm={http:T4,xhr:Q4};b.forEach(wm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Yw=t=>`- ${t}`,X4=t=>b.isFunction(t)||t===null||t===!1,gP={getAdapter:t=>{t=b.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let a;if(r=n,!X4(n)&&(r=wm[(a=String(n)).toLowerCase()],r===void 0))throw new ge(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(Yw).join(`
`):" "+Yw(o[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:wm};function zf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ul(null,t)}function Jw(t){return zf(t),t.headers=pr.from(t.headers),t.data=jf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gP.getAdapter(t.adapter||j_.adapter)(t).then(function(r){return zf(t),r.data=jf.call(t,t.transformResponse,r),r.headers=pr.from(r.headers),r},function(r){return pP(r)||(zf(t),r&&r.response&&(r.response.data=jf.call(t,t.transformResponse,r.response),r.response.headers=pr.from(r.response.headers))),Promise.reject(r)})}const eE=t=>t instanceof pr?t.toJSON():t;function oo(t,e){e=e||{};const n={};function r(f,p,g){return b.isPlainObject(f)&&b.isPlainObject(p)?b.merge.call({caseless:g},f,p):b.isPlainObject(p)?b.merge({},p):b.isArray(p)?p.slice():p}function i(f,p,g){if(b.isUndefined(p)){if(!b.isUndefined(f))return r(void 0,f,g)}else return r(f,p,g)}function o(f,p){if(!b.isUndefined(p))return r(void 0,p)}function a(f,p){if(b.isUndefined(p)){if(!b.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function c(f,p,g){if(g in e)return r(f,p);if(g in t)return r(void 0,f)}const h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(f,p)=>i(eE(f),eE(p),!0)};return b.forEach(Object.keys(Object.assign({},t,e)),function(p){const g=h[p]||i,y=g(t[p],e[p],p);b.isUndefined(y)&&g!==c||(n[p]=y)}),n}const _P="1.5.1",z_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{z_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const tE={};z_.transitional=function(e,n,r){function i(o,a){return"[Axios v"+_P+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(e===!1)throw new ge(i(a," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!tE[a]&&(tE[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,c):!0}};function Y4(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const c=t[o],h=c===void 0||a(c,o,t);if(h!==!0)throw new ge("option "+o+" must be "+h,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+o,ge.ERR_BAD_OPTION)}}const Em={assertOptions:Y4,validators:z_},kr=Em.validators;class Jc{constructor(e){this.defaults=e,this.interceptors={request:new Zw,response:new Zw}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=oo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Em.assertOptions(r,{silentJSONParsing:kr.transitional(kr.boolean),forcedJSONParsing:kr.transitional(kr.boolean),clarifyTimeoutError:kr.transitional(kr.boolean)},!1),i!=null&&(b.isFunction(i)?n.paramsSerializer={serialize:i}:Em.assertOptions(i,{encode:kr.function,serialize:kr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&b.merge(o.common,o[n.method]);o&&b.forEach(["delete","get","head","post","put","patch","common"],E=>{delete o[E]}),n.headers=pr.concat(a,o);const c=[];let h=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(h=h&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const f=[];this.interceptors.response.forEach(function(x){f.push(x.fulfilled,x.rejected)});let p,g=0,y;if(!h){const E=[Jw.bind(this),void 0];for(E.unshift.apply(E,c),E.push.apply(E,f),y=E.length,p=Promise.resolve(n);g<y;)p=p.then(E[g++],E[g++]);return p}y=c.length;let I=n;for(g=0;g<y;){const E=c[g++],x=c[g++];try{I=E(I)}catch(k){x.call(this,k);break}}try{p=Jw.call(this,I)}catch(E){return Promise.reject(E)}for(g=0,y=f.length;g<y;)p=p.then(f[g++],f[g++]);return p}getUri(e){e=oo(this.defaults,e);const n=mP(e.baseURL,e.url);return hP(n,e.params,e.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(e){Jc.prototype[e]=function(n,r){return this.request(oo(r||{},{method:e,url:n,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,c){return this.request(oo(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Jc.prototype[e]=n(),Jc.prototype[e+"Form"]=n(!0)});const tc=Jc;class $_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,c){r.reason||(r.reason=new Ul(o,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new $_(function(i){e=i}),cancel:e}}}const J4=$_;function eB(t){return function(n){return t.apply(null,n)}}function tB(t){return b.isObject(t)&&t.isAxiosError===!0}const Tm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tm).forEach(([t,e])=>{Tm[e]=t});const nB=Tm;function yP(t){const e=new tc(t),n=Jx(tc.prototype.request,e);return b.extend(n,tc.prototype,e,{allOwnKeys:!0}),b.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return yP(oo(t,i))},n}const Je=yP(j_);Je.Axios=tc;Je.CanceledError=Ul;Je.CancelToken=J4;Je.isCancel=pP;Je.VERSION=_P;Je.toFormData=id;Je.AxiosError=ge;Je.Cancel=Je.CanceledError;Je.all=function(e){return Promise.all(e)};Je.spread=eB;Je.isAxiosError=tB;Je.mergeConfig=oo;Je.AxiosHeaders=pr;Je.formToJSON=t=>fP(b.isHTMLForm(t)?new FormData(t):t);Je.getAdapter=gP.getAdapter;Je.HttpStatusCode=nB;Je.default=Je;const rB=Je,iB="https://api.openweathermap.org/data/2.5/weather",sB="f33a484cf794d08d0148764789aaba32",oB=async t=>{const{data:e}=await rB.get(iB,{params:{q:t,units:"metric",APPID:sB}});return e};function aB(){const[t,e]=F.useState(""),[n,r]=F.useState([]),[i,o]=F.useState(0);F.useEffect(()=>{a()},[n]);const a=()=>{let h=0;n.forEach(f=>{const p=Math.round(f.main.temp_max),g=Math.round(f.main.temp_min),y=f.main.humidity,I=f.wind.speed,E=f.visibility,x=new Date(f.sys.sunrise*1e3),T=new Date(f.sys.sunset*1e3)-x,w=Math.floor(T/(1e3*60*60));p<35&&g>10&&h++,y>60&&h++,I<10&&h++,E>400&&h++,w>9&&h++}),o(h)},c=async()=>{try{const h=await oB(t);r([h]),e("")}catch(h){console.error("Error fetching weather data:",h)}};return v.jsx("div",{children:v.jsxs("div",{className:"main-container p-4 flex flex-col",children:[v.jsx("h1",{className:"padd text-2xl text-center p-5",children:"Crop Management Page"}),v.jsx("input",{type:"text",className:"search p-2 text-center rounded-md border border-gray-300 focus:outline-none focus:border-blue-500",placeholder:"Search Your Desired Area For cultivation....",value:t,onChange:h=>e(h.target.value),onKeyPress:h=>{h.key==="Enter"&&c()}}),n.map((h,f)=>v.jsxs("div",{className:"city mt-4 rounded-lg shadow-md p-4 bg-white",children:[v.jsx("div",{}),v.jsxs("h2",{className:"city-name text-2xl font-semibold text-gray-800",children:[v.jsx("span",{children:h.name}),v.jsx("sup",{className:"text-gray-600 ml-1",children:h.sys.country})]}),v.jsxs("div",{className:"city-temp mt-2 text-4xl font-bold text-gray-900",children:[Math.round(h.main.temp),v.jsx("sup",{className:"text-2xl",children:"C"})]}),v.jsxs("div",{className:"info mt-4 flex items-center",children:[v.jsx("img",{className:"city-icon w-12 h-12",src:`https://openweathermap.org/img/wn/${h.weather[0].icon}.png`,alt:h.weather[0].description}),v.jsx("p",{className:"ml-2 text-lg text-gray-800",children:h.weather[0].description})]}),v.jsxs("div",{className:"additional-details mt-4 text-gray-600",children:[v.jsxs("p",{children:["Min Temp: ",Math.round(h.main.temp_min),"C"]}),v.jsxs("p",{children:["Max Temp: ",Math.round(h.main.temp_max),"C"]}),v.jsxs("p",{children:["Feels Like: ",Math.round(h.main.feels_like),"C"]}),v.jsxs("p",{children:["Humidity: ",h.main.humidity,"%"]}),v.jsxs("p",{children:["Wind Speed: ",h.wind.speed," m/s"]}),v.jsxs("p",{children:["Wind Direction: ",h.wind.deg,""]}),v.jsxs("p",{children:["Cloudiness: ",h.clouds.all,"%"]}),v.jsxs("p",{children:["Visibility: ",h.visibility," meters"]}),v.jsxs("p",{children:["Sunrise: ",new Date(h.sys.sunrise*1e3).toLocaleTimeString()]}),v.jsxs("p",{children:["Sunset: ",new Date(h.sys.sunset*1e3).toLocaleTimeString()]}),v.jsxs("p",{children:["Data Calculation Time: ",new Date(h.dt*1e3).toLocaleTimeString()]}),v.jsxs("p",{children:["Pressure: ",h.main.pressure]})]}),v.jsxs("div",{children:[v.jsxs("h1",{className:"font-bold text-2xl",children:["Score: ",(i/5*100).toFixed(2),"%"]}),i===0?v.jsx("h1",{className:"font-bold text-2xl",children:"Please pick a suitable location"}):i/5>.6?v.jsx("h1",{className:"font-bold text-2xl",children:"This is a good location for a paddy field"}):v.jsx("h1",{className:"font-bold text-2xl",children:"This location is not good for rice"})]})]},f))]})})}var nE={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(HA,function(n){var r="1.9.4";function i(s){var l,u,d,m;for(u=1,d=arguments.length;u<d;u++){m=arguments[u];for(l in m)s[l]=m[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var u=Array.prototype.slice;if(s.bind)return s.bind.apply(s,u.call(arguments,1));var d=u.call(arguments,2);return function(){return s.apply(l,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function f(s,l,u){var d,m,_,S;return S=function(){d=!1,m&&(_.apply(u,m),m=!1)},_=function(){d?m=arguments:(s.apply(u,arguments),setTimeout(S,l),d=!0)},_}function p(s,l,u){var d=l[1],m=l[0],_=d-m;return s===d&&u?s:((s-m)%_+_)%_+m}function g(){return!1}function y(s,l){if(l===!1)return s;var u=Math.pow(10,l===void 0?6:l);return Math.round(s*u)/u}function I(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function E(s){return I(s).split(/\s+/)}function x(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var u in l)s.options[u]=l[u];return s.options}function k(s,l,u){var d=[];for(var m in s)d.push(encodeURIComponent(u?m.toUpperCase():m)+"="+encodeURIComponent(s[m]));return(!l||l.indexOf("?")===-1?"?":"&")+d.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function w(s,l){return s.replace(T,function(u,d){var m=l[d];if(m===void 0)throw new Error("No value provided for variable "+u);return typeof m=="function"&&(m=m(l)),m})}var P=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function C(s,l){for(var u=0;u<s.length;u++)if(s[u]===l)return u;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var $=0;function q(s){var l=+new Date,u=Math.max(0,16-(l-$));return $=l+u,window.setTimeout(s,u)}var de=window.requestAnimationFrame||j("RequestAnimationFrame")||q,ie=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function xe(s,l,u){if(u&&de===q)s.call(l);else return de.call(window,a(s,l))}function it(s){s&&ie.call(window,s)}var mi={__proto__:null,extend:i,create:o,bind:a,get lastId(){return c},stamp:h,throttle:f,wrapNum:p,falseFn:g,formatNum:y,trim:I,splitWords:E,setOptions:x,getParamString:k,template:w,isArray:P,indexOf:C,emptyImageUrl:U,requestFn:de,cancelFn:ie,requestAnimFrame:xe,cancelAnimFrame:it};function nn(){}nn.extend=function(s){var l=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=l.__super__=this.prototype,d=o(u);d.constructor=l,l.prototype=d;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(l[m]=this[m]);return s.statics&&i(l,s.statics),s.includes&&(od(s.includes),i.apply(null,[d].concat(s.includes))),i(d,s),delete d.statics,delete d.includes,d.options&&(d.options=u.options?o(u.options):{},i(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,S=d._initHooks.length;_<S;_++)d._initHooks[_].call(this)}},l},nn.include=function(s){var l=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},nn.mergeOptions=function(s){return i(this.prototype.options,s),this},nn.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),u=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function od(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=P(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ht={on:function(s,l,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],l);else{s=E(s);for(var m=0,_=s.length;m<_;m++)this._on(s[m],l,u)}return this},off:function(s,l,u){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],l);else{s=E(s);for(var m=arguments.length===1,_=0,S=s.length;_<S;_++)m?this._off(s[_]):this._off(s[_],l,u)}return this},_on:function(s,l,u,d){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,u)===!1){u===this&&(u=void 0);var m={fn:l,ctx:u};d&&(m.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(m)}},_off:function(s,l,u){var d,m,_;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(m=0,_=d.length;m<_;m++)d[m].fn=g;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var S=this._listens(s,l,u);if(S!==!1){var A=d[S];this._firingCount&&(A.fn=g,this._events[s]=d=d.slice()),d.splice(S,1)}}},fire:function(s,l,u){if(!this.listens(s,u))return this;var d=i({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var m=this._events[s];if(m){this._firingCount=this._firingCount+1||1;for(var _=0,S=m.length;_<S;_++){var A=m[_],R=A.fn;A.once&&this.off(s,R,A.ctx),R.call(A.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(s,l,u,d){typeof s!="string"&&console.warn('"string" type argument expected');var m=l;typeof l!="function"&&(d=!!l,m=void 0,u=void 0);var _=this._events&&this._events[s];if(_&&_.length&&this._listens(s,m,u)!==!1)return!0;if(d){for(var S in this._eventParents)if(this._eventParents[S].listens(s,l,u,d))return!0}return!1},_listens:function(s,l,u){if(!this._events)return!1;var d=this._events[s]||[];if(!l)return!!d.length;u===this&&(u=void 0);for(var m=0,_=d.length;m<_;m++)if(d[m].fn===l&&d[m].ctx===u)return m;return!1},once:function(s,l,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],l,!0);else{s=E(s);for(var m=0,_=s.length;m<_;m++)this._on(s[m],l,u,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};ht.addEventListener=ht.on,ht.removeEventListener=ht.clearAllEventListeners=ht.off,ht.addOneTimeEventListener=ht.once,ht.fireEvent=ht.fire,ht.hasEventListeners=ht.listens;var Jn=nn.extend(ht);function N(s,l,u){this.x=u?Math.round(s):s,this.y=u?Math.round(l):l}var ne=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(s){return this.clone()._add(B(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(B(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new N(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new N(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(s){s=B(s);var l=s.x-this.x,u=s.y-this.y;return Math.sqrt(l*l+u*u)},equals:function(s){return s=B(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=B(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function B(s,l,u){return s instanceof N?s:P(s)?new N(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new N(s.x,s.y):new N(s,l,u)}function ee(s,l){if(s)for(var u=l?[s,l]:s,d=0,m=u.length;d<m;d++)this.extend(u[d])}ee.prototype={extend:function(s){var l,u;if(!s)return this;if(s instanceof N||typeof s[0]=="number"||"x"in s)l=u=B(s);else if(s=_e(s),l=s.min,u=s.max,!l||!u)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=u.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(s){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,u;return typeof s[0]=="number"||s instanceof N?s=B(s):s=_e(s),s instanceof ee?(l=s.min,u=s.max):l=u=s,l.x>=this.min.x&&u.x<=this.max.x&&l.y>=this.min.y&&u.y<=this.max.y},intersects:function(s){s=_e(s);var l=this.min,u=this.max,d=s.min,m=s.max,_=m.x>=l.x&&d.x<=u.x,S=m.y>=l.y&&d.y<=u.y;return _&&S},overlaps:function(s){s=_e(s);var l=this.min,u=this.max,d=s.min,m=s.max,_=m.x>l.x&&d.x<u.x,S=m.y>l.y&&d.y<u.y;return _&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,u=this.max,d=Math.abs(l.x-u.x)*s,m=Math.abs(l.y-u.y)*s;return _e(B(l.x-d,l.y-m),B(u.x+d,u.y+m))},equals:function(s){return s?(s=_e(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function _e(s,l){return!s||s instanceof ee?s:new ee(s,l)}function et(s,l){if(s)for(var u=l?[s,l]:s,d=0,m=u.length;d<m;d++)this.extend(u[d])}et.prototype={extend:function(s){var l=this._southWest,u=this._northEast,d,m;if(s instanceof ve)d=s,m=s;else if(s instanceof et){if(d=s._southWest,m=s._northEast,!d||!m)return this}else return s?this.extend(se(s)||Se(s)):this;return!l&&!u?(this._southWest=new ve(d.lat,d.lng),this._northEast=new ve(m.lat,m.lng)):(l.lat=Math.min(d.lat,l.lat),l.lng=Math.min(d.lng,l.lng),u.lat=Math.max(m.lat,u.lat),u.lng=Math.max(m.lng,u.lng)),this},pad:function(s){var l=this._southWest,u=this._northEast,d=Math.abs(l.lat-u.lat)*s,m=Math.abs(l.lng-u.lng)*s;return new et(new ve(l.lat-d,l.lng-m),new ve(u.lat+d,u.lng+m))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ve||"lat"in s?s=se(s):s=Se(s);var l=this._southWest,u=this._northEast,d,m;return s instanceof et?(d=s.getSouthWest(),m=s.getNorthEast()):d=m=s,d.lat>=l.lat&&m.lat<=u.lat&&d.lng>=l.lng&&m.lng<=u.lng},intersects:function(s){s=Se(s);var l=this._southWest,u=this._northEast,d=s.getSouthWest(),m=s.getNorthEast(),_=m.lat>=l.lat&&d.lat<=u.lat,S=m.lng>=l.lng&&d.lng<=u.lng;return _&&S},overlaps:function(s){s=Se(s);var l=this._southWest,u=this._northEast,d=s.getSouthWest(),m=s.getNorthEast(),_=m.lat>l.lat&&d.lat<u.lat,S=m.lng>l.lng&&d.lng<u.lng;return _&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=Se(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Se(s,l){return s instanceof et?s:new et(s,l)}function ve(s,l,u){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,u!==void 0&&(this.alt=+u)}ve.prototype={equals:function(s,l){if(!s)return!1;s=se(s);var u=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return u<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+y(this.lat,s)+", "+y(this.lng,s)+")"},distanceTo:function(s){return Sr.distance(this,se(s))},wrap:function(){return Sr.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,u=l/Math.cos(Math.PI/180*this.lat);return Se([this.lat-l,this.lng-u],[this.lat+l,this.lng+u])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function se(s,l,u){return s instanceof ve?s:P(s)&&typeof s[0]!="object"?s.length===3?new ve(s[0],s[1],s[2]):s.length===2?new ve(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ve(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new ve(s,l,u)}var Ft={latLngToPoint:function(s,l){var u=this.projection.project(s),d=this.scale(l);return this.transformation._transform(u,d)},pointToLatLng:function(s,l){var u=this.scale(l),d=this.transformation.untransform(s,u);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,u=this.scale(s),d=this.transformation.transform(l.min,u),m=this.transformation.transform(l.max,u);return new ee(d,m)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?p(s.lng,this.wrapLng,!0):s.lng,u=this.wrapLat?p(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new ve(u,l,d)},wrapLatLngBounds:function(s){var l=s.getCenter(),u=this.wrapLatLng(l),d=l.lat-u.lat,m=l.lng-u.lng;if(d===0&&m===0)return s;var _=s.getSouthWest(),S=s.getNorthEast(),A=new ve(_.lat-d,_.lng-m),R=new ve(S.lat-d,S.lng-m);return new et(A,R)}},Sr=i({},Ft,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var u=Math.PI/180,d=s.lat*u,m=l.lat*u,_=Math.sin((l.lat-s.lat)*u/2),S=Math.sin((l.lng-s.lng)*u/2),A=_*_+Math.cos(d)*Math.cos(m)*S*S,R=2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));return this.R*R}}),W_=6378137,ad={R:W_,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,s.lat),-u),m=Math.sin(d*l);return new N(this.R*s.lng*l,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(s){var l=180/Math.PI;return new ve((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=W_*Math.PI;return new ee([-s,-s],[s,s])}()};function ld(s,l,u,d){if(P(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=u,this._d=d}ld.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new N((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function xo(s,l,u,d){return new ld(s,l,u,d)}var ud=i({},Sr,{code:"EPSG:3857",projection:ad,transformation:function(){var s=.5/(Math.PI*ad.R);return xo(s,.5,-s,.5)}()}),vP=i({},ud,{code:"EPSG:900913"});function q_(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function G_(s,l){var u="",d,m,_,S,A,R;for(d=0,_=s.length;d<_;d++){for(A=s[d],m=0,S=A.length;m<S;m++)R=A[m],u+=(m?"L":"M")+R.x+" "+R.y;u+=l?Z.svg?"z":"x":""}return u||"M0 0"}var cd=document.documentElement.style,Fl="ActiveXObject"in window,wP=Fl&&!document.addEventListener,K_="msLaunchUri"in navigator&&!("documentMode"in document),hd=kn("webkit"),Z_=kn("android"),Q_=kn("android 2")||kn("android 3"),EP=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),TP=Z_&&kn("Google")&&EP<537&&!("AudioNode"in window),dd=!!window.opera,X_=!K_&&kn("chrome"),Y_=kn("gecko")&&!hd&&!dd&&!Fl,IP=!X_&&kn("safari"),J_=kn("phantom"),ey="OTransition"in cd,SP=navigator.platform.indexOf("Win")===0,ty=Fl&&"transition"in cd,fd="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Q_,ny="MozPerspective"in cd,xP=!window.L_DISABLE_3D&&(ty||fd||ny)&&!ey&&!J_,Po=typeof orientation<"u"||kn("mobile"),PP=Po&&hd,AP=Po&&fd,ry=!window.PointerEvent&&window.MSPointerEvent,iy=!!(window.PointerEvent||ry),sy="ontouchstart"in window||!!window.TouchEvent,RP=!window.L_NO_TOUCH&&(sy||iy),kP=Po&&dd,CP=Po&&Y_,bP=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,NP=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",g,l),window.removeEventListener("testPassiveEventSupport",g,l)}catch{}return s}(),LP=function(){return!!document.createElement("canvas").getContext}(),pd=!!(document.createElementNS&&q_("svg").createSVGRect),OP=!!pd&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),DP=!pd&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),MP=navigator.platform.indexOf("Mac")===0,VP=navigator.platform.indexOf("Linux")===0;function kn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Z={ie:Fl,ielt9:wP,edge:K_,webkit:hd,android:Z_,android23:Q_,androidStock:TP,opera:dd,chrome:X_,gecko:Y_,safari:IP,phantom:J_,opera12:ey,win:SP,ie3d:ty,webkit3d:fd,gecko3d:ny,any3d:xP,mobile:Po,mobileWebkit:PP,mobileWebkit3d:AP,msPointer:ry,pointer:iy,touch:RP,touchNative:sy,mobileOpera:kP,mobileGecko:CP,retina:bP,passiveEvents:NP,canvas:LP,svg:pd,vml:DP,inlineSvg:OP,mac:MP,linux:VP},oy=Z.msPointer?"MSPointerDown":"pointerdown",ay=Z.msPointer?"MSPointerMove":"pointermove",ly=Z.msPointer?"MSPointerUp":"pointerup",uy=Z.msPointer?"MSPointerCancel":"pointercancel",md={touchstart:oy,touchmove:ay,touchend:ly,touchcancel:uy},cy={touchstart:$P,touchmove:Bl,touchend:Bl,touchcancel:Bl},ns={},hy=!1;function UP(s,l,u){return l==="touchstart"&&zP(),cy[l]?(u=cy[l].bind(this,u),s.addEventListener(md[l],u,!1),u):(console.warn("wrong event specified:",l),g)}function FP(s,l,u){if(!md[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(md[l],u,!1)}function BP(s){ns[s.pointerId]=s}function jP(s){ns[s.pointerId]&&(ns[s.pointerId]=s)}function dy(s){delete ns[s.pointerId]}function zP(){hy||(document.addEventListener(oy,BP,!0),document.addEventListener(ay,jP,!0),document.addEventListener(ly,dy,!0),document.addEventListener(uy,dy,!0),hy=!0)}function Bl(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var u in ns)l.touches.push(ns[u]);l.changedTouches=[l],s(l)}}function $P(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&dt(l),Bl(s,l)}function HP(s){var l={},u,d;for(d in s)u=s[d],l[d]=u&&u.bind?u.bind(s):u;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var WP=200;function qP(s,l){s.addEventListener("dblclick",l);var u=0,d;function m(_){if(_.detail!==1){d=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var S=_y(_);if(!(S.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!S.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var A=Date.now();A-u<=WP?(d++,d===2&&l(HP(_))):d=1,u=A}}}return s.addEventListener("click",m),{dblclick:l,simDblclick:m}}function GP(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var gd=$l(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ao=$l(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fy=Ao==="webkitTransition"||Ao==="OTransition"?Ao+"End":"transitionend";function py(s){return typeof s=="string"?document.getElementById(s):s}function Ro(s,l){var u=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);u=d?d[l]:null}return u==="auto"?null:u}function we(s,l,u){var d=document.createElement(s);return d.className=l||"",u&&u.appendChild(d),d}function De(s){var l=s.parentNode;l&&l.removeChild(s)}function jl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function rs(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function is(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function _d(s,l){if(s.classList!==void 0)return s.classList.contains(l);var u=zl(s);return u.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(u)}function le(s,l){if(s.classList!==void 0)for(var u=E(l),d=0,m=u.length;d<m;d++)s.classList.add(u[d]);else if(!_d(s,l)){var _=zl(s);yd(s,(_?_+" ":"")+l)}}function $e(s,l){s.classList!==void 0?s.classList.remove(l):yd(s,I((" "+zl(s)+" ").replace(" "+l+" "," ")))}function yd(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function zl(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function rn(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&KP(s,l)}function KP(s,l){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=s.filters.item(d)}catch{if(l===1)return}l=Math.round(l*100),u?(u.Enabled=l!==100,u.Opacity=l):s.style.filter+=" progid:"+d+"(opacity="+l+")"}function $l(s){for(var l=document.documentElement.style,u=0;u<s.length;u++)if(s[u]in l)return s[u];return!1}function gi(s,l,u){var d=l||new N(0,0);s.style[gd]=(Z.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function qe(s,l){s._leaflet_pos=l,Z.any3d?gi(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function _i(s){return s._leaflet_pos||new N(0,0)}var ko,Co,vd;if("onselectstart"in document)ko=function(){oe(window,"selectstart",dt)},Co=function(){Pe(window,"selectstart",dt)};else{var bo=$l(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ko=function(){if(bo){var s=document.documentElement.style;vd=s[bo],s[bo]="none"}},Co=function(){bo&&(document.documentElement.style[bo]=vd,vd=void 0)}}function wd(){oe(window,"dragstart",dt)}function Ed(){Pe(window,"dragstart",dt)}var Hl,Td;function Id(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Wl(),Hl=s,Td=s.style.outlineStyle,s.style.outlineStyle="none",oe(window,"keydown",Wl))}function Wl(){Hl&&(Hl.style.outlineStyle=Td,Hl=void 0,Td=void 0,Pe(window,"keydown",Wl))}function my(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Sd(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var ZP={__proto__:null,TRANSFORM:gd,TRANSITION:Ao,TRANSITION_END:fy,get:py,getStyle:Ro,create:we,remove:De,empty:jl,toFront:rs,toBack:is,hasClass:_d,addClass:le,removeClass:$e,setClass:yd,getClass:zl,setOpacity:rn,testProp:$l,setTransform:gi,setPosition:qe,getPosition:_i,get disableTextSelection(){return ko},get enableTextSelection(){return Co},disableImageDrag:wd,enableImageDrag:Ed,preventOutline:Id,restoreOutline:Wl,getSizedParentNode:my,getScale:Sd};function oe(s,l,u,d){if(l&&typeof l=="object")for(var m in l)Pd(s,m,l[m],u);else{l=E(l);for(var _=0,S=l.length;_<S;_++)Pd(s,l[_],u,d)}return this}var Cn="_leaflet_events";function Pe(s,l,u,d){if(arguments.length===1)gy(s),delete s[Cn];else if(l&&typeof l=="object")for(var m in l)Ad(s,m,l[m],u);else if(l=E(l),arguments.length===2)gy(s,function(A){return C(l,A)!==-1});else for(var _=0,S=l.length;_<S;_++)Ad(s,l[_],u,d);return this}function gy(s,l){for(var u in s[Cn]){var d=u.split(/\d/)[0];(!l||l(d))&&Ad(s,d,null,null,u)}}var xd={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pd(s,l,u,d){var m=l+h(u)+(d?"_"+h(d):"");if(s[Cn]&&s[Cn][m])return this;var _=function(A){return u.call(d||s,A||window.event)},S=_;!Z.touchNative&&Z.pointer&&l.indexOf("touch")===0?_=UP(s,l,_):Z.touch&&l==="dblclick"?_=qP(s,_):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(xd[l]||l,_,Z.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(_=function(A){A=A||window.event,kd(s,A)&&S(A)},s.addEventListener(xd[l],_,!1)):s.addEventListener(l,S,!1):s.attachEvent("on"+l,_),s[Cn]=s[Cn]||{},s[Cn][m]=_}function Ad(s,l,u,d,m){m=m||l+h(u)+(d?"_"+h(d):"");var _=s[Cn]&&s[Cn][m];if(!_)return this;!Z.touchNative&&Z.pointer&&l.indexOf("touch")===0?FP(s,l,_):Z.touch&&l==="dblclick"?GP(s,_):"removeEventListener"in s?s.removeEventListener(xd[l]||l,_,!1):s.detachEvent("on"+l,_),s[Cn][m]=null}function yi(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Rd(s){return Pd(s,"wheel",yi),this}function No(s){return oe(s,"mousedown touchstart dblclick contextmenu",yi),s._leaflet_disable_click=!0,this}function dt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function vi(s){return dt(s),yi(s),this}function _y(s){if(s.composedPath)return s.composedPath();for(var l=[],u=s.target;u;)l.push(u),u=u.parentNode;return l}function yy(s,l){if(!l)return new N(s.clientX,s.clientY);var u=Sd(l),d=u.boundingClientRect;return new N((s.clientX-d.left)/u.x-l.clientLeft,(s.clientY-d.top)/u.y-l.clientTop)}var QP=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vy(s){return Z.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/QP:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function kd(s,l){var u=l.relatedTarget;if(!u)return!0;try{for(;u&&u!==s;)u=u.parentNode}catch{return!1}return u!==s}var XP={__proto__:null,on:oe,off:Pe,stopPropagation:yi,disableScrollPropagation:Rd,disableClickPropagation:No,preventDefault:dt,stop:vi,getPropagationPath:_y,getMousePosition:yy,getWheelDelta:vy,isExternalTarget:kd,addListener:oe,removeListener:Pe},wy=Jn.extend({run:function(s,l,u,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=_i(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=xe(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,u=this._duration*1e3;l<u?this._runFrame(this._easeOut(l/u),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var u=this._startPos.add(this._offset.multiplyBy(s));l&&u._round(),qe(this._el,u),this.fire("step")},_complete:function(){it(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),pe=Jn.extend({options:{crs:ud,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=x(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(se(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ao&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),oe(this._proxy,fy,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,u){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(se(s),l,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=i({animate:u.animate},u.zoom),u.pan=i({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,u.zoom):this._tryAnimatedPan(s,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,u.pan&&u.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,u){var d=this.getZoomScale(l),m=this.getSize().divideBy(2),_=s instanceof N?s:this.latLngToContainerPoint(s),S=_.subtract(m).multiplyBy(1-1/d),A=this.containerPointToLatLng(m.add(S));return this.setView(A,l,{zoom:u})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Se(s);var u=B(l.paddingTopLeft||l.padding||[0,0]),d=B(l.paddingBottomRight||l.padding||[0,0]),m=this.getBoundsZoom(s,!1,u.add(d));if(m=typeof l.maxZoom=="number"?Math.min(l.maxZoom,m):m,m===1/0)return{center:s.getCenter(),zoom:m};var _=d.subtract(u).divideBy(2),S=this.project(s.getSouthWest(),m),A=this.project(s.getNorthEast(),m),R=this.unproject(S.add(A).divideBy(2).add(_),m);return{center:R,zoom:m}},fitBounds:function(s,l){if(s=Se(s),!s.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(s,l);return this.setView(u.center,u.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=B(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wy,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){le(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,u,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,u){if(u=u||{},u.animate===!1||!Z.any3d)return this.setView(s,l,u);this._stop();var d=this.project(this.getCenter()),m=this.project(s),_=this.getSize(),S=this._zoom;s=se(s),l=l===void 0?S:l;var A=Math.max(_.x,_.y),R=A*this.getZoomScale(S,l),D=m.distanceTo(d)||1,H=1.42,X=H*H;function ue(Ge){var ru=Ge?-1:1,FA=Ge?R:A,BA=R*R-A*A+ru*X*X*D*D,jA=2*FA*X*D,Bd=BA/jA,ev=Math.sqrt(Bd*Bd+1)-Bd,zA=ev<1e-9?-18:Math.log(ev);return zA}function Nt(Ge){return(Math.exp(Ge)-Math.exp(-Ge))/2}function st(Ge){return(Math.exp(Ge)+Math.exp(-Ge))/2}function on(Ge){return Nt(Ge)/st(Ge)}var Bt=ue(0);function cs(Ge){return A*(st(Bt)/st(Bt+H*Ge))}function DA(Ge){return A*(st(Bt)*on(Bt+H*Ge)-Nt(Bt))/X}function MA(Ge){return 1-Math.pow(1-Ge,1.5)}var VA=Date.now(),Yy=(ue(1)-Bt)/H,UA=u.duration?1e3*u.duration:1e3*Yy*.8;function Jy(){var Ge=(Date.now()-VA)/UA,ru=MA(Ge)*Yy;Ge<=1?(this._flyToFrame=xe(Jy,this),this._move(this.unproject(d.add(m.subtract(d).multiplyBy(DA(ru)/D)),S),this.getScaleZoom(A/cs(ru),S),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Jy.call(this),this},flyToBounds:function(s,l){var u=this._getBoundsCenterZoom(s,l);return this.flyTo(u.center,u.zoom,l)},setMaxBounds:function(s){return s=Se(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,Se(s));return u.equals(d)||this.panTo(d,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var u=B(l.paddingTopLeft||l.padding||[0,0]),d=B(l.paddingBottomRight||l.padding||[0,0]),m=this.project(this.getCenter()),_=this.project(s),S=this.getPixelBounds(),A=_e([S.min.add(u),S.max.subtract(d)]),R=A.getSize();if(!A.contains(_)){this._enforcingBounds=!0;var D=_.subtract(A.getCenter()),H=A.extend(_).getSize().subtract(R);m.x+=D.x<0?-H.x:H.x,m.y+=D.y<0?-H.y:H.y,this.panTo(this.unproject(m),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=l.divideBy(2).round(),m=u.divideBy(2).round(),_=d.subtract(m);return!_.x&&!_.y?this:(s.animate&&s.pan?this.panBy(_):(s.pan&&this._rawPanBy(_),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),u=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,u,s):navigator.geolocation.getCurrentPosition(l,u,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,u=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,u=s.coords.longitude,d=new ve(l,u),m=d.toBounds(s.coords.accuracy*2),_=this._locateOptions;if(_.setView){var S=this.getBoundsZoom(m);this.setView(d,_.maxZoom?Math.min(S,_.maxZoom):S)}var A={latlng:d,bounds:m,timestamp:s.timestamp};for(var R in s.coords)typeof s.coords[R]=="number"&&(A[R]=s.coords[R]);this.fire("locationfound",A)}},addHandler:function(s,l){if(!l)return this;var u=this[s]=new l(this);return this._handlers.push(u),this.options[s]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),De(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(it(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)De(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var u="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=we("div",u,l||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),u=this.unproject(s.getTopRight());return new et(l,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,u){s=Se(s),u=B(u||[0,0]);var d=this.getZoom()||0,m=this.getMinZoom(),_=this.getMaxZoom(),S=s.getNorthWest(),A=s.getSouthEast(),R=this.getSize().subtract(u),D=_e(this.project(A,d),this.project(S,d)).getSize(),H=Z.any3d?this.options.zoomSnap:1,X=R.x/D.x,ue=R.y/D.y,Nt=l?Math.max(X,ue):Math.min(X,ue);return d=this.getScaleZoom(Nt,d),H&&(d=Math.round(d/(H/100))*(H/100),d=l?Math.ceil(d/H)*H:Math.floor(d/H)*H),Math.max(m,Math.min(_,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var u=this._getTopLeftPoint(s,l);return new ee(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var u=this.options.crs;return l=l===void 0?this._zoom:l,u.scale(s)/u.scale(l)},getScaleZoom:function(s,l){var u=this.options.crs;l=l===void 0?this._zoom:l;var d=u.zoom(s*u.scale(l));return isNaN(d)?1/0:d},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(se(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(B(s),l)},layerPointToLatLng:function(s){var l=B(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(se(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(se(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Se(s))},distance:function(s,l){return this.options.crs.distance(se(s),se(l))},containerPointToLayerPoint:function(s){return B(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return B(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(B(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(s)))},mouseEventToContainerPoint:function(s){return yy(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=py(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");oe(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,le(s,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ro(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qe(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(le(s.markerPane,"leaflet-zoom-hide"),le(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,u){qe(this._mapPane,new N(0,0));var d=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var m=this._zoom!==l;this._moveStart(m,u)._move(s,l)._moveEnd(m),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,u,d){l===void 0&&(l=this._zoom);var m=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?u&&u.pinch&&this.fire("zoom",u):((m||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return it(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){qe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var l=s?Pe:oe;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){it(this._resizeRequest),this._resizeRequest=xe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var u=[],d,m=l==="mouseout"||l==="mouseover",_=s.target||s.srcElement,S=!1;_;){if(d=this._targets[h(_)],d&&(l==="click"||l==="preclick")&&this._draggableMoved(d)){S=!0;break}if(d&&d.listens(l,!0)&&(m&&!kd(_,s)||(u.push(d),m))||_===this._container)break;_=_.parentNode}return!u.length&&!S&&!m&&this.listens(l,!0)&&(u=[this]),u},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var u=s.type;u==="mousedown"&&Id(l),this._fireDOMEvent(s,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,u){if(s.type==="click"){var d=i({},s);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var m=this._findEventTargets(s,l);if(u){for(var _=[],S=0;S<u.length;S++)u[S].listens(l,!0)&&_.push(u[S]);m=_.concat(m)}if(m.length){l==="contextmenu"&&dt(s);var A=m[0],R={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var D=A.getLatLng&&(!A._radius||A._radius<=10);R.containerPoint=D?this.latLngToContainerPoint(A.getLatLng()):this.mouseEventToContainerPoint(s),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=D?A.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(S=0;S<m.length;S++)if(m[S].fire(l,R,!0),R.originalEvent._stopped||m[S].options.bubblingMouseEvents===!1&&C(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return _i(this._mapPane)||new N(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var u=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var u=this.getSize()._divideBy(2);return this.project(s,l)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,u){var d=this._getNewPixelOrigin(u,l);return this.project(s,l)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,l,u){var d=this._getNewPixelOrigin(u,l);return _e([this.project(s.getSouthWest(),l)._subtract(d),this.project(s.getNorthWest(),l)._subtract(d),this.project(s.getSouthEast(),l)._subtract(d),this.project(s.getNorthEast(),l)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,u){if(!u)return s;var d=this.project(s,l),m=this.getSize().divideBy(2),_=new ee(d.subtract(m),d.add(m)),S=this._getBoundsOffset(_,u,l);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?s:this.unproject(d.add(S),l)},_limitOffset:function(s,l){if(!l)return s;var u=this.getPixelBounds(),d=new ee(u.min.add(s),u.max.add(s));return s.add(this._getBoundsOffset(d,l))},_getBoundsOffset:function(s,l,u){var d=_e(this.project(l.getNorthEast(),u),this.project(l.getSouthWest(),u)),m=d.min.subtract(s.min),_=d.max.subtract(s.max),S=this._rebound(m.x,-_.x),A=this._rebound(m.y,-_.y);return new N(S,A)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),u=this.getMaxZoom(),d=Z.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(l,Math.min(u,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var u=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,l),!0)},_createAnimProxy:function(){var s=this._proxy=we("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var u=gd,d=this._proxy.style[u];gi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){De(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();gi(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(l),m=this._getCenterOffset(s)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(m)?!1:(xe(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function YP(s,l){return new pe(s,l)}var gn=nn.extend({options:{position:"topright"},initialize:function(s){x(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),u=this.getPosition(),d=s._controlCorners[u];return le(l,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(l,d.firstChild):d.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(De(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Lo=function(s){return new gn(s)};pe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",u=this._controlContainer=we("div",l+"control-container",this._container);function d(m,_){var S=l+m+" "+l+_;s[m+_]=we("div",S,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)De(this._controlCorners[s]);De(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ey=gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,u,d){return u<d?-1:d<u?1:0}},initialize:function(s,l,u){x(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in l)this._addLayer(l[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return gn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=we("div",s),u=this.options.collapsed;l.setAttribute("aria-haspopup",!0),No(l),Rd(l);var d=this._section=we("section",s+"-list");u&&(this._map.on("click",this.collapse,this),oe(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=we("a",s+"-toggle",l);m.href="#",m.title="Layers",m.setAttribute("role","button"),oe(m,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){dt(_),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=we("div",s+"-base",d),this._separator=we("div",s+"-separator",d),this._overlaysList=we("div",s+"-overlays",d),l.appendChild(d)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,u){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:u}),this.options.sortLayers&&this._layers.sort(a(function(d,m){return this.options.sortFunction(d.layer,m.layer,d.name,m.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;jl(this._baseLayersList),jl(this._overlaysList),this._layerControlInputs=[];var s,l,u,d,m=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),l=l||d.overlay,s=s||!d.overlay,m+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&m>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(h(s.target)),u=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;u&&this._map.fire(u,l)},_createRadioElement:function(s,l){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(s){var l=document.createElement("label"),u=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(s.layer),oe(d,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+s.name;var _=document.createElement("span");l.appendChild(_),_.appendChild(d),_.appendChild(m);var S=s.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,u,d=[],m=[];this._handlingClick=!0;for(var _=s.length-1;_>=0;_--)l=s[_],u=this._getLayer(l.layerId).layer,l.checked?d.push(u):l.checked||m.push(u);for(_=0;_<m.length;_++)this._map.hasLayer(m[_])&&this._map.removeLayer(m[_]);for(_=0;_<d.length;_++)this._map.hasLayer(d[_])||this._map.addLayer(d[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,u,d=this._map.getZoom(),m=s.length-1;m>=0;m--)l=s[m],u=this._getLayer(l.layerId).layer,l.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,oe(s,"click",dt),this.expand();var l=this;setTimeout(function(){Pe(s,"click",dt),l._preventClick=!1})}}),JP=function(s,l,u){return new Ey(s,l,u)},Cd=gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",u=we("div",l+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,l+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,l+"-out",u,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,u,d,m){var _=we("a",u,d);return _.innerHTML=s,_.href="#",_.title=l,_.setAttribute("role","button"),_.setAttribute("aria-label",l),No(_),oe(_,"click",vi),oe(_,"click",m,this),oe(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";$e(this._zoomInButton,l),$e(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(le(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(le(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});pe.mergeOptions({zoomControl:!0}),pe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cd,this.addControl(this.zoomControl))});var eA=function(s){return new Cd(s)},Ty=gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",u=we("div",l),d=this.options;return this._addScales(d,l+"-line",u),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),u},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,u){s.metric&&(this._mScale=we("div",l,u)),s.imperial&&(this._iScale=we("div",l,u))},_update:function(){var s=this._map,l=s.getSize().y/2,u=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(u)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),u=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,u,l/s)},_updateImperial:function(s){var l=s*3.2808399,u,d,m;l>5280?(u=l/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(m=this._getRoundNum(l),this._updateScale(this._iScale,m+" ft",m/l))},_updateScale:function(s,l,u){s.style.width=Math.round(this.options.maxWidth*u)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),u=s/l;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,l*u}}),tA=function(s){return new Ty(s)},nA='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bd=gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?nA+" ":"")+"Leaflet</a>"},initialize:function(s){x(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=we("div","leaflet-control-attribution"),No(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var u=[];this.options.prefix&&u.push(this.options.prefix),s.length&&u.push(s.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});pe.mergeOptions({attributionControl:!0}),pe.addInitHook(function(){this.options.attributionControl&&new bd().addTo(this)});var rA=function(s){return new bd(s)};gn.Layers=Ey,gn.Zoom=Cd,gn.Scale=Ty,gn.Attribution=bd,Lo.layers=JP,Lo.zoom=eA,Lo.scale=tA,Lo.attribution=rA;var bn=nn.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bn.addTo=function(s,l){return s.addHandler(l,this),this};var iA={Events:ht},Iy=Z.touch?"touchstart mousedown":"mousedown",xr=Jn.extend({options:{clickTolerance:3},initialize:function(s,l,u,d){x(this,d),this._element=s,this._dragStartTarget=l||s,this._preventOutline=u},enable:function(){this._enabled||(oe(this._dragStartTarget,Iy,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xr._dragging===this&&this.finishDrag(!0),Pe(this._dragStartTarget,Iy,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!_d(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){xr._dragging===this&&this.finishDrag();return}if(!(xr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(xr._dragging=this,this._preventOutline&&Id(this._element),wd(),ko(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,u=my(this._element);this._startPoint=new N(l.clientX,l.clientY),this._startPos=_i(this._element),this._parentScale=Sd(u);var d=s.type==="mousedown";oe(document,d?"mousemove":"touchmove",this._onMove,this),oe(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,u=new N(l.clientX,l.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,dt(s),this._moved||(this.fire("dragstart"),this._moved=!0,le(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),qe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pe(document,"mousemove touchmove",this._onMove,this),Pe(document,"mouseup touchend touchcancel",this._onUp,this),Ed(),Co();var l=this._moved&&this._moving;this._moving=!1,xr._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Sy(s,l,u){var d,m=[1,4,2,8],_,S,A,R,D,H,X,ue;for(_=0,H=s.length;_<H;_++)s[_]._code=wi(s[_],l);for(A=0;A<4;A++){for(X=m[A],d=[],_=0,H=s.length,S=H-1;_<H;S=_++)R=s[_],D=s[S],R._code&X?D._code&X||(ue=ql(D,R,X,l,u),ue._code=wi(ue,l),d.push(ue)):(D._code&X&&(ue=ql(D,R,X,l,u),ue._code=wi(ue,l),d.push(ue)),d.push(R));s=d}return s}function xy(s,l){var u,d,m,_,S,A,R,D,H;if(!s||s.length===0)throw new Error("latlngs not passed");sn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var X=se([0,0]),ue=Se(s),Nt=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());Nt<1700&&(X=Nd(s));var st=s.length,on=[];for(u=0;u<st;u++){var Bt=se(s[u]);on.push(l.project(se([Bt.lat-X.lat,Bt.lng-X.lng])))}for(A=R=D=0,u=0,d=st-1;u<st;d=u++)m=on[u],_=on[d],S=m.y*_.x-_.y*m.x,R+=(m.x+_.x)*S,D+=(m.y+_.y)*S,A+=S*3;A===0?H=on[0]:H=[R/A,D/A];var cs=l.unproject(B(H));return se([cs.lat+X.lat,cs.lng+X.lng])}function Nd(s){for(var l=0,u=0,d=0,m=0;m<s.length;m++){var _=se(s[m]);l+=_.lat,u+=_.lng,d++}return se([l/d,u/d])}var sA={__proto__:null,clipPolygon:Sy,polygonCenter:xy,centroid:Nd};function Py(s,l){if(!l||!s.length)return s.slice();var u=l*l;return s=lA(s,u),s=aA(s,u),s}function Ay(s,l,u){return Math.sqrt(Oo(s,l,u,!0))}function oA(s,l,u){return Oo(s,l,u)}function aA(s,l){var u=s.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,m=new d(u);m[0]=m[u-1]=1,Ld(s,m,l,0,u-1);var _,S=[];for(_=0;_<u;_++)m[_]&&S.push(s[_]);return S}function Ld(s,l,u,d,m){var _=0,S,A,R;for(A=d+1;A<=m-1;A++)R=Oo(s[A],s[d],s[m],!0),R>_&&(S=A,_=R);_>u&&(l[S]=1,Ld(s,l,u,d,S),Ld(s,l,u,S,m))}function lA(s,l){for(var u=[s[0]],d=1,m=0,_=s.length;d<_;d++)uA(s[d],s[m])>l&&(u.push(s[d]),m=d);return m<_-1&&u.push(s[_-1]),u}var Ry;function ky(s,l,u,d,m){var _=d?Ry:wi(s,u),S=wi(l,u),A,R,D;for(Ry=S;;){if(!(_|S))return[s,l];if(_&S)return!1;A=_||S,R=ql(s,l,A,u,m),D=wi(R,u),A===_?(s=R,_=D):(l=R,S=D)}}function ql(s,l,u,d,m){var _=l.x-s.x,S=l.y-s.y,A=d.min,R=d.max,D,H;return u&8?(D=s.x+_*(R.y-s.y)/S,H=R.y):u&4?(D=s.x+_*(A.y-s.y)/S,H=A.y):u&2?(D=R.x,H=s.y+S*(R.x-s.x)/_):u&1&&(D=A.x,H=s.y+S*(A.x-s.x)/_),new N(D,H,m)}function wi(s,l){var u=0;return s.x<l.min.x?u|=1:s.x>l.max.x&&(u|=2),s.y<l.min.y?u|=4:s.y>l.max.y&&(u|=8),u}function uA(s,l){var u=l.x-s.x,d=l.y-s.y;return u*u+d*d}function Oo(s,l,u,d){var m=l.x,_=l.y,S=u.x-m,A=u.y-_,R=S*S+A*A,D;return R>0&&(D=((s.x-m)*S+(s.y-_)*A)/R,D>1?(m=u.x,_=u.y):D>0&&(m+=S*D,_+=A*D)),S=s.x-m,A=s.y-_,d?S*S+A*A:new N(m,_)}function sn(s){return!P(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Cy(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sn(s)}function by(s,l){var u,d,m,_,S,A,R,D;if(!s||s.length===0)throw new Error("latlngs not passed");sn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var H=se([0,0]),X=Se(s),ue=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());ue<1700&&(H=Nd(s));var Nt=s.length,st=[];for(u=0;u<Nt;u++){var on=se(s[u]);st.push(l.project(se([on.lat-H.lat,on.lng-H.lng])))}for(u=0,d=0;u<Nt-1;u++)d+=st[u].distanceTo(st[u+1])/2;if(d===0)D=st[0];else for(u=0,_=0;u<Nt-1;u++)if(S=st[u],A=st[u+1],m=S.distanceTo(A),_+=m,_>d){R=(_-d)/m,D=[A.x-R*(A.x-S.x),A.y-R*(A.y-S.y)];break}var Bt=l.unproject(B(D));return se([Bt.lat+H.lat,Bt.lng+H.lng])}var cA={__proto__:null,simplify:Py,pointToSegmentDistance:Ay,closestPointOnSegment:oA,clipSegment:ky,_getEdgeIntersection:ql,_getBitCode:wi,_sqClosestPointOnSegment:Oo,isFlat:sn,_flat:Cy,polylineCenter:by},Od={project:function(s){return new N(s.lng,s.lat)},unproject:function(s){return new ve(s.y,s.x)},bounds:new ee([-180,-90],[180,90])},Dd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,u=this.R,d=s.lat*l,m=this.R_MINOR/u,_=Math.sqrt(1-m*m),S=_*Math.sin(d),A=Math.tan(Math.PI/4-d/2)/Math.pow((1-S)/(1+S),_/2);return d=-u*Math.log(Math.max(A,1e-10)),new N(s.lng*l*u,d)},unproject:function(s){for(var l=180/Math.PI,u=this.R,d=this.R_MINOR/u,m=Math.sqrt(1-d*d),_=Math.exp(-s.y/u),S=Math.PI/2-2*Math.atan(_),A=0,R=.1,D;A<15&&Math.abs(R)>1e-7;A++)D=m*Math.sin(S),D=Math.pow((1-D)/(1+D),m/2),R=Math.PI/2-2*Math.atan(_*D)-S,S+=R;return new ve(S*l,s.x*l/u)}},hA={__proto__:null,LonLat:Od,Mercator:Dd,SphericalMercator:ad},dA=i({},Sr,{code:"EPSG:3395",projection:Dd,transformation:function(){var s=.5/(Math.PI*Dd.R);return xo(s,.5,-s,.5)}()}),Ny=i({},Sr,{code:"EPSG:4326",projection:Od,transformation:xo(1/180,1,-1/180,.5)}),fA=i({},Ft,{projection:Od,transformation:xo(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var u=l.lng-s.lng,d=l.lat-s.lat;return Math.sqrt(u*u+d*d)},infinite:!0});Ft.Earth=Sr,Ft.EPSG3395=dA,Ft.EPSG3857=ud,Ft.EPSG900913=vP,Ft.EPSG4326=Ny,Ft.Simple=fA;var _n=Jn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var u=this.getEvents();l.on(u,this),this.once("remove",function(){l.off(u,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});pe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=h(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,l){for(var u in this._layers)s.call(l,this._layers[u]);return this},_addLayers:function(s){s=s?P(s)?s:[s]:[];for(var l=0,u=s.length;l<u;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=h(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var m=this._zoomBoundLayers[d].options;s=m.minZoom===void 0?s:Math.min(s,m.minZoom),l=m.maxZoom===void 0?l:Math.max(l,m.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ss=_n.extend({initialize:function(s,l){x(this,l),this._layers={};var u,d;if(s)for(u=0,d=s.length;u<d;u++)this.addLayer(s[u])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[s]&&d[s].apply(d,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var u in this._layers)s.call(l,this._layers[u]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),pA=function(s,l){return new ss(s,l)},er=ss.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ss.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ss.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new et;for(var l in this._layers){var u=this._layers[l];s.extend(u.getBounds?u.getBounds():u.getLatLng())}return s}}),mA=function(s,l){return new er(s,l)},os=nn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){x(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var u=this._getIconUrl(s);if(!u){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,l){var u=this.options,d=u[l+"Size"];typeof d=="number"&&(d=[d,d]);var m=B(d),_=B(l==="shadow"&&u.shadowAnchor||u.iconAnchor||m&&m.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(u.className||""),_&&(s.style.marginLeft=-_.x+"px",s.style.marginTop=-_.y+"px"),m&&(s.style.width=m.x+"px",s.style.height=m.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Z.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function gA(s){return new os(s)}var Do=os.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Do.imagePath!="string"&&(Do.imagePath=this._detectIconPath()),(this.options.imagePath||Do.imagePath)+os.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(u,d,m){var _=d.exec(u);return _&&_[m]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=we("div","leaflet-default-icon-path",document.body),l=Ro(s,"background-image")||Ro(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Ly=bn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new xr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),le(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,u=l._map,d=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,_=_i(l._icon),S=u.getPixelBounds(),A=u.getPixelOrigin(),R=_e(S.min._subtract(A).add(m),S.max._subtract(A).subtract(m));if(!R.contains(_)){var D=B((Math.max(R.max.x,_.x)-R.max.x)/(S.max.x-R.max.x)-(Math.min(R.min.x,_.x)-R.min.x)/(S.min.x-R.min.x),(Math.max(R.max.y,_.y)-R.max.y)/(S.max.y-R.max.y)-(Math.min(R.min.y,_.y)-R.min.y)/(S.min.y-R.min.y)).multiplyBy(d);u.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),qe(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=xe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(it(this._panRequest),this._panRequest=xe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,u=l._shadow,d=_i(l._icon),m=l._map.layerPointToLatLng(d);u&&qe(u,d),l._latlng=m,s.latlng=m,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){it(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Gl=_n.extend({options:{icon:new Do,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){x(this,l),this._latlng=se(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=se(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=s.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(u.title=s.title),u.tagName==="IMG"&&(u.alt=s.alt||"")),le(u,l),s.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&oe(u,"focus",this._panOnFocus,this);var m=s.icon.createShadow(this._shadow),_=!1;m!==this._shadow&&(this._removeShadow(),_=!0),m&&(le(m,l),m.alt=""),this._shadow=m,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&_&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(this._icon,"focus",this._panOnFocus,this),De(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&De(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&qe(this._icon,s),this._shadow&&qe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ly)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ly(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&rn(this._icon,s),this._shadow&&rn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,u=l.iconSize?B(l.iconSize):B(0,0),d=l.iconAnchor?B(l.iconAnchor):B(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _A(s,l){return new Gl(s,l)}var Pr=_n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return x(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Kl=Pr.extend({options:{fill:!0,radius:10},initialize:function(s,l){x(this,l),this._latlng=se(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=se(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Pr.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,u=this._clickTolerance(),d=[s+u,l+u];this._pxBounds=new ee(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yA(s,l){return new Kl(s,l)}var Md=Kl.extend({initialize:function(s,l,u){if(typeof l=="number"&&(l=i({},u,{radius:l})),x(this,l),this._latlng=se(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new et(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Pr.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===Sr.distance){var m=Math.PI/180,_=this._mRadius/Sr.R/m,S=u.project([l+_,s]),A=u.project([l-_,s]),R=S.add(A).divideBy(2),D=u.unproject(R).lat,H=Math.acos((Math.cos(_*m)-Math.sin(l*m)*Math.sin(D*m))/(Math.cos(l*m)*Math.cos(D*m)))/m;(isNaN(H)||H===0)&&(H=_/Math.cos(Math.PI/180*l)),this._point=R.subtract(u.getPixelOrigin()),this._radius=isNaN(H)?0:R.x-u.project([D,s-H]).x,this._radiusY=R.y-S.y}else{var X=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(X).x}this._updateBounds()}});function vA(s,l,u){return new Md(s,l,u)}var tr=Pr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){x(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,u=null,d=Oo,m,_,S=0,A=this._parts.length;S<A;S++)for(var R=this._parts[S],D=1,H=R.length;D<H;D++){m=R[D-1],_=R[D];var X=d(s,m,_,!0);X<l&&(l=X,u=d(s,m,_))}return u&&(u.distance=Math.sqrt(l)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return by(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=se(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new et,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return sn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],u=sn(s),d=0,m=s.length;d<m;d++)u?(l[d]=se(s[d]),this._bounds.extend(l[d])):l[d]=this._convertLatLngs(s[d]);return l},_project:function(){var s=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new N(s,s);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,u){var d=s[0]instanceof ve,m=s.length,_,S;if(d){for(S=[],_=0;_<m;_++)S[_]=this._map.latLngToLayerPoint(s[_]),u.extend(S[_]);l.push(S)}else for(_=0;_<m;_++)this._projectLatlngs(s[_],l,u)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,u,d,m,_,S,A,R;for(u=0,m=0,_=this._rings.length;u<_;u++)for(R=this._rings[u],d=0,S=R.length;d<S-1;d++)A=ky(R[d],R[d+1],s,d,!0),A&&(l[m]=l[m]||[],l[m].push(A[0]),(A[1]!==R[d+1]||d===S-2)&&(l[m].push(A[1]),m++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,u=0,d=s.length;u<d;u++)s[u]=Py(s[u],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var u,d,m,_,S,A,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(u=0,_=this._parts.length;u<_;u++)for(A=this._parts[u],d=0,S=A.length,m=S-1;d<S;m=d++)if(!(!l&&d===0)&&Ay(s,A[m],A[d])<=R)return!0;return!1}});function wA(s,l){return new tr(s,l)}tr._flat=Cy;var as=tr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xy(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=tr.prototype._convertLatLngs.call(this,s),u=l.length;return u>=2&&l[0]instanceof ve&&l[0].equals(l[u-1])&&l.pop(),l},_setLatLngs:function(s){tr.prototype._setLatLngs.call(this,s),sn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return sn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,u=new N(l,l);if(s=new ee(s.min.subtract(u),s.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,m=this._rings.length,_;d<m;d++)_=Sy(this._rings[d],s,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,u,d,m,_,S,A,R,D;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(_=0,R=this._parts.length;_<R;_++)for(u=this._parts[_],S=0,D=u.length,A=D-1;S<D;A=S++)d=u[S],m=u[A],d.y>s.y!=m.y>s.y&&s.x<(m.x-d.x)*(s.y-d.y)/(m.y-d.y)+d.x&&(l=!l);return l||tr.prototype._containsPoint.call(this,s,!0)}});function EA(s,l){return new as(s,l)}var nr=er.extend({initialize:function(s,l){x(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=P(s)?s:s.features,u,d,m;if(l){for(u=0,d=l.length;u<d;u++)m=l[u],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var _=this.options;if(_.filter&&!_.filter(s))return this;var S=Zl(s,_);return S?(S.feature=Yl(s),S.defaultOptions=S.options,this.resetStyle(S),_.onEachFeature&&_.onEachFeature(s,S),this.addLayer(S)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Zl(s,l){var u=s.type==="Feature"?s.geometry:s,d=u?u.coordinates:null,m=[],_=l&&l.pointToLayer,S=l&&l.coordsToLatLng||Vd,A,R,D,H;if(!d&&!u)return null;switch(u.type){case"Point":return A=S(d),Oy(_,s,A,l);case"MultiPoint":for(D=0,H=d.length;D<H;D++)A=S(d[D]),m.push(Oy(_,s,A,l));return new er(m);case"LineString":case"MultiLineString":return R=Ql(d,u.type==="LineString"?0:1,S),new tr(R,l);case"Polygon":case"MultiPolygon":return R=Ql(d,u.type==="Polygon"?1:2,S),new as(R,l);case"GeometryCollection":for(D=0,H=u.geometries.length;D<H;D++){var X=Zl({geometry:u.geometries[D],type:"Feature",properties:s.properties},l);X&&m.push(X)}return new er(m);case"FeatureCollection":for(D=0,H=u.features.length;D<H;D++){var ue=Zl(u.features[D],l);ue&&m.push(ue)}return new er(m);default:throw new Error("Invalid GeoJSON object.")}}function Oy(s,l,u,d){return s?s(l,u):new Gl(u,d&&d.markersInheritOptions&&d)}function Vd(s){return new ve(s[1],s[0],s[2])}function Ql(s,l,u){for(var d=[],m=0,_=s.length,S;m<_;m++)S=l?Ql(s[m],l-1,u):(u||Vd)(s[m]),d.push(S);return d}function Ud(s,l){return s=se(s),s.alt!==void 0?[y(s.lng,l),y(s.lat,l),y(s.alt,l)]:[y(s.lng,l),y(s.lat,l)]}function Xl(s,l,u,d){for(var m=[],_=0,S=s.length;_<S;_++)m.push(l?Xl(s[_],sn(s[_])?0:l-1,u,d):Ud(s[_],d));return!l&&u&&m.length>0&&m.push(m[0].slice()),m}function ls(s,l){return s.feature?i({},s.feature,{geometry:l}):Yl(l)}function Yl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Fd={toGeoJSON:function(s){return ls(this,{type:"Point",coordinates:Ud(this.getLatLng(),s)})}};Gl.include(Fd),Md.include(Fd),Kl.include(Fd),tr.include({toGeoJSON:function(s){var l=!sn(this._latlngs),u=Xl(this._latlngs,l?1:0,!1,s);return ls(this,{type:(l?"Multi":"")+"LineString",coordinates:u})}}),as.include({toGeoJSON:function(s){var l=!sn(this._latlngs),u=l&&!sn(this._latlngs[0]),d=Xl(this._latlngs,u?2:l?1:0,!0,s);return l||(d=[d]),ls(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),ss.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(u){l.push(u.toGeoJSON(s).geometry.coordinates)}),ls(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var u=l==="GeometryCollection",d=[];return this.eachLayer(function(m){if(m.toGeoJSON){var _=m.toGeoJSON(s);if(u)d.push(_.geometry);else{var S=Yl(_);S.type==="FeatureCollection"?d.push.apply(d,S.features):d.push(S)}}}),u?ls(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Dy(s,l){return new nr(s,l)}var TA=Dy,Jl=_n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,u){this._url=s,this._bounds=Se(l),x(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){De(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&rs(this._image),this},bringToBack:function(){return this._map&&is(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Se(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:we("img");if(le(l,"leaflet-image-layer"),this._zoomAnimated&&le(l,"leaflet-zoom-animated"),this.options.className&&le(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;gi(this._image,u,l)},_reset:function(){var s=this._image,l=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=l.getSize();qe(s,l.min),s.style.width=u.x+"px",s.style.height=u.y+"px"},_updateOpacity:function(){rn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),IA=function(s,l,u){return new Jl(s,l,u)},My=Jl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:we("video");if(le(l,"leaflet-image-layer"),this._zoomAnimated&&le(l,"leaflet-zoom-animated"),this.options.className&&le(l,this.options.className),l.onselectstart=g,l.onmousemove=g,l.onloadeddata=a(this.fire,this,"load"),s){for(var u=l.getElementsByTagName("source"),d=[],m=0;m<u.length;m++)d.push(u[m].src);this._url=u.length>0?d:[l.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var S=we("source");S.src=this._url[_],l.appendChild(S)}}});function SA(s,l,u){return new My(s,l,u)}var Vy=Jl.extend({_initImage:function(){var s=this._image=this._url;le(s,"leaflet-image-layer"),this._zoomAnimated&&le(s,"leaflet-zoom-animated"),this.options.className&&le(s,this.options.className),s.onselectstart=g,s.onmousemove=g}});function xA(s,l,u){return new Vy(s,l,u)}var Nn=_n.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof ve||P(s))?(this._latlng=se(s),x(this,l)):(x(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&rn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&rn(this._container,1),this.bringToFront(),this.options.interactive&&(le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(rn(this._container,0),this._removeTimeout=setTimeout(a(De,void 0,this._container),200)):De(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=se(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rs(this._container),this},bringToBack:function(){return this._map&&is(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof er){l=null;var u=this._source._layers;for(var d in u)if(u[d]._map){l=u[d];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=B(this.options.offset),u=this._getAnchor();this._zoomAnimated?qe(this._container,s.add(u)):l=l.add(s).add(u);var d=this._containerBottom=-l.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=d+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});pe.include({_initOverlay:function(s,l,u,d){var m=l;return m instanceof s||(m=new s(d).setContent(l)),u&&m.setLatLng(u),m}}),_n.include({_initOverlay:function(s,l,u,d){var m=u;return m instanceof s?(x(m,d),m._source=this):(m=l&&!d?l:new s(d,this),m.setContent(u)),m}});var eu=Nn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Nn.prototype.openOn.call(this,s)},onAdd:function(s){Nn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pr||this._source.on("preclick",yi))},onRemove:function(s){Nn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pr||this._source.off("preclick",yi))},getEvents:function(){var s=Nn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=we("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=we("div",s+"-content-wrapper",l);if(this._contentNode=we("div",s+"-content",u),No(l),Rd(this._contentNode),oe(l,"contextmenu",yi),this._tipContainer=we("div",s+"-tip-container",l),this._tip=we("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=we("a",s+"-close-button",l);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',oe(d,"click",function(m){dt(m),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var u=s.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),l.width=u+1+"px",l.whiteSpace="",l.height="";var d=s.offsetHeight,m=this.options.maxHeight,_="leaflet-popup-scrolled";m&&d>m?(l.height=m+"px",le(s,_)):$e(s,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),u=this._getAnchor();qe(this._container,l.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Ro(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+l,d=this._containerWidth,m=new N(this._containerLeft,-u-this._containerBottom);m._add(_i(this._container));var _=s.layerPointToContainerPoint(m),S=B(this.options.autoPanPadding),A=B(this.options.autoPanPaddingTopLeft||S),R=B(this.options.autoPanPaddingBottomRight||S),D=s.getSize(),H=0,X=0;_.x+d+R.x>D.x&&(H=_.x+d-D.x+R.x),_.x-H-A.x<0&&(H=_.x-A.x),_.y+u+R.y>D.y&&(X=_.y+u-D.y+R.y),_.y-X-A.y<0&&(X=_.y-A.y),(H||X)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([H,X]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),PA=function(s,l){return new eu(s,l)};pe.mergeOptions({closePopupOnClick:!0}),pe.include({openPopup:function(s,l,u){return this._initOverlay(eu,s,l,u).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),_n.include({bindPopup:function(s,l){return this._popup=this._initOverlay(eu,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof er||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){vi(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Pr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var tu=Nn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Nn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Nn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Nn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=we("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,u,d=this._map,m=this._container,_=d.latLngToContainerPoint(d.getCenter()),S=d.layerPointToContainerPoint(s),A=this.options.direction,R=m.offsetWidth,D=m.offsetHeight,H=B(this.options.offset),X=this._getAnchor();A==="top"?(l=R/2,u=D):A==="bottom"?(l=R/2,u=0):A==="center"?(l=R/2,u=D/2):A==="right"?(l=0,u=D/2):A==="left"?(l=R,u=D/2):S.x<_.x?(A="right",l=0,u=D/2):(A="left",l=R+(H.x+X.x)*2,u=D/2),s=s.subtract(B(l,u,!0)).add(H).add(X),$e(m,"leaflet-tooltip-right"),$e(m,"leaflet-tooltip-left"),$e(m,"leaflet-tooltip-top"),$e(m,"leaflet-tooltip-bottom"),le(m,"leaflet-tooltip-"+A),qe(m,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&rn(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),AA=function(s,l){return new tu(s,l)};pe.include({openTooltip:function(s,l,u){return this._initOverlay(tu,s,l,u).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),_n.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(tu,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[l](u),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof er||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(oe(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),oe(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,u,d;this._tooltip.options.sticky&&s.originalEvent&&(u=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(u),l=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(l)}});var Uy=os.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),u=this.options;if(u.html instanceof Element?(jl(l),l.appendChild(u.html)):l.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=B(u.bgPos);l.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function RA(s){return new Uy(s)}os.Default=Do;var Mo=_n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){x(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),De(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(is(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof N?s:new N(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,u=-s(-1/0,1/0),d=0,m=l.length,_;d<m;d++)_=l[d].style.zIndex,l[d]!==this._container&&_&&(u=s(u,+_));isFinite(u)&&(this.options.zIndex=u+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){rn(this._container,this.options.opacity);var s=+new Date,l=!1,u=!1;for(var d in this._tiles){var m=this._tiles[d];if(!(!m.current||!m.loaded)){var _=Math.min(1,(s-m.loaded)/200);rn(m.el,_),_<1?l=!0:(m.active?u=!0:this._onOpaqueTile(m),m.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),l&&(it(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=we("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===s?(this._levels[u].el.style.zIndex=l-Math.abs(s-u),this._onUpdateLevel(u)):(De(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[s],m=this._map;return d||(d=this._levels[s]={},d.el=we("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=l,d.origin=m.project(m.unproject(m.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,m.getCenter(),m.getZoom()),g(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var s,l,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var d=l.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)De(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,u,d){var m=Math.floor(s/2),_=Math.floor(l/2),S=u-1,A=new N(+m,+_);A.z=+S;var R=this._tileCoordsToKey(A),D=this._tiles[R];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),S>d?this._retainParent(m,_,S,d):!1)},_retainChildren:function(s,l,u,d){for(var m=2*s;m<2*s+2;m++)for(var _=2*l;_<2*l+2;_++){var S=new N(m,_);S.z=u+1;var A=this._tileCoordsToKey(S),R=this._tiles[A];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);u+1<d&&this._retainChildren(m,_,u+1,d)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,u,d){var m=Math.round(l);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var _=this.options.updateWhenZooming&&m!==this._tileZoom;(!d||_)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(s),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var u in this._levels)this._setZoomTransform(this._levels[u],s,l)},_setZoomTransform:function(s,l,u){var d=this._map.getZoomScale(u,s.zoom),m=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(l,u)).round();Z.any3d?gi(s.el,m,d):qe(s.el,m)},_resetGrid:function(){var s=this._map,l=s.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],d).x/u.x),Math.ceil(s.project([0,l.wrapLng[1]],d).x/u.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],d).y/u.x),Math.ceil(s.project([l.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,u=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),d=l.getZoomScale(u,this._tileZoom),m=l.project(s,this._tileZoom).floor(),_=l.getSize().divideBy(d*2);return new ee(m.subtract(_),m.add(_))},_update:function(s){var l=this._map;if(l){var u=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),m=this._pxBoundsToTileRange(d),_=m.getCenter(),S=[],A=this.options.keepBuffer,R=new ee(m.getBottomLeft().subtract([A,-A]),m.getTopRight().add([A,-A]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var H=this._tiles[D].coords;(H.z!==this._tileZoom||!R.contains(new N(H.x,H.y)))&&(this._tiles[D].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(s,u);return}for(var X=m.min.y;X<=m.max.y;X++)for(var ue=m.min.x;ue<=m.max.x;ue++){var Nt=new N(ue,X);if(Nt.z=this._tileZoom,!!this._isValidTile(Nt)){var st=this._tiles[this._tileCoordsToKey(Nt)];st?st.current=!0:S.push(Nt)}}if(S.sort(function(Bt,cs){return Bt.distanceTo(_)-cs.distanceTo(_)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var on=document.createDocumentFragment();for(ue=0;ue<S.length;ue++)this._addTile(S[ue],on);this._level.el.appendChild(on)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var u=this._globalTileRange;if(!l.wrapLng&&(s.x<u.min.x||s.x>u.max.x)||!l.wrapLat&&(s.y<u.min.y||s.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return Se(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,u=this.getTileSize(),d=s.scaleBy(u),m=d.add(u),_=l.unproject(d,s.z),S=l.unproject(m,s.z);return[_,S]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),u=new et(l[0],l[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),u=new N(+l[0],+l[1]);return u.z=+l[2],u},_removeTile:function(s){var l=this._tiles[s];l&&(De(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){le(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=g,s.onmousemove=g,Z.ielt9&&this.options.opacity<1&&rn(s,this.options.opacity)},_addTile:function(s,l){var u=this._getTilePos(s),d=this._tileCoordsToKey(s),m=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(m),this.createTile.length<2&&xe(a(this._tileReady,this,s,null,m)),qe(m,u),this._tiles[d]={el:m,coords:s,current:!0},l.appendChild(m),this.fire("tileloadstart",{tile:m,coords:s})},_tileReady:function(s,l,u){l&&this.fire("tileerror",{error:l,tile:u,coords:s});var d=this._tileCoordsToKey(s);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(rn(u.el,0),it(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),l||(le(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?xe(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new N(this._wrapX?p(s.x,this._wrapX):s.x,this._wrapY?p(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new ee(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function kA(s){return new Mo(s)}var us=Mo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=x(this,l),l.detectRetina&&Z.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var u=document.createElement("img");return oe(u,"load",a(this._tileOnLoad,this,l,u)),oe(u,"error",a(this._tileOnError,this,l,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(s),u},getTileUrl:function(s){var l={r:Z.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=u),l["-y"]=u}return w(this._url,i(l,this.options))},_tileOnLoad:function(s,l){Z.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,u){var d=this.options.errorTileUrl;d&&l.getAttribute("src")!==d&&(l.src=d),s(u,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(s=l-s),s+d},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=g,l.onerror=g,!l.complete)){l.src=U;var u=this._tiles[s].coords;De(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:u})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",U),Mo.prototype._removeTile.call(this,s)},_tileReady:function(s,l,u){if(!(!this._map||u&&u.getAttribute("src")===U))return Mo.prototype._tileReady.call(this,s,l,u)}});function Fy(s,l){return new us(s,l)}var By=us.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var u=i({},this.defaultWmsParams);for(var d in l)d in this.options||(u[d]=l[d]);l=x(this,l);var m=l.detectRetina&&Z.retina?2:1,_=this.getTileSize();u.width=_.x*m,u.height=_.y*m,this.wmsParams=u},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,us.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),u=this._crs,d=_e(u.project(l[0]),u.project(l[1])),m=d.min,_=d.max,S=(this._wmsVersion>=1.3&&this._crs===Ny?[m.y,m.x,_.y,_.x]:[m.x,m.y,_.x,_.y]).join(","),A=us.prototype.getTileUrl.call(this,s);return A+k(this.wmsParams,A,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(s,l){return i(this.wmsParams,s),l||this.redraw(),this}});function CA(s,l){return new By(s,l)}us.WMS=By,Fy.wms=CA;var rr=_n.extend({options:{padding:.1},initialize:function(s){x(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var u=this._map.getZoomScale(l,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,l),_=d.multiplyBy(-u).add(m).subtract(this._map._getNewPixelOrigin(s,l));Z.any3d?gi(this._container,_,u):qe(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),u=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new ee(u,u.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jy=rr.extend({options:{tolerance:0},getEvents:function(){var s=rr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");oe(s,"mousemove",this._onMouseMove,this),oe(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),oe(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){it(this._redrawRequest),delete this._ctx,De(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rr.prototype._update.call(this);var s=this._bounds,l=this._container,u=s.getSize(),d=Z.retina?2:1;qe(l,s.min),l.width=d*u.x,l.height=d*u.y,l.style.width=u.x+"px",l.style.height=u.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){rr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,u=l.next,d=l.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),u=[],d,m;for(m=0;m<l.length;m++){if(d=Number(l[m]),isNaN(d))return;u.push(d)}s.options._dashArray=u}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||xe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var u=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var u,d,m,_,S=s._parts,A=S.length,R=this._ctx;if(A){for(R.beginPath(),u=0;u<A;u++){for(d=0,m=S[u].length;d<m;d++)_=S[u][d],R[d?"lineTo":"moveTo"](_.x,_.y);l&&R.closePath()}this._fillStroke(R,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,u=this._ctx,d=Math.max(Math.round(s._radius),1),m=(Math.max(Math.round(s._radiusY),1)||d)/d;m!==1&&(u.save(),u.scale(1,m)),u.beginPath(),u.arc(l.x,l.y/m,d,0,Math.PI*2,!1),m!==1&&u.restore(),this._fillStroke(u,s)}},_fillStroke:function(s,l){var u=l.options;u.fill&&(s.globalAlpha=u.fillOpacity,s.fillStyle=u.fillColor||u.color,s.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=u.opacity,s.lineWidth=u.weight,s.strokeStyle=u.color,s.lineCap=u.lineCap,s.lineJoin=u.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&($e(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(l)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(le(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,u){this._map._fireDOMEvent(l,u||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var u=l.next,d=l.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var u=l.next,d=l.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function zy(s){return Z.canvas?new jy(s):null}var Vo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),bA={_initContainer:function(){this._container=we("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Vo("shape");le(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Vo("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;De(l),s.removeInteractiveTarget(l),delete this._layers[h(s)]},_updateStyle:function(s){var l=s._stroke,u=s._fill,d=s.options,m=s._container;m.stroked=!!d.stroke,m.filled=!!d.fill,d.stroke?(l||(l=s._stroke=Vo("stroke")),m.appendChild(l),l.weight=d.weight+"px",l.color=d.color,l.opacity=d.opacity,d.dashArray?l.dashStyle=P(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=d.lineCap.replace("butt","flat"),l.joinstyle=d.lineJoin):l&&(m.removeChild(l),s._stroke=null),d.fill?(u||(u=s._fill=Vo("fill")),m.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(m.removeChild(u),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),u=Math.round(s._radius),d=Math.round(s._radiusY||u);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){rs(s._container)},_bringToBack:function(s){is(s._container)}},nu=Z.vml?Vo:q_,Uo=rr.extend({_initContainer:function(){this._container=nu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=nu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){De(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rr.prototype._update.call(this);var s=this._bounds,l=s.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,u.setAttribute("width",l.x),u.setAttribute("height",l.y)),qe(u,s.min),u.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=nu("path");s.options.className&&le(l,s.options.className),s.options.interactive&&le(l,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){De(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,u=s.options;l&&(u.stroke?(l.setAttribute("stroke",u.color),l.setAttribute("stroke-opacity",u.opacity),l.setAttribute("stroke-width",u.weight),l.setAttribute("stroke-linecap",u.lineCap),l.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?l.setAttribute("stroke-dasharray",u.dashArray):l.removeAttribute("stroke-dasharray"),u.dashOffset?l.setAttribute("stroke-dashoffset",u.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),u.fill?(l.setAttribute("fill",u.fillColor||u.color),l.setAttribute("fill-opacity",u.fillOpacity),l.setAttribute("fill-rule",u.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,G_(s._parts,l))},_updateCircle:function(s){var l=s._point,u=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||u,m="a"+u+","+d+" 0 1,0 ",_=s._empty()?"M0 0":"M"+(l.x-u)+","+l.y+m+u*2+",0 "+m+-u*2+",0 ";this._setPath(s,_)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){rs(s._path)},_bringToBack:function(s){is(s._path)}});Z.vml&&Uo.include(bA);function $y(s){return Z.svg||Z.vml?new Uo(s):null}pe.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&zy(s)||$y(s)}});var Hy=as.extend({initialize:function(s,l){as.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Se(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function NA(s,l){return new Hy(s,l)}Uo.create=nu,Uo.pointsToPath=G_,nr.geometryToLayer=Zl,nr.coordsToLatLng=Vd,nr.coordsToLatLngs=Ql,nr.latLngToCoords=Ud,nr.latLngsToCoords=Xl,nr.getFeature=ls,nr.asFeature=Yl,pe.mergeOptions({boxZoom:!0});var Wy=bn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){oe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){De(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ko(),wd(),this._startPoint=this._map.mouseEventToContainerPoint(s),oe(document,{contextmenu:vi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=we("div","leaflet-zoom-box",this._container),le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new ee(this._point,this._startPoint),u=l.getSize();qe(this._box,l.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(De(this._box),$e(this._container,"leaflet-crosshair")),Co(),Ed(),Pe(document,{contextmenu:vi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new et(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});pe.addInitHook("addHandler","boxZoom",Wy),pe.mergeOptions({doubleClickZoom:!0});var qy=bn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,u=l.getZoom(),d=l.options.zoomDelta,m=s.originalEvent.shiftKey?u-d:u+d;l.options.doubleClickZoom==="center"?l.setZoom(m):l.setZoomAround(s.containerPoint,m)}});pe.addInitHook("addHandler","doubleClickZoom",qy),pe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gy=bn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new xr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Se(this._map.options.maxBounds);this._offsetLimit=_e(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,m=(d-l+u)%s+l-u,_=(d+l+u)%s-l-u,S=Math.abs(m+u)<Math.abs(_+u)?m:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(s){var l=this._map,u=l.options,d=!u.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),d)l.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,S=u.easeLinearity,A=m.multiplyBy(S/_),R=A.distanceTo([0,0]),D=Math.min(u.inertiaMaxSpeed,R),H=A.multiplyBy(D/R),X=D/(u.inertiaDeceleration*S),ue=H.multiplyBy(-X/2).round();!ue.x&&!ue.y?l.fire("moveend"):(ue=l._limitOffset(ue,l.options.maxBounds),xe(function(){l.panBy(ue,{duration:X,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});pe.addInitHook("addHandler","dragging",Gy),pe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ky=bn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),oe(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,u=s.scrollTop||l.scrollTop,d=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},u=this.keyCodes,d,m;for(d=0,m=u.left.length;d<m;d++)l[u.left[d]]=[-1*s,0];for(d=0,m=u.right.length;d<m;d++)l[u.right[d]]=[s,0];for(d=0,m=u.down.length;d<m;d++)l[u.down[d]]=[0,s];for(d=0,m=u.up.length;d<m;d++)l[u.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},u=this.keyCodes,d,m;for(d=0,m=u.zoomIn.length;d<m;d++)l[u.zoomIn[d]]=s;for(d=0,m=u.zoomOut.length;d<m;d++)l[u.zoomOut[d]]=-s},_addHooks:function(){oe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,u=this._map,d;if(l in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[l],s.shiftKey&&(d=B(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(B(d),u.options.maxBounds)),u.options.worldCopyJump){var m=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(m)}else u.panBy(d)}else if(l in this._zoomKeys)u.setZoom(u.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;vi(s)}}});pe.addInitHook("addHandler","keyboard",Ky),pe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zy=bn.extend({addHooks:function(){oe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=vy(s),u=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),d),vi(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),u=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,_=u?Math.ceil(m/u)*u:m,S=s._limitZoom(l+(this._delta>0?_:-_))-l;this._delta=0,this._startTime=null,S&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+S):s.setZoomAround(this._lastMousePos,l+S))}});pe.addInitHook("addHandler","scrollWheelZoom",Zy);var LA=600;pe.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Qy=bn.extend({addHooks:function(){oe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new N(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(oe(document,"touchend",dt),oe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),LA),oe(document,"touchend touchcancel contextmenu",this._cancel,this),oe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Pe(document,"touchend",dt),Pe(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new N(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var u=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});u._simulated=!0,l.target.dispatchEvent(u)}});pe.addInitHook("addHandler","tapHold",Qy),pe.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var Xy=bn.extend({addHooks:function(){le(this._map._container,"leaflet-touch-zoom"),oe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var u=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),oe(document,"touchmove",this._onTouchMove,this),oe(document,"touchend touchcancel",this._onTouchEnd,this),dt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,u=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]),m=u.distanceTo(d)/this._startDist;if(this._zoom=l.getScaleZoom(m,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&m<1||this._zoom>l.getMaxZoom()&&m>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var _=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(m===1&&_.x===0&&_.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),it(this._animRequest);var S=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=xe(S,this,!0),dt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,it(this._animRequest),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});pe.addInitHook("addHandler","touchZoom",Xy),pe.BoxZoom=Wy,pe.DoubleClickZoom=qy,pe.Drag=Gy,pe.Keyboard=Ky,pe.ScrollWheelZoom=Zy,pe.TapHold=Qy,pe.TouchZoom=Xy,n.Bounds=ee,n.Browser=Z,n.CRS=Ft,n.Canvas=jy,n.Circle=Md,n.CircleMarker=Kl,n.Class=nn,n.Control=gn,n.DivIcon=Uy,n.DivOverlay=Nn,n.DomEvent=XP,n.DomUtil=ZP,n.Draggable=xr,n.Evented=Jn,n.FeatureGroup=er,n.GeoJSON=nr,n.GridLayer=Mo,n.Handler=bn,n.Icon=os,n.ImageOverlay=Jl,n.LatLng=ve,n.LatLngBounds=et,n.Layer=_n,n.LayerGroup=ss,n.LineUtil=cA,n.Map=pe,n.Marker=Gl,n.Mixin=iA,n.Path=Pr,n.Point=N,n.PolyUtil=sA,n.Polygon=as,n.Polyline=tr,n.Popup=eu,n.PosAnimation=wy,n.Projection=hA,n.Rectangle=Hy,n.Renderer=rr,n.SVG=Uo,n.SVGOverlay=Vy,n.TileLayer=us,n.Tooltip=tu,n.Transformation=ld,n.Util=mi,n.VideoOverlay=My,n.bind=a,n.bounds=_e,n.canvas=zy,n.circle=vA,n.circleMarker=yA,n.control=Lo,n.divIcon=RA,n.extend=i,n.featureGroup=mA,n.geoJSON=Dy,n.geoJson=TA,n.gridLayer=kA,n.icon=gA,n.imageOverlay=IA,n.latLng=se,n.latLngBounds=Se,n.layerGroup=pA,n.map=YP,n.marker=_A,n.point=B,n.polygon=EA,n.polyline=wA,n.popup=PA,n.rectangle=NA,n.setOptions=x,n.stamp=h,n.svg=$y,n.svgOverlay=xA,n.tileLayer=Fy,n.tooltip=AA,n.transformation=xo,n.version=r,n.videoOverlay=SA;var OA=window.L;n.noConflict=function(){return window.L=OA,this},window.L=n})})(nE,nE.exports);function H_(){return v.jsx("div",{className:"Breadcrumbs absolute top-20 px-5 z-10",children:v.jsx("ul",{children:v.jsx("nav",{class:"flex","aria-label":"Breadcrumb",children:v.jsxs("ol",{class:"inline-flex items-center space-x-1 md:space-x-3",children:[v.jsx("li",{class:"inline-flex items-center",children:v.jsx(qn,{to:"/home",children:v.jsx("a",{href:"#",class:"inline-flex items-center text-sm font-medium text-gray-900 hover:text-blue-600 dark:text-gray-900 ",children:"Area Test"})})}),v.jsx("li",{children:v.jsxs("div",{class:"flex items-center",children:[v.jsx("svg",{class:"w-3 h-3 text-gray-900 mx-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:v.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})}),v.jsx(qn,{to:"/grow",children:v.jsx("a",{href:"#",class:"ml-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ml-2 dark:text-gray-900 ",children:"Grow"})})]})}),v.jsx("li",{"aria-current":"page",children:v.jsxs("div",{class:"flex items-center",children:[v.jsx("svg",{class:"w-3 h-3 text-gray-900 mx-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:v.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})}),v.jsx(qn,{to:"/sell",children:v.jsx("a",{href:"#",class:"ml-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ml-2 dark:text-gray-900 ",children:"Sell"})})]})})]})})})})}function lB(){return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex flex-col gap-20",children:[v.jsx(ed,{}),v.jsx(H_,{}),v.jsx(aB,{})]})})}function uB(){const t=()=>{"Notification"in window&&Notification.requestPermission().then(n=>{n==="granted"&&new Notification("Newsletter Subscription",{body:"You have subscribed to our newsletter!"})})},e={backgroundImage:"url('https://www.science.org/do/10.1126/science.adf6990/abs/_20221107_on_china_rice.jpg')",backgroundSize:"cover",backgroundPosition:"center"};return v.jsxs("div",{className:"welcomepage",children:[v.jsx("nav",{className:"welcomenav border-gray-200",children:v.jsxs("div",{className:"flex flex-wrap justify-between items-center mx-auto max-w-screen-xl p-4",children:[v.jsxs("a",{href:"https://flowbite.com",className:"flex items-center",children:[v.jsx("img",{src:"https://github.com/yasiru2077/images1/blob/main/%E2%80%94Pngtree%E2%80%94agriculture%20logo%20template%20design_5226227.png?raw=true",className:"logoimg h-8 mr-3",alt:"Flowbite Logo"}),v.jsx("span",{className:"companyname self-center text-2xl font-semibold whitespace-nowrap text-white",children:"AgroTeach"})]}),v.jsx("div",{className:"flex items-center",children:v.jsx(qn,{to:"login",className:"font-bold text-2xl text-black hover:underline",children:"Login"})})]})}),v.jsx("img",{className:"h-auto max-w-full",src:"https://www.terviva.com/wp-content/uploads/2023/09/Hero@2x-1-scaled.jpg",alt:"image description"}),v.jsxs("div",{className:"p-10 flex flex-col gap-5",children:[v.jsx("h1",{className:"mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl",children:"Planting Millions of Trees to Feed Billions of People"}),v.jsx("p",{className:"para1 text-center",children:"Terviva is an agricultural innovation company partnering with farmers to grow and harvest pongamia, a climate-resilient tree which helps to reforest land and revitalize communities."}),v.jsx("p",{className:"para2 text-center",children:"After more than a decade of innovation, we've created an equitable and transparent supply chain where we transform pongamia beans into feedstock for biofuel and sustainable food ingredients called Ponova."}),v.jsxs(qn,{className:"blogLink text-center",children:[v.jsx("i",{className:"fa-regular fa-circle-play"})," LEARN MORE"]})]}),v.jsxs("div",{className:"py-16 relative transition-all duration-300 rounded-lg cursor-pointer filter grayscale hover:grayscale-0",style:e,children:[v.jsx("div",{className:"bg-black bg-opacity-50 absolute inset-0"}),v.jsx("div",{className:"container mx-auto px-4 relative z-10",children:v.jsxs("div",{className:"max-w-3xl mx-auto text-center text-white",children:[v.jsx("h2",{className:"text-3xl font-semibold text-gray-100 mb-4",children:"About Us"}),v.jsx("p",{className:"text-gray-100 leading-relaxed mt-4",children:"Suwandel Rice is ideally suited to address today's pressing environmental challenges. It thrives in diverse climates, enriches soil health, and conserves water resources, all while flourishing on land where traditional crops face limitations. This contributes to the preservation of natural ecosystems, prevents deforestation, and promotes the rejuvenation of agricultural lands and communities across the globe."}),v.jsx("p",{className:"text-gray-100 leading-relaxed mt-4",children:'With over a decade of relentless innovation, AgroTech has developed a groundbreaking process to harvest and transform Suwandel Rice into premium food products, which we proudly call "Suwanova." Our commitment to a transparent and equitable supply chain spans from the cultivation of non-GMO Suwandel Rice in Sri Lanka to the promotion of regenerative land management practices in various regions, including Hawaii, Florida, and Australia.'}),v.jsx("p",{className:"text-gray-100 leading-relaxed mt-4",children:"At AgroTech, we firmly believe in offering a superior approach to nourishing the world's growing population. We are passionate about creating local impact that can catalyze positive change on a global scale."})]})})]}),v.jsxs("div",{className:"hiring flex flex-col p-6 gap-5 items-center text-center",children:[v.jsx("h3",{className:"text-4xl text-center",children:"We're Hiring!"}),v.jsx("p",{children:"At AgroTech, we're at the forefront of transforming the plant protein and oil markets with Suwandel Rice. We are on a mission to revolutionize agriculture by cultivating Suwandel Rice to feed billions of people sustainably. We are looking for individuals who are not just employees but passionate advocates of our vision and values."}),v.jsx("button",{onClick:t,className:"bg-green-800 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-4",children:"Subscribe to Newsletter"})]})]})}function cB(){const t=F.useRef(null),e=()=>{const r=document.querySelectorAll(".article");if(r.length>0){const i=Array.from(r).map(a=>a.textContent).join(`
`),o=new SpeechSynthesisUtterance(i);window.speechSynthesis.cancel(),t.current=o,window.speechSynthesis.speak(o)}},n=()=>{t.current&&window.speechSynthesis.cancel()};return v.jsxs(v.Fragment,{children:[v.jsx(ed,{}),v.jsx(H_,{}),v.jsx("div",{className:"bg-gradient-to-b p-8 min-h-screen relative top-20",children:v.jsxs("div",{className:"max-w-3xl mx-auto p-6 rounded-lg shadow-lg bg-white bg-opacity-90",children:[v.jsx("div",{className:"flex  items-center",children:v.jsx("img",{className:"w-full",src:"https://media.istockphoto.com/id/1365112443/vector/rice-field-graphic-black-white-landscape-sketch-illustration-vector.jpg?s=612x612&w=0&k=20&c=TmgX6LwNfoD2ygIljE5IQ6VrEfwAmxR0DvVfwwQnliw=",alt:""})}),v.jsxs("div",{className:"flex flex-row pt-2",children:[v.jsxs("button",{onClick:e,className:"bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-black dark:text-white",children:[v.jsx("i",{class:"fa-solid fa-play"})," READ"]}),v.jsxs("button",{onClick:n,className:"bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-black dark:text-white",children:[v.jsx("i",{class:"fa-solid fa-stop"})," STOP"]})]}),v.jsxs("div",{className:"article",children:[v.jsx("h1",{className:"text-4xl font-semibold mb-6",children:"A Comprehensive Guide on How to Grow Rice"}),v.jsxs("p",{className:"text-gray-800 text-lg",children:[v.jsx("strong",{children:"Introduction:"})," Rice, one of the world's most widely consumed staple foods, is a versatile grain that can be grown in a variety of climates. It serves as the primary source of sustenance for millions of people worldwide. Learning how to grow rice can be a rewarding experience, whether you have a small backyard garden or a larger agricultural field. This guide will walk you through the steps to successfully cultivate this essential crop."]}),v.jsx("h2",{className:"text-2xl font-semibold mt-8",children:"Choosing the Right Rice Variety"}),v.jsx("p",{className:"text-gray-800 text-lg",children:"The first step in growing rice is selecting the right variety. Rice varieties can be broadly categorized into three types: short-grain, medium-grain, and long-grain. The choice largely depends on your location and preferences. Short-grain rice is typically grown in cooler climates, while long-grain rice thrives in warmer regions."}),v.jsx("h2",{className:"text-2xl font-semibold mt-8",children:"Preparing the Rice Field"}),v.jsxs("p",{className:"text-gray-800 text-lg",children:[v.jsx("strong",{children:"Select the Right Location:"})," Rice requires a lot of water and sunlight. Choose a well-drained, level field with access to a consistent water source.",v.jsx("br",{}),v.jsx("strong",{children:"Tillage:"})," Plow the field to break up the soil and prepare it for planting. Ensure the soil is loose and well-aerated.",v.jsx("br",{}),v.jsx("strong",{children:"Levelling:"})," Level the field evenly to ensure uniform water distribution during the growing season. Proper levelling helps prevent waterlogging in some areas and drought in others."]}),v.jsx("h2",{className:"text-2xl font-semibold mt-8",children:"Conclusion"}),v.jsx("p",{className:"text-gray-800 text-lg",children:"Growing rice can be a fulfilling endeavor, but it requires careful planning, water management, and attention to detail. By selecting the right rice variety, preparing the field adequately, and following the steps outlined in this guide, you can cultivate a healthy rice crop that can contribute to your food security or even provide surplus for sale. Remember that rice cultivation may require adjustments based on your specific climate and local conditions, so continuous learning and adaptation are key to successful rice farming."})]})]})})]})}function hB(){const{currentUser:t}=F.useContext(Jh),[e,n]=F.useState(""),[r,i]=F.useState(""),[o,a]=F.useState(""),[c,h]=F.useState(""),[f,p]=F.useState(""),[g,y]=F.useState(!1),I=vl(),E=async x=>{if(x.preventDefault(),parseInt(e)<200){p("Minimum quantity must be 200kg");return}if(parseFloat(r)>150){p("Maximum price per kg must be Rs. 150");return}p(""),y(!0);try{const k=await OF(Bx(Yc,"sales"),{sellerName:t.displayName,riceType:"Suwadell",quantity:parseInt(e),price:parseFloat(r),address:o,phoneNumber:c,timestamp:DF()});console.log("Document written with ID: ",k.id),n(""),i(""),a(""),h(""),I(`/sellConfor?sellerName=${t.displayName}&riceType=Suwadell&quantity=${e}&price=${r}&address=${o}&phoneNumber=${c}`)}catch{p("Submission failed. Please try again.")}finally{y(!1)}};return v.jsxs("div",{className:"sellgoods",children:[v.jsx(ed,{}),v.jsx(H_,{}),v.jsx("br",{}),v.jsx("div",{className:"sellMain relative top-10  min-h-screen flex flex-col items-center justify-center",children:v.jsxs("form",{className:" p-6 md:p-8 pt-10 lg:p-10 rounded-lg  md:max-w-md w-full ",onSubmit:E,children:[v.jsx("h2",{className:"text-2xl  font-semibold  mb-4 text-gray-800",children:"Sell Rice to the Company"}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Seller Name:"}),v.jsx("input",{type:"text",readOnly:!0,value:t.displayName,className:"w-full bg-gray-100 px-4 py-2 rounded-lg border focus:outline-none focus:border-blue-500",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Rice Type:"}),v.jsx("input",{type:"text",readOnly:!0,value:"Suwadell",className:"w-full bg-gray-100 px-4 py-2 rounded-lg border focus:outline-none focus:border-blue-500",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Quantity (kg):"}),v.jsx("input",{type:"number",value:e,onChange:x=>n(x.target.value),className:"w-full bg-gray-100 px-4 py-2 rounded-lg border focus:outline-none focus:border-blue-500",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Price per kg:"}),v.jsx("input",{type:"number",value:r,onChange:x=>i(x.target.value),className:"w-full bg-gray-100 px-4 py-2 rounded-lg border focus:outline-none focus:border-blue-500",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Address:"}),v.jsx("input",{type:"text",value:o,onChange:x=>a(x.target.value),className:"w-full bg-gray-100 px-4 py-2 rounded-lg border focus:outline-none focus:border-blue-500",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Phone Number:"}),v.jsx("input",{type:"tel",value:c,onChange:x=>h(x.target.value),className:"w-full bg-gray-100 px-4 py-2 rounded-lg border focus:outline-none focus:border-blue-500",required:!0})]}),f&&v.jsx("p",{className:"text-red-500 mb-4",children:f}),v.jsx("button",{type:"submit",disabled:g,className:"w-full bg-green-700 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg focus:outline-none focus:ring focus:ring-blue-300",children:g?"Submitting...":"Submit"})]})})]})}function dB(){const t=mo(),e=new URLSearchParams(t.search),n=e.get("sellerName"),r=e.get("riceType"),i=e.get("quantity"),o=e.get("price"),a=e.get("address"),c=e.get("phoneNumber"),[h,f]=F.useState(0),p=async()=>{try{const g=xF(Bx(Yc,"sales"),PF("sellerName","==",n)),y=await LF(g);let I=0;y.forEach(E=>{const x=E.data();I+=x.quantity}),f(I)}catch(g){console.error("Error fetching data:",g)}};return F.useEffect(()=>{p()},[n]),v.jsx("div",{children:v.jsxs("div",{className:" relative top-10 bg-white p-4 md:p-6 rounded-lg shadow-lg mx-auto mr-5 ml-5 max-w-md",children:[v.jsx("div",{className:"text-green-500 text-4xl md:text-5xl text-center mb-4 md:mb-6",children:v.jsx("i",{className:"fa-solid fa-circle-check"})}),v.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center mb-2 md:mb-4",children:"Sales Confirmation"}),v.jsxs("div",{className:"mb-2 md:mb-4",children:[v.jsx("p",{className:"font-semibold",children:"Seller Name:"}),v.jsx("p",{children:n})]}),v.jsxs("div",{className:"mb-2 md:mb-4",children:[v.jsx("p",{className:"font-semibold",children:"Rice Type:"}),v.jsx("p",{children:r})]}),v.jsxs("div",{className:"mb-2 md:mb-4",children:[v.jsx("p",{className:"font-semibold",children:"Quantity:"}),v.jsxs("p",{children:[i," kg"]})]}),v.jsxs("div",{className:"mb-2 md:mb-4",children:[v.jsx("p",{className:"font-semibold",children:"Price per kg:"}),v.jsxs("p",{children:["Rs. ",o]})]}),v.jsxs("div",{className:"mb-2 md:mb-4",children:[v.jsx("p",{className:"font-semibold",children:"Address:"}),v.jsx("p",{children:a})]}),v.jsxs("div",{className:"mb-2 md:mb-4",children:[v.jsx("p",{className:"font-semibold",children:"Phone Number:"}),v.jsx("p",{children:c})]}),v.jsxs("div",{className:"mb-2 md:mb-4",children:[v.jsxs("p",{className:"font-semibold",children:["Total Quantity Sold by ",n,":"]}),v.jsxs("p",{children:[h," kg"]})]}),v.jsx(qn,{to:"/home",children:v.jsx("button",{className:"text-white bg-green-500 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:hover:bg-green-400 focus:outline-none ",children:"Done"})})]})})}function fB(){return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"AboutOri mb-16",children:v.jsx(ed,{})}),v.jsx("div",{className:"bg-gray-100 min-h-screen p-6",children:v.jsxs("div",{className:"AboutOri  shadow-xl max-w-3xl mx-auto bg-white p-8 rounded-lg",children:[v.jsx("h1",{className:"text-4xl font-semibold text-center mb-6",children:"Suwadell Rice Agrotech: Innovating Sustainability"}),v.jsxs("div",{className:"text-lg mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"About Us"}),v.jsx("p",{children:"Welcome to Suwadell Rice Agrotech, your partner in sustainable, innovative, and high-quality rice production. At Suwadell, we are passionate about revolutionizing the agro-industry through cutting-edge technology, eco-friendly practices, and a deep-rooted commitment to serving our community."})]}),v.jsxs("div",{className:"text-lg mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Our Story"}),v.jsx("p",{children:"Founded in [Year], Suwadell Rice Agrotech has been a pioneer in the rice farming and processing industry. Our journey began with a vision to create a sustainable agro-enterprise that would not only meet the rising demands for rice but also contribute to the well-being of local communities."})]}),v.jsxs("div",{className:"text-lg mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Our Commitment"}),v.jsx("ul",{className:"list-disc pl-6",children:v.jsxs("li",{children:[v.jsx("strong",{children:"Sustainability:"})," We are dedicated to responsible farming practices. Our fields are a testament to sustainable agriculture, where we employ water-efficient techniques, natural fertilizers, and eco-friendly pest control measures."]})})]}),v.jsxs("div",{className:"text-lg mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Our Products"}),v.jsx("p",{children:"Suwadell Rice Agrotech offers a range of rice products, including [list specific product names and variations]. Our rice is renowned for its exceptional taste, nutritional value, and versatility in various culinary applications."})]}),v.jsxs("div",{className:"text-lg mb-6",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Get in Touch"}),v.jsx("p",{children:"We appreciate your interest in Suwadell Rice Agrotech. If you have any questions, feedback, or would like to explore business partnerships, please don't hesitate to contact us. We are always here to assist you."})]}),v.jsxs("div",{className:"text-lg",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Join Us"}),v.jsx("p",{children:"Join us on our journey to redefine the agro-industry through sustainable practices, technological advancements, and a passion for quality. At Suwadell Rice Agrotech, we believe that the future of rice is not just in our fields but in every bowl it graces. Thank you for being a part of this exciting journey with us."})]})]})})]})}function pB(){const{currentUser:t}=F.useContext(Jh),e=({children:n})=>t?n:v.jsx(qO,{to:"/login"});return v.jsx(eD,{children:v.jsxs(KO,{children:[v.jsx(ir,{path:"/",element:v.jsx(uB,{})}),v.jsx(ir,{path:"/login",element:v.jsx(UF,{})}),v.jsx(ir,{path:"/register",element:v.jsx(BF,{})}),v.jsx(ir,{path:"/home",element:v.jsx(e,{children:v.jsx(lB,{})})}),v.jsx(ir,{path:"/grow",element:v.jsx(cB,{})}),v.jsx(ir,{path:"/sell",element:v.jsx(hB,{})}),v.jsx(ir,{path:"/sellConfor",element:v.jsx(dB,{})}),v.jsx(ir,{path:"/about",element:v.jsx(fB,{})})]})})}"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(()=>{Notification.permission!=="granted"&&Notification.requestPermission().then(t=>{t==="granted"&&console.log("permission granted")})});$f.createRoot(document.getElementById("root")).render(v.jsx(jF,{children:v.jsx(dE.StrictMode,{children:v.jsx(pB,{})})}));
